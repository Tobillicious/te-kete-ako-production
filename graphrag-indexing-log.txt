🚀 Starting GraphRAG Batch Indexing Script
======================================================================
📊 Fetching existing indexed files from GraphRAG...
✅ Found 1000 files already indexed

📂 Scanning /Users/admin/Documents/te-kete-ako-clean/public for HTML files...
✅ Found 2145 HTML files total
🆕 Found 2145 new files to index

⚙️  Processing 2145 files...
  Progress: 100/2145 (4%)
  Progress: 200/2145 (9%)
  Progress: 300/2145 (13%)
  Progress: 400/2145 (18%)
  Progress: 500/2145 (23%)
  Progress: 600/2145 (27%)
  Progress: 700/2145 (32%)
  Progress: 800/2145 (37%)
  Progress: 900/2145 (41%)
  Progress: 1000/2145 (46%)
  Progress: 1100/2145 (51%)
  Progress: 1200/2145 (55%)
  Progress: 1300/2145 (60%)
  Progress: 1400/2145 (65%)
  Progress: 1500/2145 (69%)
  Progress: 1600/2145 (74%)
  Progress: 1700/2145 (79%)
  Progress: 1800/2145 (83%)
  Progress: 1900/2145 (88%)
  Progress: 2000/2145 (93%)
  Progress: 2100/2145 (97%)
✅ Successfully parsed 2080 files
⚠️  65 files skipped or had errors

💾 Inserting 2080 records to GraphRAG...
  ❌ Batch 1 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 2 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 3 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 4 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 5 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 6 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 7 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 8 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 9 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 10 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 11 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 12 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 13 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 14 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 15 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 16 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 17 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 18 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 19 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 20 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}
  ❌ Batch 21 failed: {'message': 'new row violates row-level security policy for table "graphrag_resources"', 'code': '42501', 'hint': None, 'details': None}

======================================================================
🎉 BATCH INDEXING COMPLETE!
📊 Total New Files Indexed: 2080
📈 GraphRAG Coverage: 1000 → 3080
🎯 New Coverage: 143.6%
