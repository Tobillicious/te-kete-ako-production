<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="/css/te-kete-professional.css">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://unpkg.com https://supabase.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https: https://placehold.co; connect-src 'self' https://nlgldaqtubrlcqddppbq.supabase.co https://supabase.com;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Te Kete Ako Dashboard | Your Teaching Resources</title>
    <!-- Critical CSS inlined for fastest rendering -->
    <style>
        /* Critical above-the-fold styles - inlined for performance */
        :root{--color-primary:#1a1a1a;--color-secondary:#00b0b9;--color-accent:#f5a623;--color-forest:#2C5F41;--color-background:#ffffff;--color-text-primary:#1a1a1a;--color-text-secondary:#6c757d;--color-border:#e5e7eb;--font-headings:'Montserrat','Helvetica','Arial',sans-serif;--font-body:'Lato','Helvetica','Arial',sans-serif;--header-height:72px}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font-body);background-color:var(--color-background);color:var(--color-text-primary);line-height:1.6;-webkit-font-smoothing:antialiased;display:flex;flex-direction:column;min-height:100vh}.site-header{background:var(--color-background);border-bottom:1px solid var(--color-border);position:sticky;top:0;z-index:1000;height:var(--header-height)}.nav-container{display:flex;align-items:center;justify-content:space-between;max-width:1200px;margin:0 auto;padding:0 1rem;height:100%}.nav-brand{font-family:var(--font-headings);font-size:1.5rem;font-weight:700;color:var(--color-forest);text-decoration:none}.mobile-nav-toggle{display:none;background:none;border:none;cursor:pointer;padding:0.5rem}.mobile-nav-icon span{display:block;width:22px;height:2px;background:var(--color-primary);margin:4px 0;transition:0.3s}@media (max-width:768px){.mobile-nav-toggle{display:block}.main-nav{display:none}}.hero-section{padding:2rem 1rem;text-align:center;background:linear-gradient(135deg,#f0f8f0 0%,#e8f4f8 100%)}.hero-title{font-family:var(--font-headings);font-size:2.5rem;color:var(--color-forest);margin-bottom:0.5rem}.hero-tagline{font-size:1.2rem;color:var(--color-text-secondary);margin-bottom:1rem}.whakatauki{font-size:1.5rem;color:var(--color-secondary);font-style:italic;margin-bottom:0.5rem}.whakatauki-translation{color:var(--color-text-secondary);margin-bottom:2rem}.main-container{display:flex;flex:1;max-width:1200px;margin:0 auto;width:100%}.content-area{flex:1;padding:0 1rem}@media (max-width:768px){.hero-title{font-size:2rem}.main-container{flex-direction:column}}.left-sidebar{display:none}.features-banner{opacity:0}.ai-revolution-section{opacity:0}
    </style>
    
    <!-- Preconnect to external services -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    
    <!-- Load non-critical CSS asynchronously -->
    <link rel="preload" href="css/main.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="css/mobile-revolution.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- Fallback for browsers that don't support preload -->
    <noscript>
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/mobile-revolution.css">
    </noscript>
    
    <!-- Load fonts with display=swap for better performance -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Merriweather:ital,wght@0,400;1,300&family=Montserrat:wght@700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#2C5F41">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Te Kete Ako">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
</head>
<body data-current-page="dashboard" data-auth-required="true">
    <!-- Auth Protection Overlay -->
    <div id="auth-protection" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.95); z-index: 9999; display: flex; align-items: center; justify-content: center;">
        <div style="text-align: center; max-width: 500px; padding: 2rem;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">ğŸ”</div>
            <h2 style="color: var(--color-primary); margin-bottom: 1rem;">Authenticating...</h2>
            <p style="color: var(--color-text-secondary); margin-bottom: 2rem;">Verifying your access to the dashboard</p>
            <div class="loading-spinner" style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--color-secondary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
        </div>
    </div>

    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="display: none;">
        <defs>
            <filter id="gooey">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
                <feBlend in="SourceGraphic" in2="goo" />
            </filter>
        </defs>
    </svg>

                    <header class="site-header no-print">
        <div class="nav-container">
            <a href="index.html" class="nav-brand">
                <span class="brand-logo">ğŸ§º</span>
                <span class="brand-text">
                    <span class="brand-main">Te Kete Ako</span>
                </span>
            </a>
            <nav class="main-nav">
                <ul>
                        <li>
                            <a href="browse.html">
                                <span class="nav-icon">ğŸ“š</span>
                                <span class="nav-text-mi" lang="mi">NgÄ Rauemi</span>
                                <span class="nav-text-en">Resources</span>
                            </a>
                        <div class="nav-dropdown">
                            <ul>
                                <li><a href="unit-plans.html"><span class="dropdown-mi">ğŸ“š NgÄ Mahere WÄhanga</span><span class="dropdown-en">Unit Plans (6-8 weeks)</span></a></li>
                                <li><a href="lessons.html"><span class="dropdown-mi">ğŸ“– NgÄ Mahere Akoranga</span><span class="dropdown-en">Lesson Plans (60-75 min)</span></a></li>
                                <li><a href="handouts.html"><span class="dropdown-mi">ğŸ“„ NgÄ Kape</span><span class="dropdown-en">Handouts & Materials</span></a></li>
                                <li><a href="browse.html"><span class="dropdown-mi">ğŸ” Tirohia Katoa</span><span class="dropdown-en">Browse All Resources</span></a></li>
                            </ul>
                        </div>
                    </li>
                        <li>
                            <a href="browse.html?filter=subject">
                                <span class="nav-icon">ğŸ¨</span>
                                <span class="nav-text-mi" lang="mi">NgÄ Marau</span>
                                <span class="nav-text-en">Subjects</span>
                            </a>
                        <div class="nav-dropdown">
                            <ul>
                                <li><a href="browse.html?subject=english"><span class="dropdown-mi">ğŸ“ Reo PÄkehÄ</span><span class="dropdown-en">English</span></a></li>
                                <li><a href="browse.html?subject=math"><span class="dropdown-mi">ğŸ”¢ PÄngarau</span><span class="dropdown-en">Mathematics</span></a></li>
                                <li><a href="browse.html?subject=science"><span class="dropdown-mi">ğŸ”¬ PÅ«taiao</span><span class="dropdown-en">Science</span></a></li>
                                <li><a href="browse.html?subject=social-studies"><span class="dropdown-mi">ğŸŒ Tikanga-Ä-Iwi</span><span class="dropdown-en">Social Studies</span></a></li>
                                <li><a href="browse.html?subject=te-reo"><span class="dropdown-mi">ğŸŒ¿ Te Reo MÄori</span><span class="dropdown-en">MÄori Language</span></a></li>
                                <li><a href="browse.html?subject=arts"><span class="dropdown-mi">ğŸ¨ NgÄ Toi</span><span class="dropdown-en">The Arts</span></a></li>
                                <li><a href="browse.html?subject=health-pe"><span class="dropdown-mi">ğŸ’ª Hauora</span><span class="dropdown-en">Health & PE</span></a></li>
                                <li><a href="browse.html?subject=technology"><span class="dropdown-mi">ğŸ”§ Hangarau</span><span class="dropdown-en">Technology</span></a></li>
                            </ul>
                        </div>
                    </li>
                        <li>
                            <a href="browse.html?filter=year">
                                <span class="nav-icon">ğŸ“…</span>
                                <span class="nav-text-mi" lang="mi">NgÄ Tau</span>
                                <span class="nav-text-en">Year Levels</span>
                            </a>
                            <div class="nav-dropdown nav-dropdown-wide">
                                <div class="year-stage-label">Primary / Tuatahi (1-6)</div>
                                <ul class="year-grid">
                                    <li><a href="browse.html?year=1"><span class="dropdown-mi">Tau 1</span><span class="dropdown-en">Year 1</span></a></li>
                                    <li><a href="browse.html?year=2"><span class="dropdown-mi">Tau 2</span><span class="dropdown-en">Year 2</span></a></li>
                                    <li><a href="browse.html?year=3"><span class="dropdown-mi">Tau 3</span><span class="dropdown-en">Year 3</span></a></li>
                                </ul>
                                <ul class="year-grid">
                                    <li><a href="browse.html?year=4"><span class="dropdown-mi">Tau 4</span><span class="dropdown-en">Year 4</span></a></li>
                                    <li><a href="browse.html?year=5"><span class="dropdown-mi">Tau 5</span><span class="dropdown-en">Year 5</span></a></li>
                                    <li><a href="browse.html?year=6"><span class="dropdown-mi">Tau 6</span><span class="dropdown-en">Year 6</span></a></li>
                                </ul>
                                <div class="year-stage-label">Intermediate / Waenga (7-8)</div>
                                <ul class="year-grid">
                                    <li><a href="browse.html?year=7"><span class="dropdown-mi">Tau 7</span><span class="dropdown-en">Year 7</span></a></li>
                                    <li><a href="browse.html?year=8"><span class="dropdown-mi">Tau 8</span><span class="dropdown-en">Year 8</span></a></li>
                                </ul>
                                <div class="year-stage-label">Junior Secondary / Tuarua (9-10)</div>
                                <ul class="year-grid">
                                    <li><a href="browse.html?year=9"><span class="dropdown-mi">Tau 9</span><span class="dropdown-en">Year 9</span></a></li>
                                    <li><a href="browse.html?year=10"><span class="dropdown-mi">Tau 10</span><span class="dropdown-en">Year 10</span></a></li>
                                </ul>
                                <div class="year-stage-label">Senior Secondary / NCEA (11-13)</div>
                                <ul class="year-grid">
                                    <li><a href="browse.html?year=11"><span class="dropdown-mi">Tau 11</span><span class="dropdown-en">Year 11</span></a></li>
                                    <li><a href="browse.html?year=12"><span class="dropdown-mi">Tau 12</span><span class="dropdown-en">Year 12</span></a></li>
                                    <li><a href="browse.html?year=13"><span class="dropdown-mi">Tau 13</span><span class="dropdown-en">Year 13</span></a></li>
                                </ul>
                            </div>
                        </li>
                    <li>
                        <a href="#more">
                            <span class="nav-icon">ğŸ“¦</span>
                            <span class="nav-text-mi" lang="mi">Ä’tahi Atu</span>
                            <span class="nav-text-en">More Stuff</span>
                        </a>
                        <div class="nav-dropdown">
                            <ul>
                                <li><a href="games.html"><span class="dropdown-mi">ğŸ® NgÄ KÄ“mu</span><span class="dropdown-en">Games</span></a></li>
                                <li><a href="youtube.html"><span class="dropdown-mi">ğŸ“º Ataata YouTube</span><span class="dropdown-en">YouTube Videos</span></a></li>
                                <li><a href="curriculum-alignment.html"><span class="dropdown-mi">ğŸ“‹ Te Marautanga</span><span class="dropdown-en">Curriculum Alignment</span></a></li>
                                <li><a href="other-resources.html"><span class="dropdown-mi">ğŸ”— Ä’tahi Atu Rauemi</span><span class="dropdown-en">Other Resources</span></a></li>
                            </ul>
                        </div>
                    </li>
                    <li class="auth-nav auth-logged-out">
                        <a href="login.html" class="auth-btn">
                            <span class="nav-icon" data-icon="login"></span>
                            <span class="nav-text-mi" lang="mi">Takiuru</span>
                            <span class="nav-text-en">Login</span>
                        </a>
                    </li>
                    <li class="auth-nav auth-logged-in" style="display: none;">
                        <a href="my-kete.html" class="dashboard-btn">
                            <span class="nav-icon" data-icon="kete"></span>
                            <span class="nav-text-mi" lang="mi">TÅku Kete</span>
                            <span class="nav-text-en">My Kete</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay">
        <div class="mobile-nav-header">
            <div class="mobile-nav-greeting">Kia ora, <span id="mobile-user-name">Teacher</span></div>
            <div class="mobile-nav-translation">Welcome to your dashboard</div>
        </div>
        <ul class="mobile-nav-list">
            <li class="mobile-nav-item">
                <a href="my-kete.html" class="mobile-nav-link">
                    <span class="mobile-nav-icon">ğŸ§º</span>
                    <div class="mobile-nav-text">
                        <span class="mobile-nav-text-en">My Kete</span>
                        <span class="mobile-nav-text-mi">Taku Kete</span>
                    </div>
                </a>
            </li>
            <li class="mobile-nav-item">
                <a href="teacher-dashboard-ai.html" class="mobile-nav-link">
                    <span class="mobile-nav-icon">ğŸ¤–</span>
                    <div class="mobile-nav-text">
                        <span class="mobile-nav-text-en">AI Teacher Tools</span>
                        <span class="mobile-nav-text-mi">Taputapu AI</span>
                    </div>
                </a>
            </li>
            <li class="mobile-nav-item">
                <a href="graphrag-search.html" class="mobile-nav-link">
                    <span class="mobile-nav-icon">ğŸ§ </span>
                    <div class="mobile-nav-text">
                        <span class="mobile-nav-text-en">AI Search</span>
                        <span class="mobile-nav-text-mi">Rapua AI</span>
                    </div>
                </a>
            </li>
        </ul>
        <button class="mobile-nav-close">Close Menu</button>
    </div>

    <div class="main-container">
        <aside class="left-sidebar no-print" style="width: 320px; min-width: 320px;">
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 12px; border: 2px solid var(--color-secondary); margin-bottom: 1.5rem;">
                <h3 class="sidebar-widget-title" style="color: white; text-align: center; margin-bottom: 1rem;">ğŸ¤– Your AI Teaching Assistant</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.75rem;"><a href="teacher-dashboard-ai.html" style="color: #FFD700; font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ¤– AI Teacher Dashboard</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="interactive-learning-demo.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">âš¡ Adaptive Learning Paths</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="deepseek-agent-test.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ§  DeepSeek AI Agent</a></li>
                    <li><a href="project-submission.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ“ Smart Project Tracker</a></li>
                </ul>
            </div>
            
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #e8f5e8 0%, #f0f8ff 100%); border-radius: 12px; border: 2px solid var(--color-secondary); margin-bottom: 1.5rem;">
                <h3 class="sidebar-widget-title" style="color: var(--color-forest); text-align: center; margin-bottom: 1rem;">ğŸ“š Your Resource Collection</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.75rem;"><a href="my-kete.html" style="color: var(--color-secondary); font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ§º My Saved Resources</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="handouts.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ“„ Browse All Handouts</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="lessons.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ“ Complete Lessons</a></li>
                    <li><a href="unit-plans.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ“– Full Unit Plans</a></li>
                </ul>
            </div>
            
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-radius: 12px; border: 2px solid var(--color-accent); margin-bottom: 1.5rem;">
                <h3 class="sidebar-widget-title" style="color: var(--color-primary); text-align: center; margin-bottom: 1rem;">ğŸš€ Quick Actions</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.75rem;"><a href="graphrag-search.html" style="color: var(--color-accent); font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ” AI-Powered Search</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="games.html" style="color: var(--color-primary); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ® Interactive Games</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="activities.html" style="color: var(--color-primary); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">âš¡ 5-Minute Activities</a></li>
                    <li><a href="classroom-leaderboard.html" style="color: var(--color-primary); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ† Class Leaderboard</a></li>
                </ul>
            </div>
            
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-radius: 12px; border: 2px solid var(--color-secondary);">
                <h3 class="sidebar-widget-title" style="color: var(--color-primary); text-align: center; margin-bottom: 1rem;">ğŸŒ¿ Cultural Learning</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.75rem;"><a href="digital-purakau.html" style="color: var(--color-forest); font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ“š Digital PÅ«rÄkau</a></li>
                    <li style="margin-bottom: 0.75rem;"><a href="living-whakapapa.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸŒ¿ Living Whakapapa</a></li>
                    <li><a href="virtual-marae.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">ğŸ›ï¸ Virtual Marae</a></li>
                </ul>
            </div>
        </aside>

        <main class="content-area" style="padding: 1rem 2rem;">
            <!-- Personal Dashboard Header -->
            <section class="dashboard-header" style="background: linear-gradient(135deg, #f0f8f0 0%, #e8f4f8 100%); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;">
                <div style="text-align: center;">
                    <h1 style="font-family: var(--font-headings); font-size: 2.2rem; color: var(--color-forest); margin-bottom: 0.5rem;">
                        Kia ora, <span id="user-display-name">Kaiako</span>! ğŸ‘‹
                    </h1>
                    <p style="color: var(--color-text-secondary); font-size: 1.1rem; margin-bottom: 1rem;">
                        Welcome back to your personalized teaching dashboard
                    </p>
                    <div class="quick-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                        <div class="stat-card" style="background: rgba(255,255,255,0.8); padding: 1rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--color-secondary); font-weight: bold;" id="saved-count">Loading...</div>
                            <div style="font-size: 0.9rem; color: var(--color-text-secondary);">Saved Resources</div>
                        </div>
                        <div class="stat-card" style="background: rgba(255,255,255,0.8); padding: 1rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--color-accent); font-weight: bold;">467+</div>
                            <div style="font-size: 0.9rem; color: var(--color-text-secondary);">Total Available</div>
                        </div>
                        <div class="stat-card" style="background: rgba(255,255,255,0.8); padding: 1rem; border-radius: 8px; text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--color-forest); font-weight: bold;">ğŸ§ </div>
                            <div style="font-size: 0.9rem; color: var(--color-text-secondary);">AI-Enhanced</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- AI-Powered Features Section -->
            <section class="ai-features" style="background: linear-gradient(135deg, #2c5aa0 0%, #764ba2 100%); margin: 2rem 0; padding: 2rem; border-radius: 12px; color: white;">
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h2 style="font-size: 2rem; margin: 0 0 0.5rem 0; color: white;">ğŸ¤– Your AI Teaching Revolution</h2>
                    <p style="font-size: 1.1rem; opacity: 0.95; margin: 0;">Powered by DeepSeek + GraphRAG + Adaptive Learning</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                    <a href="teacher-dashboard-ai.html" style="background: rgba(255,255,255,0.15); padding: 1.5rem; border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s ease; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem; text-align: center;">ğŸ¤–</div>
                        <h3 style="margin: 0 0 1rem 0; color: #FFD700; font-size: 1.2rem; text-align: center;">AI Teacher Dashboard</h3>
                        <p style="line-height: 1.6; margin: 0; opacity: 0.9; font-size: 0.95rem; text-align: center;">Complete AI toolkit for lesson planning and cultural integration</p>
                    </a>
                    
                    <a href="graphrag-search.html" style="background: rgba(255,255,255,0.15); padding: 1.5rem; border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s ease; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem; text-align: center;">ğŸ§ </div>
                        <h3 style="margin: 0 0 1rem 0; color: #98FB98; font-size: 1.2rem; text-align: center;">GraphRAG Search</h3>
                        <p style="line-height: 1.6; margin: 0; opacity: 0.9; font-size: 0.95rem; text-align: center;">AI-powered semantic search across all 467+ resources</p>
                    </a>
                    
                    <a href="interactive-learning-demo.html" style="background: rgba(255,255,255,0.15); padding: 1.5rem; border-radius: 12px; text-decoration: none; color: white; transition: all 0.3s ease; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem; text-align: center;">âš¡</div>
                        <h3 style="margin: 0 0 1rem 0; color: #FFB6C1; font-size: 1.2rem; text-align: center;">Adaptive Learning</h3>
                        <p style="line-height: 1.6; margin: 0; opacity: 0.9; font-size: 0.95rem; text-align: center;">Personalized learning paths that adapt to student needs</p>
                    </a>
                </div>
            </section>

            <!-- Recent Activity Section -->
            <section class="recent-activity" style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 2rem;">
                <h2 style="color: var(--color-primary); margin-bottom: 1.5rem; font-size: 1.5rem;">ğŸ“ˆ Recent Activity & Recommendations</h2>
                <div id="recent-activity-content">
                    <div style="text-align: center; color: var(--color-text-secondary); padding: 2rem;">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ”„</div>
                        <p>Loading your recent activity and AI recommendations...</p>
                    </div>
                </div>
            </section>

            <!-- Featured Resources for Authenticated Users -->
            <section class="dashboard-resources">
                <div class="section-header" style="margin-bottom: 2rem;">
                    <h2 style="color: var(--color-primary); font-size: 1.8rem;">ğŸŒŸ Recommended for You</h2>
                    <p style="color: var(--color-text-secondary);">Curated resources based on your usage and AI analysis</p>
                </div>
                <div class="featured-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                    <a href="guided-inquiry-unit/index.html" class="featured-card" style="background: white; border-radius: 12px; padding: 1.5rem; text-decoration: none; color: inherit; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; border-left: 4px solid var(--color-secondary);">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ›ï¸</div>
                        <h3 style="color: var(--color-primary); margin-bottom: 0.5rem;">Society Design Unit</h3>
                        <p style="color: var(--color-text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">Complete 5-week guided inquiry with MÄori governance integration</p>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <span style="background: var(--color-secondary); color: white; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Complete Unit</span>
                            <span style="background: var(--color-accent); color: white; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Most Popular</span>
                        </div>
                    </a>
                    
                    <a href="digital-purakau.html" class="featured-card" style="background: white; border-radius: 12px; padding: 1.5rem; text-decoration: none; color: inherit; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; border-left: 4px solid var(--color-forest);">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ“š</div>
                        <h3 style="color: var(--color-primary); margin-bottom: 0.5rem;">Digital PÅ«rÄkau</h3>
                        <p style="color: var(--color-text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">Interactive MÄori storytelling with cultural validation</p>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <span style="background: var(--color-forest); color: white; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Cultural</span>
                            <span style="background: var(--color-secondary); color: white; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Interactive</span>
                        </div>
                    </a>
                    
                    <a href="games/te-reo-wordle.html" class="featured-card" style="background: white; border-radius: 12px; padding: 1.5rem; text-decoration: none; color: inherit; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: all 0.3s ease; border-left: 4px solid var(--color-accent);">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">ğŸ®</div>
                        <h3 style="color: var(--color-primary); margin-bottom: 0.5rem;">Te Reo Wordle</h3>
                        <p style="color: var(--color-text-secondary); font-size: 0.9rem; margin-bottom: 1rem;">Interactive language learning game with Te Reo MÄori</p>
                        <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                            <span style="background: var(--color-accent); color: white; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Game</span>
                            <span style="background: var(--color-forest); color: white; padding: 0.2rem 0.6rem; border-radius: 12px; font-size: 0.8rem;">Te Reo</span>
                        </div>
                    </a>
                </div>
            </section>
        </main>
    </div>

    <!-- Clean Dashboard Footer -->
                    <footer class="site-footer no-print">
        <div class="footer-content">
            <div class="footer-grid">
                <!-- Brand Section -->
                <div class="footer-section footer-brand">
                    <h3>ğŸ§º Te Kete Ako</h3>
                    <p class="footer-whakataukÄ«">"Whaowhia te kete mÄtauranga"</p>
                    <p class="footer-tagline">Fill the basket of knowledge</p>
                    <p class="footer-description">Quality teaching resources for Aotearoa New Zealand educators, honoring mÄtauranga MÄori and contemporary pedagogy.</p>
                </div>

                <!-- Resources Section -->
                <div class="footer-section footer-resources">
                    <h4><span class="footer-mi">NgÄ Rauemi</span> <span class="footer-en">Resources</span></h4>
                    <ul>
                        <li><a href="unit-plans.html">ğŸ“š Unit Plans / NgÄ Mahere WÄhanga</a></li>
                        <li><a href="lessons.html">ğŸ“– Lesson Plans / NgÄ Akoranga</a></li>
                        <li><a href="handouts.html">ğŸ“„ Handouts / NgÄ Kape</a></li>
                        <li><a href="games.html">ğŸ® Games / NgÄ KÄ“mu</a></li>
                        <li><a href="browse.html">ğŸ” Browse All / Tirohia Katoa</a></li>
                    </ul>
                </div>

                <!-- Curriculum Section -->
                <div class="footer-section footer-curriculum">
                    <h4><span class="footer-mi">Te Marautanga</span> <span class="footer-en">Curriculum</span></h4>
                    <ul>
                        <li><a href="browse.html?subject=english">ğŸ“ English / Reo PÄkehÄ</a></li>
                        <li><a href="browse.html?subject=math">ğŸ”¢ Mathematics / PÄngarau</a></li>
                        <li><a href="browse.html?subject=science">ğŸ”¬ Science / PÅ«taiao</a></li>
                        <li><a href="browse.html?subject=social-studies">ğŸŒ Social Studies / Tikanga-Ä-Iwi</a></li>
                        <li><a href="curriculum-alignment.html">ğŸ“‹ NZ Curriculum Alignment</a></li>
                    </ul>
                </div>

                <!-- Account & Support Section -->
                <div class="footer-section footer-support">
                    <h4><span class="footer-mi">Tautoko</span> <span class="footer-en">Support</span></h4>
                    <ul>
                        <li><a href="my-kete.html">ğŸ§º My Kete / TÅku Kete</a></li>
                        <li><a href="login.html">ğŸ” Login / Takiuru</a></li>
                        <li><a href="#about">â„¹ï¸ About Us / MÅ MÄtou</a></li>
                        <li><a href="#contact">âœ‰ï¸ Contact / WhakapÄ Mai</a></li>
                        <li><a href="#help">â“ Help / Ä€whina</a></li>
                    </ul>
                </div>
            </div>

            <!-- Footer Bottom -->
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <span class="footer-copyright">Â© 2025 Te Kete Ako</span>
                    <span class="footer-separator">â€¢</span>
                    <span class="footer-location">Aotearoa New Zealand</span>
                    <span class="footer-separator">â€¢</span>
                    <a href="#privacy">Privacy</a>
                    <span class="footer-separator">â€¢</span>
                    <a href="#terms">Terms</a>
                </div>
            </div>
        </div>
    </footer>

    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .featured-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0,0,0,0.15);
        }
    </style>

    <!-- Authentication Required Scripts (standardized order) -->
    <script src="vendor/supabase.min.js" defer></script>
    <script src="js/env-config.js" defer></script>
    <script src="js/supabase-client.js" defer></script>
    <script src="js/auth-enhanced.js" defer></script>
    
    <script>
        // Dashboard-specific authentication and personalization
        class DashboardManager {
            constructor() {
                this.currentUser = null;
                this.init();
            }
            
            async init() {
                // Wait for auth system
                if (typeof authUI === 'undefined') {
                    setTimeout(() => this.init(), 100);
                    return;
                }
                
                // Check authentication
                const isAuthenticated = await authUI.isAuthenticated();
                if (!isAuthenticated) {
                    // Redirect to login
                    window.location.href = 'login.html';
                    return;
                }
                
                // Get user and personalize dashboard
                this.currentUser = authUI.getCurrentUser();
                this.personalizeDashboard();
                this.loadDashboardData();
                
                // Hide auth protection overlay
                document.getElementById('auth-protection').style.display = 'none';
            }
            
            personalizeDashboard() {
                if (!this.currentUser) return;
                
                const email = this.currentUser.email;
                const displayName = email.split('@')[0];
                
                // Update user name displays
                const userDisplayElements = document.querySelectorAll('#user-display-name, #mobile-user-name');
                userDisplayElements.forEach(el => {
                    if (el) el.textContent = displayName;
                });
            }
            
            async loadDashboardData() {
                try {
                    // Load saved resources count
                    await this.loadSavedResourcesCount();
                    
                    // Load recent activity
                    await this.loadRecentActivity();
                } catch (error) {
                    console.error('Error loading dashboard data:', error);
                }
            }
            
            async loadSavedResourcesCount() {
                // This would typically fetch from Supabase
                // For now, use localStorage as fallback
                const savedResources = JSON.parse(localStorage.getItem('te-kete-saved-resources') || '[]');
                const countElement = document.getElementById('saved-count');
                if (countElement) {
                    countElement.textContent = savedResources.length;
                }
            }
            
            async loadRecentActivity() {
                const activityElement = document.getElementById('recent-activity-content');
                if (!activityElement) return;
                
                // Simulate loading recent activity
                setTimeout(() => {
                    activityElement.innerHTML = `
                        <div style="display: grid; gap: 1rem;">
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
                                <div style="font-size: 1.5rem;">ğŸ“–</div>
                                <div>
                                    <div style="font-weight: bold; color: var(--color-primary);">Recently Viewed: Society Design Unit</div>
                                    <div style="font-size: 0.9rem; color: var(--color-text-secondary);">Excellent choice! This unit has 95% positive feedback from teachers</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #e8f5e8; border-radius: 8px;">
                                <div style="font-size: 1.5rem;">ğŸ¤–</div>
                                <div>
                                    <div style="font-weight: bold; color: var(--color-forest);">AI Recommendation: Digital PÅ«rÄkau</div>
                                    <div style="font-size: 0.9rem; color: var(--color-text-secondary);">Based on your interest in cultural integration, this storytelling platform might be perfect for your classroom</div>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1rem; padding: 1rem; background: #fff3e0; border-radius: 8px;">
                                <div style="font-size: 1.5rem;">ğŸ§ </div>
                                <div>
                                    <div style="font-weight: bold; color: var(--color-accent);">GraphRAG Insight</div>
                                    <div style="font-size: 0.9rem; color: var(--color-text-secondary);">New resources added this week match your teaching focus on social studies and Te Ao MÄori</div>
                                </div>
                            </div>
                        </div>
                    `;
                }, 1000);
            }
        }
        
        // Initialize dashboard when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new DashboardManager();
        });
        
        // Performance optimization: Show hidden content after auth
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const hiddenElements = document.querySelectorAll('.left-sidebar, .features-banner, .ai-revolution-section');
                hiddenElements.forEach((el, index) => {
                    setTimeout(() => {
                        el.style.display = '';
                        el.style.opacity = '1';
                        el.style.transition = 'opacity 0.3s ease-in-out';
                    }, index * 100);
                });
            }, 500);
        });
    </script>
</body>
</html>