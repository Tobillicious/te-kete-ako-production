<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Performance: Optimize rendering -->
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#1b4332">
    <meta name="color-scheme" content="light">
    <!-- Performance: DNS prefetch for external domains -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
    <!-- Performance: Preload critical resources -->
    <link rel="preload" href="/css/te-kete-professional.css" as="style">
    <link rel="preload" href="/js/te-kete-professional.js" as="script">
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Lato:wght@300;400;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&display=swap&display=swap" as="style" crossorigin>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Te Kete Ako - Award-winning educational platform integrating mātauranga Māori with contemporary learning">
    <meta name="keywords" content="education, māori, indigenous, ai, learning, new zealand">
    <meta name="author" content="Te Kete Ako">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Te Kete Ako Dashboard | Your Teaching Resources</title>
    <!-- Critical CSS inlined for fastest rendering -->
    
    <!-- Preconnect to external services --><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
    
    <!-- Load non-critical CSS asynchronously -->




    
    
    
    
    <link rel="stylesheet" href="/components/badge-system.html">
    <link rel="stylesheet" href="/css/print.css" media="print"/>
    <link rel="stylesheet" href="/css/te-kete-professional.css"/>
    <link rel="stylesheet" href="/css/ux-professional-enhancements.css"/>
    <script src="/js/breadcrumbs.js" defer></script>
    
    <link rel="stylesheet" href="/css/west-coast-nz-colors.css">
</head>
<body data-current-page="dashboard" data-auth-required="true">
    <!-- Auth Protection Overlay -->
    <div id="auth-protection" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.95); z-index: 9999; display: flex; align-items: center; justify-content: center;">
        <div class="text-center">
            <div style="font-size: 4rem; margin-bottom: 1rem;">🔐</div>
            <h2 style="color: var(--color-primary); margin-bottom: 1rem;" class="wiley-section-title">Authenticating...</h2>
            <p style="color: var(--color-text-secondary); margin-bottom: 2rem;">Verifying your access to the dashboard</p>
            <div class="loading-spinner" style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid var(--color-secondary); border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto;"></div>
        </div>
    </div>

    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" style="display: none;">
        <defs>
            <filter id="gooey">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
                <feBlend in="SourceGraphic" in2="goo" />
            </filter>
        </defs>
    </svg>

                    <header class="site-header no-print">
        <div class="nav-container">
            <a href="/index.html" class="nav-brand">Te Kete Ako</a>
            <nav class="main-nav">
                <ul>
                    <li>
                        <a href="/unit-plans.html">
                            <span class="nav-icon">📚</span>
                            <span class="nav-text-en">Unit Plans</span>
                            <span class="nav-text-mi" lang="mi">Ngā Waehere</span>
                        </a>
                    </li>
                    <li>
                        <a href="/teachers/index.html">
                            <span class="nav-icon">🧑‍🏫</span>
                            <span class="nav-text-en">Teachers</span>
                            <span class="nav-text-mi" lang="mi">Ngā Kaiako</span>
                        </a>
                    </li>
                    <li>
                        <a href="/lessons.html">
                            <span class="nav-icon">🎓</span>
                            <span class="nav-text-en">Lessons</span>
                            <span class="nav-text-mi" lang="mi">Ngā Akoranga</span>
                        </a>
                    </li>
                    <li>
                        <a href="/handouts.html">
                            <span class="nav-icon">📄</span>
                            <span class="nav-text-en">Handouts</span>
                            <span class="nav-text-mi" lang="mi">Ngā Rauemi</span>
                        </a>
                    </li>
                    <li>
                        <a href="/games.html">
                            <span class="nav-icon">🎮</span>
                            <span class="nav-text-en">Games</span>
                            <span class="nav-text-mi" lang="mi">Ngā Kēmu</span>  
                        </a>
                    </li>
                    <li class="auth-nav my-kete-link" style="display: none;">
                        <a href="/my-kete.html">
                            <span class="nav-icon">🧺</span>
                            My Kete
                        </a>
                    </li>
                    <li class="auth-nav">
                        <a href="/login.html" class="login-btn">
                            <span class="nav-icon">👤</span>
                            Login
                        </a>
                    </li>
                    <li class="auth-nav" style="display: none;">
                        <a href="/register-simple.html" class="register-btn">
                            <span class="nav-icon">📝</span>
                            Register
                        </a>
                    </li>
                </ul>
            </nav>
            <nav class="breadcrumbs no-print" aria-label="Breadcrumb">
                <ol id="breadcrumbs" class="breadcrumbs-list"></ol>
            </nav>
        </div>
    </header>
    <div id="search-container"></div>


    <!-- Mobile Navigation Overlay -->
    <div class="mobile-nav-overlay">
        <div class="mobile-nav-header">
            <div class="mobile-nav-greeting">Kia ora, <span id="mobile-user-name">Teacher</span></div>
            <div class="mobile-nav-translation">Welcome to your dashboard</div>
        </div>
        <ul class="mobile-nav-list">
            <li class="mobile-nav-item">
                <a href="/my-kete.html" class="mobile-nav-link">
                    <span class="mobile-nav-icon">🧺</span>
                    <div class="mobile-nav-text">
                        <span class="mobile-nav-text-en">My Kete</span>
                        <span class="mobile-nav-text-mi">Taku Kete</span>
                    </div>
                </a>
            </li>
            <li class="mobile-nav-item">
                <a href="/teacher-dashboard-ai.html" class="mobile-nav-link">
                    <span class="mobile-nav-icon">🤖</span>
                    <div class="mobile-nav-text">
                        <span class="mobile-nav-text-en">AI Teacher Tools</span>
                        <span class="mobile-nav-text-mi">Taputapu AI</span>
                    </div>
                </a>
            </li>
            <li class="mobile-nav-item">
                <a href="/graphrag-search.html" class="mobile-nav-link">
                    <span class="mobile-nav-icon">🧠</span>
                    <div class="mobile-nav-text">
                        <span class="mobile-nav-text-en">AI Search</span>
                        <span class="mobile-nav-text-mi">Rapua AI</span>
                    </div>
                </a>
            </li>
        </ul>
        <button class="mobile-nav-close">Close Menu</button>
    </div>

    <div class="main-container">
        <aside class="left-sidebar no-print" style="width: 320px; min-width: 320px;">
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: var(--radius-lg); border: 2px solid var(--color-secondary); margin-bottom: 1.5rem;">
                <h3 class="sidebar-widget-title" style="color: white; text-align: center; margin-bottom: 1rem;">🤖 Your AI Teaching Assistant</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: var(--space-3);"><a href="/teacher-dashboard-ai.html" style="color: #FFD700; font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🤖 AI Teacher Dashboard</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/interactive-learning-demo.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">⚡ Adaptive Learning Paths</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/deepseek-agent-test.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🧠 DeepSeek AI Agent</a></li>
                    <li><a href="/project-submission.html" style="color: white; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">📝 Smart Project Tracker</a></li>
                </ul>
            </div>
            
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #e8f5e8 0%, #f0f8ff 100%); border-radius: var(--radius-lg); border: 2px solid var(--color-secondary); margin-bottom: 1.5rem;">
                <h3 class="sidebar-widget-title" style="color: var(--color-forest); text-align: center; margin-bottom: 1rem;">📚 Your Resource Collection</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: var(--space-3);"><a href="/my-kete.html" style="color: var(--color-secondary); font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🧺 My Saved Resources</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/handouts.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">📄 Browse All Handouts</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/lessons.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🎓 Complete Lessons</a></li>
                    <li><a href="/unit-plans.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">📖 Full Unit Plans</a></li>
                </ul>
            </div>
            
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%); border-radius: var(--radius-lg); border: 2px solid var(--color-accent); margin-bottom: 1.5rem;">
                <h3 class="sidebar-widget-title" style="color: var(--color-primary); text-align: center; margin-bottom: 1rem;">🚀 Quick Actions</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: var(--space-3);"><a href="/graphrag-search.html" style="color: var(--color-accent); font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🔍 AI-Powered Search</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/games.html" style="color: var(--color-primary); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🎮 Interactive Games</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/activities.html" style="color: var(--color-primary); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">⚡ 5-Minute Activities</a></li>
                    <li><a href="/classroom-leaderboard.html" style="color: var(--color-primary); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🏆 Class Leaderboard</a></li>
                </ul>
            </div>
            
            <div class="sidebar-widget" style="background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%); border-radius: var(--radius-lg); border: 2px solid var(--color-secondary);">
                <h3 class="sidebar-widget-title" style="color: var(--color-primary); text-align: center; margin-bottom: 1rem;">🌿 Cultural Learning</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: var(--space-3);"><a href="/digital-purakau.html" style="color: var(--color-forest); font-weight: bold; text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">📚 Digital Pūrākau</a></li>
                    <li style="margin-bottom: var(--space-3);"><a href="/living-whakapapa.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🌿 Living Whakapapa</a></li>
                    <li><a href="/virtual-marae.html" style="color: var(--color-forest); text-decoration: none; display: flex; align-items: center; gap: 0.5rem;">🏛️ Virtual Marae</a></li>
                </ul>
            </div>
        </aside>

        <main role="main" class="content-area" style="padding: var(--space-4) 2rem;">
            <!-- Personal Dashboard Header -->
            <section class="dashboard-header" style="background: linear-gradient(135deg, #f0f8f0 0%, #e8f4f8 100%); padding: var(--space-8); border-radius: var(--radius-lg); margin-bottom: 2rem;">
                <div class="text-center">
                    <h1 style="font-family: var(--font-headings); font-size: 2.2rem; color: var(--color-forest); margin-bottom: var(--space-2);" class="wiley-hero-title">
                        Kia ora, <span id="user-display-name">Kaiako</span>! 👋
                    </h1>
                    <p style="color: var(--color-text-secondary); font-size: var(--text-lg); margin-bottom: 1rem;">
                        Welcome back to your personalized teaching dashboard
                    </p>
                    <div class="quick-stats" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1.5rem;">
                        <div class="stat-card" style="background: rgba(255,255,255,0.8); padding: var(--space-4); border-radius: var(--radius-md); text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--color-secondary); font-weight: bold;" id="saved-count">Loading...</div>
                            <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">Saved Resources</div>
                        </div>
                        <div class="stat-card" style="background: rgba(255,255,255,0.8); padding: var(--space-4); border-radius: var(--radius-md); text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--color-accent); font-weight: bold;">467+</div>
                            <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">Total Available</div>
                        </div>
                        <div class="stat-card" style="background: rgba(255,255,255,0.8); padding: var(--space-4); border-radius: var(--radius-md); text-align: center;">
                            <div style="font-size: 1.5rem; color: var(--color-forest); font-weight: bold;">🧠</div>
                            <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">AI-Enhanced</div>
                        </div>
                    </div>
                </div>
            </section>

    <section class="cultural-integration" style="background: linear-gradient(135deg, #fff7ed, #ffedd5); padding: 2rem; border-radius: 12px; margin: 2rem 0; border-left: 4px solid var(--color-accent); box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        <h2 style="color: var(--color-primary); margin-top: 0; display: flex; align-items: center; gap: 0.5rem;">
            <span>🌿</span>
            <span>Cultural Context | Horopaki Ahurea</span>
        </h2>
        
        <div class="whakatauaki-section" style="background: white; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem; text-align: center; border: 2px solid var(--color-accent);">
            <h3 style="font-size: 0.9rem; color: var(--color-text-secondary); margin: 0 0 0.5rem; text-transform: uppercase; letter-spacing: 1px;">Whakataukī</h3>
            <p style="font-size: 1.3rem; font-style: italic; color: var(--color-primary); margin: 0.5rem 0; font-weight: 500;">"Ko te akoranga te pūtake o te ora"</p>
            <p style="font-size: 1rem; color: var(--color-text-secondary); margin: 0.5rem 0;">"Education is the foundation of wellbeing"</p>
        </div>
        
        <div class="house-values" style="background: white; padding: 1.5rem; border-radius: 8px;">
            <h3 style="font-size: 1rem; color: var(--color-primary); margin-top: 0;">🏛️ Connection to Mangakōtukutuku College Values</h3>
            <div style="background: rgba(241, 143, 1, 0.1); padding: 1rem; border-radius: 6px; border-left: 3px solid var(--color-accent);">
                <p style="margin: 0; font-size: 0.95rem;">
                    <strong style="color: var(--color-accent); text-transform: capitalize;">Whaiara:</strong> Rising Up - Taking action to create positive change
                </p>
                <p style="margin: 0.75rem 0 0; font-size: 0.9rem; color: var(--color-text-secondary);">
                    This learning connects to the value of <strong>whaiara</strong> by encouraging students to [engage with content in ways that embody this value].
                </p>
            </div>
        </div>
        
        <div class="cultural-safety" style="background: rgba(27, 67, 50, 0.05); padding: 1rem; border-radius: 8px; margin-top: 1rem;">
            <h4 style="font-size: 0.95rem; color: var(--color-primary); margin: 0 0 0.5rem;">🛡️ Cultural Safety Considerations</h4>
            <ul style="font-size: 0.9rem; margin: 0; color: var(--color-text-secondary);">
                <li>Approach Māori content with respect and openness</li>
                <li>Recognize students' diverse cultural backgrounds and experiences</li>
                <li>Create space for Māori students to share their perspectives</li>
                <li>Consult with whānau and local iwi for culturally sensitive topics</li>
            </ul>
        </div>
    </section>



            <!-- AI-Powered Features Section -->
            <section class="ai-features" style="background: linear-gradient(135deg, #2c5aa0 0%, #764ba2 100%); margin: var(--space-8) 0; padding: var(--space-8); border-radius: var(--radius-lg); color: white;">
                <div class="text-center">
                    <h2 style="font-size: 2rem; margin: 0 0 0.5rem 0; color: white;" class="wiley-section-title">🤖 Your AI Teaching Revolution</h2>
                    <p style="font-size: var(--text-lg); opacity: 0.95; margin: 0;">Powered by DeepSeek + GraphRAG + Adaptive Learning</p>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                    <a href="/teacher-dashboard-ai.html" style="background: rgba(255,255,255,0.15); padding: var(--space-6); border-radius: var(--radius-lg); text-decoration: none; color: white; transition: all 0.3s ease; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem; text-align: center;">🤖</div>
                        <h3 style="margin: 0 0 1rem 0; color: #FFD700; font-size: var(--text-xl); text-align: center;">AI Teacher Dashboard</h3>
                        <p style="line-height: 1.6; margin: 0; opacity: 0.9; font-size: 0.95rem; text-align: center;">Complete AI toolkit for lesson planning and cultural integration</p>
                    </a>
                    
                    <a href="/graphrag-search.html" style="background: rgba(255,255,255,0.15); padding: var(--space-6); border-radius: var(--radius-lg); text-decoration: none; color: white; transition: all 0.3s ease; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem; text-align: center;">🧠</div>
                        <h3 style="margin: 0 0 1rem 0; color: #98FB98; font-size: var(--text-xl); text-align: center;">GraphRAG Search</h3>
                        <p style="line-height: 1.6; margin: 0; opacity: 0.9; font-size: 0.95rem; text-align: center;">AI-powered semantic search across all 467+ resources</p>
                    </a>
                    
                    <a href="/interactive-learning-demo.html" style="background: rgba(255,255,255,0.15); padding: var(--space-6); border-radius: var(--radius-lg); text-decoration: none; color: white; transition: all 0.3s ease; backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2);">
                        <div style="font-size: 2.5rem; margin-bottom: 1rem; text-align: center;">⚡</div>
                        <h3 style="margin: 0 0 1rem 0; color: #FFB6C1; font-size: var(--text-xl); text-align: center;">Adaptive Learning</h3>
                        <p style="line-height: 1.6; margin: 0; opacity: 0.9; font-size: 0.95rem; text-align: center;">Personalized learning paths that adapt to student needs</p>
                    </a>
                </div>
            </section>

            <!-- Recent Activity Section -->
            <section class="recent-activity" class="bg-white">
                <h2 style="color: var(--color-primary); margin-bottom: 1.5rem; font-size: 1.5rem;" class="wiley-section-title">📈 Recent Activity & Recommendations</h2>
                <div id="recent-activity-content">
                    <div class="text-center">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">🔄</div>
                        <p>Loading your recent activity and AI recommendations...</p>
                    </div>
                </div>
            </section>

            <!-- Featured Resources for Authenticated Users -->
            <section class="dashboard-resources">
                <div class="section-header" style="margin-bottom: 2rem;">
                    <h2 style="color: var(--color-primary); font-size: 1.8rem;" class="wiley-section-title">🌟 Recommended for You</h2>
                    <p style="color: var(--color-text-secondary);">Curated resources based on your usage and AI analysis</p>
                </div>
                <div class="featured-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                    <a href="/guided-inquiry-unit/index.html" class="featured-card" class="bg-white">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">🏛️</div>
                        <h3 style="color: var(--color-primary); margin-bottom: var(--space-2);">Society Design Unit</h3>
                        <p style="color: var(--color-text-secondary); font-size: var(--text-sm); margin-bottom: 1rem;">Complete 5-week guided inquiry with Māori governance integration</p>
                        <div class="flex">
                            <span style="background: var(--color-secondary); color: white; padding: 0.2rem 0.6rem; border-radius: var(--radius-lg); font-size: 0.8rem;">Complete Unit</span>
                            <span style="background: var(--color-accent); color: white; padding: 0.2rem 0.6rem; border-radius: var(--radius-lg); font-size: 0.8rem;">Most Popular</span>
                        </div>
                    </a>
                    
                    <a href="/digital-purakau.html" class="featured-card" class="bg-white">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">📚</div>
                        <h3 style="color: var(--color-primary); margin-bottom: var(--space-2);">Digital Pūrākau</h3>
                        <p style="color: var(--color-text-secondary); font-size: var(--text-sm); margin-bottom: 1rem;">Interactive Māori storytelling with cultural validation</p>
                        <div class="flex">
                            <span style="background: var(--color-forest); color: white; padding: 0.2rem 0.6rem; border-radius: var(--radius-lg); font-size: 0.8rem;">Cultural</span>
                            <span style="background: var(--color-secondary); color: white; padding: 0.2rem 0.6rem; border-radius: var(--radius-lg); font-size: 0.8rem;">Interactive</span>
                        </div>
                    </a>
                    
                    <a href="/games/te-reo-wordle.html" class="featured-card" class="bg-white">
                        <div style="font-size: 2rem; margin-bottom: 1rem;">🎮</div>
                        <h3 style="color: var(--color-primary); margin-bottom: var(--space-2);">Te Reo Wordle</h3>
                        <p style="color: var(--color-text-secondary); font-size: var(--text-sm); margin-bottom: 1rem;">Interactive language learning game with Te Reo Māori</p>
                        <div class="flex">
                            <span style="background: var(--color-accent); color: white; padding: 0.2rem 0.6rem; border-radius: var(--radius-lg); font-size: 0.8rem;">Game</span>
                            <span style="background: var(--color-forest); color: white; padding: 0.2rem 0.6rem; border-radius: var(--radius-lg); font-size: 0.8rem;">Te Reo</span>
                        </div>
                    </a>
                </div>
            </section>
        </main>
    </div>

    <!-- Clean Dashboard Footer -->
                    <footer class="site-footer no-print">
        <div class="footer-content">
            <div class="footer-simple">
                <div class="footer-brand">
                    <h3>🧺 Te Kete Ako</h3>
                    <p>"Whaowhia te kete mātauranga" - Fill the basket of knowledge</p>
                </div>
                <div class="footer-links">
                    <a href="/unit-plans.html">Unit Plans</a>
                    <a href="/lessons.html">Lessons</a>
                    <a href="/handouts.html">Handouts</a>
                    <a href="/my-kete.html">My Kete</a>
                    <a href="/sitemap.html">Sitemap</a>
                    <a href="/orphans.html">Discover</a>
                </div>
            </div>
            <div class="footer-bottom">
                <span>© 2025 Te Kete Ako - Educational resources for Aotearoa New Zealand</span>
            </div>
        </div>
    </footer>


    <!-- Authentication Required Scripts (standardized order) -->
    <script src="vendor/supabase.min.js" defer></script>
    <script src="/js/env-config.js" defer></script>
    <script src="/js/supabase-client.js" defer></script>
    <script src="/js/auth-enhanced.js" defer></script>
    
    <script>
        // Dashboard-specific authentication and personalization
        class DashboardManager {
            constructor() {
                this.currentUser = null;
                this.init();
            }
            
            async init() {
                // Wait for auth system
                if (typeof authUI === 'undefined') {
                    setTimeout(() => this.init(), 100);
                    return;
                }
                
                // Check authentication
                const isAuthenticated = await authUI.isAuthenticated();
                if (!isAuthenticated) {
                    // Redirect to login
                    window.location.href = 'login.html';
                    return;
                }
                
                // Get user and personalize dashboard
                this.currentUser = authUI.getCurrentUser();
                this.personalizeDashboard();
                this.loadDashboardData();
                
                // Hide auth protection overlay
                document.getElementById('auth-protection').style.display = 'none';
            }
            
            personalizeDashboard() {
                if (!this.currentUser) return;
                
                const email = this.currentUser.email;
                const displayName = email.split('@')[0];
                
                // Update user name displays
                const userDisplayElements = document.querySelectorAll('#user-display-name, #mobile-user-name');
                userDisplayElements.forEach(el => {
                    if (el) el.textContent = displayName;
                });
            }
            
            async loadDashboardData() {
                try {
                    // Load saved resources count
                    await this.loadSavedResourcesCount();
                    
                    // Load recent activity
                    await this.loadRecentActivity();
                } catch (error) {
                    console.error('Error loading dashboard data:', error);
                }
            }
            
            async loadSavedResourcesCount() {
                // This would typically fetch from Supabase
                // For now, use localStorage as fallback
                const savedResources = JSON.parse(localStorage.getItem('te-kete-saved-resources') || '[]');
                const countElement = document.getElementById('saved-count');
                if (countElement) {
                    countElement.textContent = savedResources.length;
                }
            }
            
            async loadRecentActivity() {
                const activityElement = document.getElementById('recent-activity-content');
                if (!activityElement) return;
                
                // Simulate loading recent activity
                setTimeout(() => {
                    activityElement.innerHTML = `
                        <div style="display: grid; gap: 1rem;">
                            <div class="flex">
                                <div style="font-size: 1.5rem;">📖</div>
                                <div>
                                    <div style="font-weight: bold; color: var(--color-primary);">Recently Viewed: Society Design Unit</div>
                                    <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">Excellent choice! This unit has 95% positive feedback from teachers</div>
                                </div>
                            </div>
                            <div class="flex">
                                <div style="font-size: 1.5rem;">🤖</div>
                                <div>
                                    <div style="font-weight: bold; color: var(--color-forest);">AI Recommendation: Digital Pūrākau</div>
                                    <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">Based on your interest in cultural integration, this storytelling platform might be perfect for your classroom</div>
                                </div>
                            </div>
                            <div class="flex">
                                <div style="font-size: 1.5rem;">🧠</div>
                                <div>
                                    <div style="font-weight: bold; color: var(--color-accent);">GraphRAG Insight</div>
                                    <div style="font-size: var(--text-sm); color: var(--color-text-secondary);">New resources added this week match your teaching focus on social studies and Te Ao Māori</div>
                                </div>
                            </div>
                        </div>
                    `;
                }, 1000);
            }
        }
        
        // Initialize dashboard when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            new DashboardManager();
        });
        
        // Performance optimization: Show hidden content after auth
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const hiddenElements = document.querySelectorAll('.left-sidebar, .features-banner, .ai-revolution-section');
                hiddenElements.forEach((el, index) => {
                    setTimeout(() => {
                        el.style.display = '';
                        el.style.opacity = '1';
                        el.style.transition = 'opacity 0.3s ease-in-out';
                    }, index * 100);
                });
            }, 500);
        });
    </script>
    <!-- Core functionality -->
    <script src="/js/shared-components.js" defer></script>
    <script src="/js/mobile-revolution.js" defer></script>
    <script src="/js/pwa-registration.js" defer></script>

    <script>
    // Register service worker for performance
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
            navigator.serviceWorker.register('/sw.js')
                .then(registration => console.log('SW registered'))
                .catch(error => console.log('SW registration failed'));
        });
    }
    </script>
</body>
</html>