<!DOCTYPE html><html lang="en"><head>
    <title>My Kete - Personal Learning Collection | Te Kete Ako</title>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="My Kete - Your personalized collection of saved teaching resources, recently viewed lessons, and AI-powered recommendations.">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ⭐ PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ⭐ THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ⭐ COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ⭐ PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ⭐ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ⭐ CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body class="pattern-koru-subtle"> <!-- 🎨 ULTIMATE BEAUTY: Navigation --> <div id="nav-container"></div>     <div id="nav-placeholder"></div>    <main class="container">        <nav class="breadcrumb" aria-label="Breadcrumb">            <a href="/index.html">🏠 Home</a>            <span>→</span>            <span class="current">🎒 My Kete</span>        </nav>        <!-- Whakataukī -->        <div class="whakataukī-box" style="margin: 2rem 0;">            <p class="whakataukī-text">                "He aha te mea nui o te ao? He tangata, he tangata, he tangata"            </p>            <p class="whakataukī-attribution">                — What is the most important thing in the world? It is people, it is people, it is people            </p>        </div>        <!-- Header -->        <header class="kowhaiwhai-border-top kowhaiwhai-border-bottom shadow-xl" >            <h1 style="font-size: 3.5rem; color: #78350f; ">                🎒 My Kete            </h1>            <p class="m-0 mx-auto" Your personalized collection of teaching treasures            </p>            <div style="margin-top: 1.5rem;">                <span id="kete-count" class="p-3" style="background: rgba(255,255,255,0.3); color: #78350f; padding: 0.75rem 1.5rem; border-radius: 24px; "                    Start exploring!                </span>            </div>        </header>        <!-- Tabs -->        <div class="p-4" style="padding: 1rem 2rem; margin: 2rem 0; gap: 2rem; flex-wrap: wrap;"            <button onclick="showTab('saved')" id="tab-saved" class="kete-tab active-tab" style="background: none; border: none; cursor: pointer; color: #6b7280; border-bottom: 3px solid transparent; transition: all 0.3s;">                🎒 Saved Resources            </button>            <button onclick="showTab('recent')" id="tab-recent" class="kete-tab" style="background: none; border: none; cursor: pointer; color: #6b7280; border-bottom: 3px solid transparent; transition: all 0.3s;">                👁️ Recently Viewed            </button>            <button onclick="showTab('recommended')" id="tab-recommended" class="kete-tab" style="background: none; border: none; cursor: pointer; color: #6b7280; border-bottom: 3px solid transparent; transition: all 0.3s;">                ✨ Recommended            </button>        </div>        <!-- Saved Resources Tab -->        <section id="saved-section" class="kete-section">            <div style="justify-content: space-between; align-items: center; ">                <h2 >🎒 Your Saved Resources</h2>                <div style="gap: 1rem;">                    <button onclick="exportKete()" class="p-3" style="background: #0284c7; color: white; padding: 0.75rem 1.5rem; border: none; cursor: pointer; "                        📥 Export to PDF                    </button>                    <button onclick="clearKete()" class="p-3" style="background: #dc2626; color: white; padding: 0.75rem 1.5rem; border: none; cursor: pointer; "                        🗑️ Clear All                    </button>                </div>            </div>            <div id="saved-resources" style="gap: 1.5rem;">                <!-- Will be populated -->            </div>        </section>        <!-- Recently Viewed Tab -->        <section id="recent-section" class="kete-section" style="display: none;">            <h2 >👁️ Recently Viewed</h2>            <div id="recent-resources" style="gap: 1.5rem;">                <!-- Will be populated -->            </div>        </section>        <!-- Recommended Tab -->        <section id="recommended-section" class="kete-section" style="display: none;">            <h2 >✨ Recommended for You</h2>            <p style="color: #546e7a; ">Based on your saved resources and browsing history</p>            <div id="recommended-resources" style="gap: 1.5rem;">                <!-- Will be populated -->            </div>        </section>    </main>    <div id="footer-placeholder"></div>        <script src="/js/global-scripts.js"></script>    <script>        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM';        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);        // Tab switching        function showTab(tabName) {            // Hide all sections            document.querySelectorAll('.kete-section').forEach(section => {                section.style.display = 'none';            });            // Remove active class from all tabs            document.querySelectorAll('.kete-tab').forEach(tab => {                tab.style.color = '#6b7280';                tab.style.borderBottomColor = 'transparent';            });            // Show selected section and activate tab            document.getElementById(`${tabName}-section`).style.display = 'block';            const activeTab = document.getElementById(`tab-${tabName}`);            activeTab.style.color = '#1a4d2e';            activeTab.style.borderBottomColor = '#1a4d2e';            // Load content            if (tabName === 'saved') loadSavedResources();            else if (tabName === 'recent') loadRecentResources();            else if (tabName === 'recommended') loadRecommendedResources();        }        // Load saved resources        async function loadSavedResources() {            const kete = JSON.parse(localStorage.getItem('myKete') || '[]');            document.getElementById('kete-count').textContent = `${kete.length} resources saved`;            if (kete.length === 0) {                document.getElementById('saved-resources').innerHTML = `                    <div style="padding: 4rem 2rem; background: #f9fafb; border: 2px dashed #d1d5db;">                        <div style="font-size: 4rem; ">🎒</div>                        <p style="color: #6b7280; ">Your kete is empty</p>                        <p style="color: #9ca3af;">Save resources from the Teaching Options Library to build your collection!</p>                        <a href="/teaching-options-library.html" class="p-4" style="margin-top: 1.5rem; background: #1a4d2e; color: white; padding: 1rem 2rem; text-decoration: none; "                            Browse Resources →                        </a>                    </div>                `;                return;            }            // Fetch full details from GraphRAG            const resourceIds = kete.map(k => k.id);            const { data } = await supabase                .from('graphrag_resources')                .select('*')                .in('id', resourceIds);            if (data) {                displaySavedResources(data, kete);            }        }        function displaySavedResources(resources, keteData) {            const container = document.getElementById('saved-resources');            container.innerHTML = resources.map(resource => {                const savedItem = keteData.find(k => k.id === resource.id);                const cultural = resource.cultural_elements?.cultural_integration || 'medium';                const culturalColor = cultural === 'high' ? '#16a34a' : (cultural === 'medium' ? '#f59e0b' : '#6b7280');                return `                    <div style="border-left: 6px solid ${culturalColor}; ">                        <div style="justify-content: space-between; align-items: start; ">                            <h3 style="flex: 1;">${resource.title}</h3>                            <button onclick="removeFromKete('${resource.id}')" class="p-2" style="background: #dc2626; color: white; padding: 0.5rem 1rem; border: none; cursor: pointer; font-size: 0.85rem;"                                ✕ Remove                            </button>                        </div>                        <p style="color: #546e7a; ">${resource.description || ''}</p>                        <div style="gap: 1rem; flex-wrap: wrap; ">                            <span style="background: #f0f9ff; color: #0369a1; padding: 0.4rem 0.9rem; font-size: 0.85rem;">                                📚 ${resource.type}                            </span>                            <span style="background: #f0fdf4; color: #166534; padding: 0.4rem 0.9rem; font-size: 0.85rem;">                                ⏱️ ${resource.estimated_duration_minutes || 60} min                            </span>                        </div>                        <div style="font-size: 0.85rem; color: #9ca3af; ">                            Saved: ${new Date(savedItem.addedAt).toLocaleDateString('en-NZ', { year: 'numeric', month: 'long', day: 'numeric' })}                        </div>                        <a href="${resource.path}" target="_blank" class="p-3" style="background: #1a4d2e; color: white; padding: 0.75rem 2rem; text-decoration: none; "                            📖 View Resource →                        </a>                    </div>                `;            }).join('');        }        function removeFromKete(resourceId) {            if (confirm('Remove this resource from your kete?')) {                let kete = JSON.parse(localStorage.getItem('myKete') || '[]');                kete = kete.filter(k => k.id !== resourceId);                localStorage.setItem('myKete', JSON.stringify(kete));                loadSavedResources();            }        }        // Recently viewed        function loadRecentResources() {            const recent = JSON.parse(localStorage.getItem('recentlyViewed') || '[]');            const container = document.getElementById('recent-resources');            if (recent.length === 0) {                container.innerHTML = `                    <div style="padding: 4rem 2rem; background: #f9fafb; ">                        <p style="color: #6b7280; ">No recent activity yet</p>                        <p style="color: #9ca3af; margin-top: 0.5rem;">Browse resources to see your history here</p>                    </div>                `;                return;            }            container.innerHTML = recent.slice(0, 20).map(item => `                <div >                    <h3 >${item.title}</h3>                    <div style="font-size: 0.85rem; color: #9ca3af;">                        Viewed: ${new Date(item.viewedAt).toLocaleDateString('en-NZ')}                    </div>                    <a href="${item.path}" style="margin-top: 1rem; color: #0284c7; text-decoration: none;">                        View Again →                    </a>                </div>            `).join('');        }        // AI Recommendations        async function loadRecommendedResources() {            const kete = JSON.parse(localStorage.getItem('myKete') || '[]');            const container = document.getElementById('recommended-resources');            if (kete.length === 0) {                container.innerHTML = `                    <div style="padding: 4rem 2rem; background: #f9fafb; ">                        <div style="font-size: 3rem; ">✨</div>                        <p style="color: #6b7280; ">Save some resources first</p>                        <p style="color: #9ca3af;">We'll recommend similar content based on what you save!</p>                    </div>                `;                return;            }            // Get recommended based on saved items            const { data } = await supabase                .from('graphrag_resources')                .select('*')                .limit(12);            if (data) {                container.innerHTML = data.map(resource => {                    const cultural = resource.cultural_elements?.cultural_integration || 'medium';                    const culturalColor = cultural === 'high' ? '#16a34a' : (cultural === 'medium' ? '#f59e0b' : '#6b7280');                    return `                        <div >                            <div style="color: white; padding: 0.3rem 0.8rem; margin-bottom: 0.75rem;">                                ✨ AI Recommended                            </div>                            <h3 style="margin-bottom: 0.75rem; ">${resource.title}</h3>                            <p style="color: #546e7a; ">${resource.description || ''}</p>                            <div style="gap: 1rem;">                                <a href="${resource.path}" class="p-3" style="background: #7c3aed; color: white; padding: 0.75rem 1.5rem; text-decoration: none; flex: 1; "                                    View →                                </a>                                <button onclick="addToKete('${resource.id}', '${resource.title.replace(/'/g, "\\'")}', '${resource.path}')" class="p-3" style="background: #f59e0b; color: white; padding: 0.75rem 1.5rem; border: none; cursor: pointer; "                                    🎒 Save                                </button>                            </div>                        </div>                    `;                }).join('');            }        }        // Helper functions        function addToKete(id, title, path) {            let kete = JSON.parse(localStorage.getItem('myKete') || '[]');            if (!kete.find(k => k.id === id)) {                kete.push({ id, title, path, addedAt: new Date().toISOString() });                localStorage.setItem('myKete', JSON.stringify(kete));                showTab('saved');            }        }        function clearKete() {            if (confirm('Clear all saved resources from your kete?')) {                localStorage.setItem('myKete', '[]');                loadSavedResources();            }        }        function exportKete() {            const kete = JSON.parse(localStorage.getItem('myKete') || '[]');            alert(`Export feature coming soon! You have ${kete.length} resources to export.`);        }        // Initialize        showTab('saved');    </script>    <style>        .active-tab {            color: #1a4d2e !important;            border-bottom-color: #1a4d2e !important;        }        .kete-tab:hover {            color: #1a4d2e !important;        }    </style><!-- 🎨 ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><!-- 🎨 ULTIMATE BEAUTY: Framer Cultural Gestures --><script src="/js/framer-cultural-gestures-ultimate.js" defer></script><!-- 📊 ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script><!-- PARALLEL COMPONENT LOADING - No more 2-3s delay! -->
<script>
    // Load all components in parallel for instant page display
    // PARALLEL COMPONENT LOADING - No more 2-3s delay!
Promise.all([
    // Components will be loaded here
]).then(() => {
    console.log('✅ All components loaded in parallel');
}).catch(err => {
    if (window.posthog) {
        posthog.capture('component_loading_error', {
            message: err.message,
            url: window.location.pathname
        });
    }
});
        }
        // Show user-friendly message instead of error
        });
</script>
</body></html>