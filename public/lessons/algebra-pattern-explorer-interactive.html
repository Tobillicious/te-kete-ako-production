<!DOCTYPE html>
<html lang="en">
<head>
    <title>Algebra Pattern Explorer | Te Kete Ako</title>

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->


<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->



<!-- ‚≠ê COMPONENT STYLES -->





<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->



<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->


<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->


<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    // Wait for Supabase CDN to load before initializing singleton
    window.addEventListener('DOMContentLoaded', () => {
        if (!window.supabase) {
            // Log to monitoring instead of console
            if (window.posthog) {
                posthog.capture('supabase_cdn_error', {
                    message: 'Supabase CDN failed to load',
                    url: window.location.pathname
                });
            }
        }
    });
</script>
<script src="/js/supabase-singleton.js"></script>
<!-- My Kete Database Integration - loads after singleton -->
<script src="/js/my-kete-database.js"></script>
<!-- Navigation Loader Singleton - loads after supabase setup -->
<script src="/js/navigation-loader.js"></script>
<!-- Component Loader - centralized async component management -->
<script src="/js/component-loader.js"></script>
<meta name="mobile-web-app-capable" content="yes"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Te Kete Ako" name="apple-mobile-web-app-title"/>
<link href="/icons/icon-192x192.png" rel="apple-touch-icon"/>
<!-- ENHANCED SEARCH -->
<script src="/js/enhanced-search.js" defer></script>
<!-- MOBILE PERFORMANCE OPTIMIZER -->
<script src="/js/mobile-performance-optimizer.js" defer></script>
<!-- TOUCH TARGET AUDITOR -->
<script src="/js/touch-target-auditor.js" defer></script>
<!-- üé® ULTIMATE CULTURAL GESTURES - Framer Motion System -->
<script src="/js/framer-cultural-gestures-ultimate.js" defer></script>
<!-- Service Worker Registration -->
<script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('‚úÖ PWA: Service Worker registered!', registration);
                    })
                    .catch(error => {
                        // Log to monitoring instead of console
                        if (window.posthog) {
                            posthog.capture('pwa_service_worker_error', {
                                message: 'Service Worker registration failed',
                                error: error.message,
                                url: window.location.pathname
                            });
                        }
                    });
            });
        }
</script>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->


<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->



<!-- ‚≠ê COMPONENT STYLES -->
    
    
    
    

<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->
    


<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->


<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->

<body>
    <script src="/components/lesson-handout-pairing.js" defer></script>
    <header class="site-header">
        <div class="nav-container"><a href="/index.html" class="nav-brand">Te Kete Ako</a></div>
    </header>
    <main class="container">
        <h1>Algebra Pattern Explorer: Tukutuku & Sequences</h1>


<!-- QUICK START: HOW TO TEACH THIS TOMORROW -->
<div class="quick-start-guide" style="background: linear-gradient(135deg, #fef3c7, #fde68a); border-left: 4px solid #f59e0b; padding: 1.5rem; margin: 2rem 0; border-radius: 8px;">
    <h3 style="color: #92400e; margin-top: 0; display: flex; align-items: center; gap: 0.5rem;">
        ‚ö° Quick Start: Teach This Tomorrow
    </h3>
    
    <div style="background: white; padding: 1rem; border-radius: 6px; margin: 1rem 0;">
        <p style="margin: 0 0 1rem 0; font-weight: 600; color: #1f2937;">
            üïê <strong>Prep Time:</strong> 15-20 minutes | 
            üìÑ <strong>Materials:</strong> Print handout + whiteboard
        </p>
        
        <h4 style="color: #1f2937; margin: 1rem 0 0.5rem 0;">3-Step Implementation:</h4>
        <ol style="margin: 0; padding-left: 1.5rem;">
            <li><strong>Tonight:</strong> Read lesson plan (10 min), print handout (5 min)</li>
            <li><strong>Tomorrow Morning:</strong> Review whakataukƒ´ and cultural context (5 min)</li>
            <li><strong>In Class:</strong> Follow lesson sequence, adapt as needed</li>
        </ol>
    </div>
    
    <div style="display: flex; gap: 1rem; margin-top: 1rem;">
        <button onclick="window.print()" style="background: #1a4d2e; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">
            üñ®Ô∏è Print Lesson
        </button>
        <button onclick="navigator.share ? navigator.share({title: document.title, url: window.location.href}) : alert('Copy this URL to share')" style="background: #2d5f3f; color: white; border: none; padding: 0.75rem 1.5rem; border-radius: 6px; cursor: pointer; font-weight: 600;">
            üì§ Share with Colleague
        </button>
    </div>
</div>



        
        <section style="background: #fff7ed; margin: 2rem 0; ">
            <p >"He aha te mea nui? He tangata!"</p>
            <p>Patterns connect us to traditional MƒÅori art and modern mathematics</p>
        </section>
        
        <h2>Visual Pattern Exploration</h2>
        <div class="activity-card">
            <h3>Pattern 1: Growing Squares (Tukutuku Pattern)</h3>
            <div id="pattern1Container"></div>
            <p><strong>How many blocks in pattern 5?</strong> <span id="pattern1Answer"></span></p>
            <button class="calc-btn" onclick="showPattern(1, 5)">Show Pattern 5</button>
        </div>
        
        <h2>Sequence Calculator</h2>
        <div class="calculator-box">
            <h3>üìê Arithmetic Sequence Calculator</h3>
            <p><strong>Formula:</strong> a‚Çô = a‚ÇÅ + (n-1)d</p>
            
            <div class="input-row">
                <label>First term (a‚ÇÅ):</label>
                <input type="number" id="firstTerm" value="3">
            </div>
            <div class="input-row">
                <label>Common difference (d):</label>
                <input type="number" id="difference" value="4">
            </div>
            <div class="input-row">
                <label>Which term (n):</label>
                <input type="number" id="nthTerm" value="10" min="1">
            </div>
            
            <button class="calc-btn" onclick="calculateSequence()">Calculate nth Term</button>
            
            <div id="seqResult" class="result-box">
                <h4>Results:</h4>
                <p style="font-size: 2rem; font-weight: bold;" id="termValue"></p>
                <p><strong>Sequence:</strong> <span id="sequenceDisplay"></span></p>
                <p><strong>Working:</strong> <span id="working"></span></p>
            </div>
        </div>
        
        <h2>Visual Sequence Graph</h2>
        <div class="activity-card">
            <div class="chart-container">
                <canvas id="sequenceChart"></canvas>
            </div>
            <button class="calc-btn" onclick="graphSequence()">Graph Current Sequence</button>
        </div>
        
        <h2>Tukutuku Patterns in Algebra</h2>
        <div class="activity-card">
            <p>Traditional MƒÅori tukutuku (lattice work) panels follow mathematical patterns:</p>
            <ul>
                <li><strong>PƒÅtikitiki:</strong> Flounder pattern (diamond sequences)</li>
                <li><strong>Niho taniwha:</strong> Taniwha teeth (triangular patterns)</li>
                <li><strong>Purapura whetu:</strong> Seeds of stars (star patterns)</li>
            </ul>
            <p>Each pattern can be described algebraically!</p>
        </div>
        
        <h2>Challenge Problems</h2>
        <div class="activity-card">
            <ol>
                <li>A koru pattern grows: 1, 3, 5, 7... What's the 20th term?</li>
                <li>Tukutuku pattern: 2, 5, 8, 11... Write the formula for the nth term</li>
                <li>If pattern continues for 50 terms, what's the total number of blocks?</li>
            </ol>
        </div>
    
<!-- ANSWER KEY NOTICE -->
<div class="answer-key-notice" style="background: #f0f9ff; border: 2px solid #0284c7; padding: 1.5rem; margin: 2rem 0; border-radius: 8px;">
    <h4 style="color: #0c4a6e; margin-top: 0; display: flex; align-items: center; gap: 0.5rem;">
        üìã Answer Keys & Marking Support
    </h4>
    <p style="margin: 0; color: #1e40af;">
        <strong>Answer keys available for this resource.</strong> 
        <a href="/contact.html" style="color: #0284c7; font-weight: 600;">Request answer key ‚Üí</a>
    </p>
    <p style="margin: 0.5rem 0 0 0; font-size: 0.9rem; color: #475569;">
        Marking rubrics and model answers provided to support your teaching.
    </p>
</div>

</main>
    <footer class="site-footer"><p>¬© 2025 Te Kete Ako</p></footer>
    <script>
        let seqChart;
        
        function showPattern(patternNum, n) {
            const container = document.getElementById('pattern1Container');
            container.innerHTML = '';
            const grid = document.createElement('div');
            grid.className = 'pattern-grid';
            grid.style.gridTemplateColumns = `repeat(${n}, 60px)`;
            
            for (let i = 0; i < n * n; i++) {
                const block = document.createElement('div');
                block.className = 'pattern-block koru-pattern';
                block.textContent = i < n ? 'üåø' : '';
                grid.appendChild(block);
            }
            container.appendChild(grid);
            document.getElementById('pattern1Answer').textContent = `${n * n} blocks`;
        }
        
        function calculateSequence() {
            const a1 = parseFloat(document.getElementById('firstTerm').value);
            const d = parseFloat(document.getElementById('difference').value);
            const n = parseInt(document.getElementById('nthTerm').value);
            
            const an = a1 + (n - 1) * d;
            
            // Generate sequence
            let sequence = [];
            for (let i = 1; i <= Math.min(n, 10); i++) {
                sequence.push(a1 + (i - 1) * d);
            }
            if (n > 10) sequence.push('...' + an);
            
            document.getElementById('termValue').textContent = `Term ${n} = ${an}`;
            document.getElementById('sequenceDisplay').textContent = sequence.join(', ');
            document.getElementById('working').innerHTML = `
                a<sub>${n}</sub> = ${a1} + (${n}-1) √ó ${d}<br>
                a<sub>${n}</sub> = ${a1} + ${n-1} √ó ${d}<br>
                a<sub>${n}</sub> = ${a1} + ${(n-1)*d}<br>
                a<sub>${n}</sub> = <strong>${an}</strong>
            `;
            
            document.getElementById('seqResult').classList.add('show');
        }
        
        function graphSequence() {
            const a1 = parseFloat(document.getElementById('firstTerm').value);
            const d = parseFloat(document.getElementById('difference').value);
            const n = parseInt(document.getElementById('nthTerm').value);
            
            const terms = Math.min(n, 20);
            const labels = [];
            const data = [];
            
            for (let i = 1; i <= terms; i++) {
                labels.push(`n=${i}`);
                data.push(a1 + (i - 1) * d);
            }
            
            const ctx = document.getElementById('sequenceChart').getContext('2d');
            if (seqChart) seqChart.destroy();
            
            seqChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Sequence Values',
                        data: data,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        tension: 0,
                        fill: true,
                        pointRadius: 5,
                        pointBackgroundColor: '#10b981'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { title: { display: true, text: 'Arithmetic Sequence Visualization' } },
                    scales: { y: { title: { display: true, text: 'Term Value' } } }
                }
            });
        }
        
        showPattern(1, 3);
    </script>

<!-- üîó GraphRAG Similar Resources Component -->
<div id="similar-resources" data-resource-path="/public/lessons/algebra-pattern-explorer-interactive.html"></div>


<!-- PARALLEL COMPONENT LOADING - No more 2-3s delay! -->
<script>
    // Load all components in parallel for instant page display
    // PARALLEL COMPONENT LOADING - No more 2-3s delay!
Promise.all([
    // Components will be loaded here
]).then(() => {
    console.log('‚úÖ All components loaded in parallel');
}).catch(err => {
    if (window.posthog) {
        posthog.capture('component_loading_error', {
            message: err.message,
            url: window.location.pathname
        });
    }
});
        }
        // Show user-friendly message instead of error
        });
</script>
<!-- üåø PROFESSIONAL SIDEBAR -->
<script src="/js/sidebar-auto-loader.js" defer></script>
</body>
</html>

