<!DOCTYPE html>
<html lang="en" data-visibility="searchable" data-prominence="low">
<head>
    <title>Probability Interactive - Ngā Mahi Tīpako | Te Kete Ako</title>

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ⭐ PROFESSIONAL SYSTEM FIRST - Core design tokens -->


<!-- ⭐ THEME SYSTEM (Tailwind + Ultimate Beauty) -->



<!-- ⭐ COMPONENT STYLES -->





<!-- ⭐ PRINT STYLES (media="print" = only for printing) -->



<!-- ⭐ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->


<!-- ⭐ CASCADE FIX (Loads LAST - overrides conflicting variables) -->


<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    // Wait for Supabase CDN to load before initializing singleton
    window.addEventListener('DOMContentLoaded', () => {
        if (!window.supabase) {
            // Log to monitoring instead of console
            if (window.posthog) {
                posthog.capture('supabase_cdn_error', {
                    message: 'Supabase CDN failed to load',
                    url: window.location.pathname
                });
            }
        }
    });
</script>
<script src="/js/supabase-singleton.js"></script>
<!-- My Kete Database Integration - loads after singleton -->
<script src="/js/my-kete-database.js"></script>
<!-- Navigation Loader Singleton - loads after supabase setup -->
<script src="/js/navigation-loader.js"></script>
<!-- Component Loader - centralized async component management -->
<script src="/js/component-loader.js"></script>
<meta name="mobile-web-app-capable" content="yes"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Te Kete Ako" name="apple-mobile-web-app-title"/>
<link href="/icons/icon-192x192.png" rel="apple-touch-icon"/>
<!-- ENHANCED SEARCH -->
<script src="/js/enhanced-search.js" defer></script>
<!-- MOBILE PERFORMANCE OPTIMIZER -->
<script src="/js/mobile-performance-optimizer.js" defer></script>
<!-- TOUCH TARGET AUDITOR -->
<script src="/js/touch-target-auditor.js" defer></script>
<!-- 🎨 ULTIMATE CULTURAL GESTURES - Framer Motion System -->
<script src="/js/framer-cultural-gestures-ultimate.js" defer></script>
<!-- Service Worker Registration -->
<script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('✅ PWA: Service Worker registered!', registration);
                    })
                    .catch(error => {
                        // Log to monitoring instead of console
                        if (window.posthog) {
                            posthog.capture('pwa_service_worker_error', {
                                message: 'Service Worker registration failed',
                                error: error.message,
                                url: window.location.pathname
                            });
                        }
                    });
            });
        }
</script>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ⭐ PROFESSIONAL SYSTEM FIRST - Core design tokens -->


<!-- ⭐ THEME SYSTEM (Tailwind + Ultimate Beauty) -->



<!-- ⭐ COMPONENT STYLES -->
    
    
    
    

<!-- ⭐ PRINT STYLES (media="print" = only for printing) -->
    


<!-- ⭐ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->


<!-- ⭐ CASCADE FIX (Loads LAST - overrides conflicting variables) -->

<body>
    <script src="/components/lesson-handout-pairing.js" defer></script>
    <header class="site-header">
        <div class="nav-container">
            <a href="/index.html" class="nav-brand">Te Kete Ako</a>
        </div>
    </header>

    <main class="container">
        <h1 class="wiley-hero-title">Ngā Mahi Tīpako - Probability Interactive</h1>

        <section class="cultural-integration" style="background: #fff7ed; margin: 2rem 0;">
            <h2>🌿 Cultural Context</h2>
            <p >"He aha te mea nui o te ao? He tangata, he tangata, he tangata!"</p>
            <p >"What is the most important thing in the world? It is people, it is people, it is people!"</p>
            <p style="margin-top: 1rem;"><em>Traditional Māori games like mū tōrere involved strategic thinking and probability</em></p>
        </section>

        <h2>Learning Objectives</h2>
        <ul>
            <li>Understand basic probability concepts through interactive experiments</li>
            <li>Calculate theoretical vs experimental probability</li>
            <li>Analyze patterns in random events</li>
            <li>Connect probability to traditional Māori games</li>
        </ul>

        <h2>Part 1: Dice Rolling Experiment</h2>
        
        <div class="activity-card">
            <h3>🎲 Roll the Dice - Tūwhiuwhia te Katakata</h3>
            <p>Roll two dice and observe the patterns! Track how often each sum appears.</p>
            
            <div class="dice-container">
                <div class="die" id="die1">?</div>
                <div class="die" id="die2">?</div>
            </div>
            
            <div >
                <button class="roll-btn" onclick="rollDice()">🎲 Roll Dice / Tūwhiuwhia</button>
                <button class="roll-btn" style="background: #6b7280;" onclick="resetDice()">🔄 Reset</button>
            </div>
            
            <div class="stats-box">
                <h4>Results / Ngā Hua:</h4>
                <p><strong>Total Rolls:</strong> <span id="totalRolls">0</span></p>
                <p><strong>Current Sum:</strong> <span id="currentSum">-</span></p>
                <p><strong>Most Common Sum:</strong> <span id="mostCommon">-</span></p>
            </div>
            
            <div class="chart-container" style="margin-top: 2rem;">
                <canvas id="diceChart"></canvas>
            </div>
            
            <div style="background: #f9fafb; margin-top: 1.5rem;">
                <h4>🤔 Think About It:</h4>
                <ol>
                    <li>Which sum appears most often? Why?</li>
                    <li>What is the theoretical probability of rolling a 7?</li>
                    <li>How does your experimental data compare to theoretical probability?</li>
                    <li>If you rolled 1000 times, what would you expect?</li>
                </ol>
            </div>
        </div>

        <h2>Part 2: Probability Spinner</h2>
        
        <div class="spinner-section">
            <h3>🎯 Kōwhiri Tīpako - Probability Spinner</h3>
            <p>Spin to land on: <strong style="color: #10b981;">Green (25%)</strong>, <strong style="color: #3b82f6;">Blue (25%)</strong>, <strong style="color: #ef4444;">Red (25%)</strong>, <strong style="color: #f59e0b;">Yellow (25%)</strong></p>
            
            <div >
                <div class="spinner-pointer"></div>
                <div class="spinner" id="spinner"></div>
            </div>
            
            <button class="roll-btn" onclick="spinWheel()">🎯 Spin / Hurihuri</button>
            
            <div class="stats-box" style="margin-top: 2rem;">
                <h4>Spin Results:</h4>
                <p>🟢 Green: <span id="greenCount">0</span> (<span id="greenPercent">0</span>%)</p>
                <p>🔵 Blue: <span id="blueCount">0</span> (<span id="bluePercent">0</span>%)</p>
                <p>🔴 Red: <span id="redCount">0</span> (<span id="redPercent">0</span>%)</p>
                <p>🟡 Yellow: <span id="yellowCount">0</span> (<span id="yellowPercent">0</span>%)</p>
                <p><strong>Total Spins:</strong> <span id="totalSpins">0</span></p>
            </div>
        </div>

        <h2>Part 3: Theoretical Probability Calculator</h2>
        
        <div class="activity-card">
            <h3>🧮 Calculate Probability</h3>
            <p><strong>Formula:</strong> Probability = Favorable Outcomes ÷ Total Possible Outcomes</p>
            
            <div class="input-group" >
                <label>Number of favorable outcomes:</label>
                <input type="number" id="favorable" value="1" min="0" style="width: 100px;">
            </div>
            
            <div class="input-group">
                <label>Total possible outcomes:</label>
                <input type="number" id="total" value="6" min="1" style="width: 100px;">
            </div>
            
            <button class="roll-btn" onclick="calculateProbability()">Calculate</button>
            
            <div id="probResult" class="stats-box" style="display: none;">
                <h4>Result:</h4>
                <p style="font-size: 1.5rem; font-weight: bold;">Probability = <span id="probFraction"></span> = <span id="probDecimal"></span> = <span id="probPercent"></span>%</p>
            </div>
        </div>

        <h2>Connection to Traditional Games</h2>
        
        <div class="activity-card">
            <h3>Mū Tōrere - Traditional Māori Game</h3>
            <p>Mū tōrere is a traditional Māori strategy game involving probability and forward-thinking:</p>
            <ul>
                <li>Players must predict opponent moves</li>
                <li>Calculate probability of different outcomes</li>
                <li>Strategic planning based on likely scenarios</li>
            </ul>
            <p><strong>Extension:</strong> Research mū tōrere and analyze the probability strategies involved</p>
        </div>

        <h2>Assessment Activities</h2>
        <ol>
            <li>Conduct 50 dice rolls and compare your results to theoretical probability</li>
            <li>Create a probability question based on a real-life scenario</li>
            <li>Explain the difference between theoretical and experimental probability</li>
            <li>Design your own probability experiment</li>
        </ol>

    </main>

    <footer class="site-footer">
        <p>© 2025 Te Kete Ako</p>
    </footer>

    <script>
        // Dice Rolling
        let rollCount = 0;
        let sumCounts = {};
        for (let i = 2; i <= 12; i++) sumCounts[i] = 0;

        const diceCtx = document.getElementById('diceChart').getContext('2d');
        const diceChart = new Chart(diceCtx, {
            type: 'bar',
            data: {
                labels: ['2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
                datasets: [{
                    label: 'Times Rolled',
                    data: Object.values(sumCounts),
                    backgroundColor: '#4a6e2a',
                    borderColor: '#3b5b23',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Dice Sum Distribution' }
                },
                scales: {
                    y: { beginAtZero: true, title: { display: true, text: 'Frequency' } }
                }
            }
        });

        function rollDice() {
            const die1 = Math.floor(Math.random() * 6) + 1;
            const die2 = Math.floor(Math.random() * 6) + 1;
            const sum = die1 + die2;

            document.getElementById('die1').textContent = die1;
            document.getElementById('die2').textContent = die2;
            document.getElementById('die1').classList.add('rolling');
            document.getElementById('die2').classList.add('rolling');
            
            setTimeout(() => {
                document.getElementById('die1').classList.remove('rolling');
                document.getElementById('die2').classList.remove('rolling');
            }, 500);

            rollCount++;
            sumCounts[sum]++;
            
            document.getElementById('totalRolls').textContent = rollCount;
            document.getElementById('currentSum').textContent = sum;
            
            const mostCommon = Object.keys(sumCounts).reduce((a, b) => sumCounts[a] > sumCounts[b] ? a : b);
            document.getElementById('mostCommon').textContent = `${mostCommon} (${sumCounts[mostCommon]} times)`;

            diceChart.data.datasets[0].data = Object.values(sumCounts);
            diceChart.update();
        }

        function resetDice() {
            rollCount = 0;
            for (let i = 2; i <= 12; i++) sumCounts[i] = 0;
            document.getElementById('die1').textContent = '?';
            document.getElementById('die2').textContent = '?';
            document.getElementById('totalRolls').textContent = '0';
            document.getElementById('currentSum').textContent = '-';
            document.getElementById('mostCommon').textContent = '-';
            diceChart.data.datasets[0].data = Object.values(sumCounts);
            diceChart.update();
        }

        // Spinner
        let spinCounts = { green: 0, blue: 0, red: 0, yellow: 0 };
        let totalSpinCount = 0;

        function spinWheel() {
            const spinner = document.getElementById('spinner');
            const rotation = Math.floor(Math.random() * 360) + 1440; // At least 4 full rotations
            spinner.style.transform = `rotate(${rotation}deg)`;
            
            setTimeout(() => {
                const finalAngle = rotation % 360;
                let color;
                if (finalAngle < 90) color = 'green';
                else if (finalAngle < 180) color = 'blue';
                else if (finalAngle < 270) color = 'red';
                else color = 'yellow';
                
                spinCounts[color]++;
                totalSpinCount++;
                
                updateSpinStats();
            }, 2000);
        }

        function updateSpinStats() {
            document.getElementById('greenCount').textContent = spinCounts.green;
            document.getElementById('blueCount').textContent = spinCounts.blue;
            document.getElementById('redCount').textContent = spinCounts.red;
            document.getElementById('yellowCount').textContent = spinCounts.yellow;
            document.getElementById('totalSpins').textContent = totalSpinCount;
            
            if (totalSpinCount > 0) {
                document.getElementById('greenPercent').textContent = ((spinCounts.green / totalSpinCount) * 100).toFixed(1);
                document.getElementById('bluePercent').textContent = ((spinCounts.blue / totalSpinCount) * 100).toFixed(1);
                document.getElementById('redPercent').textContent = ((spinCounts.red / totalSpinCount) * 100).toFixed(1);
                document.getElementById('yellowPercent').textContent = ((spinCounts.yellow / totalSpinCount) * 100).toFixed(1);
            }
        }

        // Probability Calculator
        function calculateProbability() {
            const favorable = parseFloat(document.getElementById('favorable').value);
            const total = parseFloat(document.getElementById('total').value);
            
            if (total === 0) {
                alert('Total outcomes cannot be 0!');
                return;
            }
            
            const probability = favorable / total;
            const percent = (probability * 100).toFixed(2);
            
            // Simplify fraction
            const gcd = (a, b) => b === 0 ? a : gcd(b, a % b);
            const divisor = gcd(favorable, total);
            const simplifiedNum = favorable / divisor;
            const simplifiedDen = total / divisor;
            
            document.getElementById('probFraction').textContent = `${simplifiedNum}/${simplifiedDen}`;
            document.getElementById('probDecimal').textContent = probability.toFixed(4);
            document.getElementById('probPercent').textContent = percent;
            document.getElementById('probResult').style.display = 'block';
        }
    </script>

<!-- 🔗 GraphRAG Similar Resources Component -->
<div id="similar-resources" data-resource-path="/public/lessons/probability-interactive-ngā-mahi-tīpako.html"></div>


<!-- PARALLEL COMPONENT LOADING - No more 2-3s delay! -->
<script>
    // Load all components in parallel for instant page display
    // PARALLEL COMPONENT LOADING - No more 2-3s delay!
Promise.all([
    // Components will be loaded here
]).then(() => {
    console.log('✅ All components loaded in parallel');
}).catch(err => {
    if (window.posthog) {
        posthog.capture('component_loading_error', {
            message: err.message,
            url: window.location.pathname
        });
    }
});
        }
        // Show user-friendly message instead of error
        });
</script>
</body>
</html>

