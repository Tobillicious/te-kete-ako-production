<!DOCTYPE html><html lang="en"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Teaching Options Library | Te Kete Ako</title>

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- â­ PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- â­ THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- â­ COMPONENT STYLES -->
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/navigation-standard.css">
<link rel="stylesheet" href="/css/mobile-revolution.css">
<link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- â­ PRINT STYLES (media="print" = only for printing) -->
<link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- â­ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- â­ CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css">

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    // Wait for Supabase CDN to load before initializing singleton
    window.addEventListener('DOMContentLoaded', () => {
        if (!window.supabase) {
            // Log to monitoring instead of console
            if (window.posthog) {
                posthog.capture('supabase_cdn_error', {
                    message: 'Supabase CDN failed to load',
                    url: window.location.pathname
                });
            }
        }
    });
</script>
<script src="/js/supabase-singleton.js"></script>
<!-- My Kete Database Integration - loads after singleton -->
<script src="/js/my-kete-database.js"></script>
<!-- Navigation Loader Singleton - loads after supabase setup -->
<script src="/js/navigation-loader.js"></script>
<!-- Component Loader - centralized async component management -->
<script src="/js/component-loader.js"></script>
<meta name="mobile-web-app-capable" content="yes"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Te Kete Ako" name="apple-mobile-web-app-title"/>
<link href="/icons/icon-192x192.png" rel="apple-touch-icon"/>
<!-- ENHANCED SEARCH -->
<script src="/js/enhanced-search.js" defer></script>
<!-- MOBILE PERFORMANCE OPTIMIZER -->
<script src="/js/mobile-performance-optimizer.js" defer></script>
<!-- TOUCH TARGET AUDITOR -->
<script src="/js/touch-target-auditor.js" defer></script>
<!-- ğŸ¨ ULTIMATE CULTURAL GESTURES - Framer Motion System -->
<script src="/js/framer-cultural-gestures-ultimate.js" defer></script>
<!-- Service Worker Registration -->
<script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('âœ… PWA: Service Worker registered!', registration);
                    })
                    .catch(error => {
                        // Log to monitoring instead of console
                        if (window.posthog) {
                            posthog.capture('pwa_service_worker_error', {
                                message: 'Service Worker registration failed',
                                error: error.message,
                                url: window.location.pathname
                            });
                        }
                    });
            });
        }
</script>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Teaching Options Library - Choose from thousands of lesson variants based on your class needs, cultural context, and time available.">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- â­ PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- â­ THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- â­ COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- â­ PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- â­ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- â­ CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body class="pattern-koru-subtle"> <!-- ğŸ¨ ULTIMATE BEAUTY: Navigation --> <div id="nav-container"></div>     <div id="nav-placeholder"></div>    <main class="container">        <nav class="breadcrumb" aria-label="Breadcrumb">            <a href="/index.html">Home</a>            <span>â†’</span>            <span class="current">Teaching Options Library</span>        </nav>        <!-- WhakataukÄ« Cultural Context -->        <div class="whakataukÄ«-box" style="margin: 2rem 0;">            <p class="whakataukÄ«-text">                "MÄ te huruhuru te manu ka rere"            </p>            <p class="whakataukÄ«-attribution">                â€” It is the feathers that enable the bird to fly (With the right tools and support, we soar)            </p>        </div>        <header class="kowhaiwhai-border-top kowhaiwhai-border-bottom" style="padding: 4rem 2rem; margin: 2rem 0; ">            <div class="p-2" style="background: rgba(255,255,255,0.3); padding: 0.5rem 1.5rem; border-radius: 24px; "                <span style="color: #0c4a6e; font-size: 0.95rem;">â­ SMART SEARCH</span>            </div>            <h1 style="font-size: 3.5rem; color: #0c4a6e; ">ğŸ¯ Teaching Options Library</h1>            <p class="m-0 mx-auto" Choose from <strong id="total-variants">20,000+</strong> lesson variants - same content, different approaches!            </p>            <p style="margin-top: 1rem; color: #0369a1; ">                Pick the version that fits YOUR students, YOUR time, YOUR context            </p>        </header>        <!-- Filter Panel -->        <section style="margin: 2rem 0; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">            <h2 style="margin-bottom: 1.5rem;">ğŸ” Find Your Perfect Teaching Option</h2>            <div style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem;">                <!-- Cultural Integration Filter -->                <div>                    <label >                        ğŸŒ¿ Cultural Integration                    </label>                    <select id="filter-cultural" >                        <option value="">All Levels</option>                        <option value="high">High (WhakataukÄ«, tikanga, mÄtauranga)</option>                        <option value="medium">Medium (MÄori context included)</option>                        <option value="low">Low (Minimal cultural content)</option>                    </select>                </div>                <!-- Resource Type Filter -->                <div>                    <label >                        ğŸ“š Resource Type                    </label>                    <select id="filter-type" >                        <option value="">All Types</option>                        <option value="lesson">Lessons</option>                        <option value="handout">Handouts</option>                        <option value="unit-plan">Unit Plans</option>                        <option value="game">Games</option>                        <option value="assessment">Assessments</option>                    </select>                </div>                <!-- Variant Type Filter -->                <div>                    <label >                        ğŸ¨ Variant Type                    </label>                    <select id="filter-variant" >                        <option value="">All Variants</option>                        <option value="active">Current/Active Version</option>                        <option value="legacy_css">Legacy CSS (simpler styling)</option>                        <option value="historical">Historical Archive</option>                        <option value="timestamped">Timestamped Backup</option>                    </select>                </div>                <!-- Search with Autocomplete -->                <div >                    <label >                        ğŸ” Search                    </label>                    <input type="text" id="search-box" placeholder="Search lessons..." autocomplete="off">                    <!-- Autocomplete suggestions dropdown -->                    <div id="autocomplete-suggestions" style="display: none; top: 100%; left: 0; right: 0; border-top: none; border-radius: 0 0 8px 8px; max-overflow-y: auto; z-index: 100; box-shadow: 0 8px 16px rgba(0,0,0,0.1);"></div>                </div>            </div>            <!-- Popular Searches -->            <div style="margin-top: 1rem; background: #f0f9ff; ">                <div style="color: #0369a1; margin-bottom: 0.75rem; ">ğŸ”¥ Popular Searches:</div>                <div style="gap: 0.75rem; flex-wrap: wrap;">                    <button onclick="quickSearch('algebra')" class="quick-search-btn">algebra</button>                    <button onclick="quickSearch('ecosystem')" class="quick-search-btn">ecosystem</button>                    <button onclick="quickSearch('statistics')" class="quick-search-btn">statistics</button>                    <button onclick="quickSearch('digital')" class="quick-search-btn">digital kaitiakitanga</button>                    <button onclick="quickSearch('whakataukÄ«')" class="quick-search-btn">whakataukÄ«</button>                    <button onclick="quickSearch('writing')" class="quick-search-btn">writing</button>                </div>            </div>            <div style="margin-top: 1.5rem; ">                <button id="apply-filters" class="p-4" style="background: #1a4d2e; color: white; padding: 1rem 3rem; border: none; cursor: pointer; "                    ğŸ¯ Find Teaching Options                </button>                <button id="clear-filters" class="p-4" style="background: #6b7280; color: white; padding: 1rem 2rem; border: none; cursor: pointer; margin-left: 1rem;"                    Clear All                </button>            </div>        </section>        <!-- Results Section -->        <section id="results-section" style="margin: 3rem 0;">            <div style="justify-content: space-between; align-items: center; ">                <h2 >                    ğŸ“‹ Teaching Options                    <span id="results-count" style="color: #6b7280; font-weight: normal;"></span>                </h2>                <div style="color: #6b7280;">                    <span id="loading-indicator" style="display: none;">â³ Loading...</span>                </div>            </div>            <div id="results-container" style="gap: 1.5rem;">                <!-- Results will be populated here -->                <div style="padding: 4rem 2rem; color: #6b7280;">                    <p >Click "Find Teaching Options" to see available variants</p>                    <p style="margin-top: 1rem;">Or use the filters above to narrow your search</p>                </div>            </div>        </section>    </main>    <div id="footer-placeholder"></div>        <script src="/js/global-scripts.js"></script>    <script>        // Initialize Supabase        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM';        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);        // Load total count on page load        async function loadTotalCount() {            const { count } = await supabase                .from('graphrag_resources')                .select('*', { count: 'exact', head: true });            document.getElementById('total-variants').textContent = count.toLocaleString();        }        // Search and filter function        async function findTeachingOptions() {            const cultural = document.getElementById('filter-cultural').value;            const type = document.getElementById('filter-type').value;            const variant = document.getElementById('filter-variant').value;            const search = document.getElementById('search-box').value;            document.getElementById('loading-indicator').style.display = 'inline';            let query = supabase.from('graphrag_resources').select('*');            // Apply filters            if (type) {                query = query.eq('type', type);            }            if (cultural) {                query = query.eq('cultural_elements->>cultural_integration', cultural);            }            if (variant) {                query = query.eq('cultural_elements->>variant_type', variant);            }            if (search) {                query = query.ilike('title', `%${search}%`);            }            // Order by recent first, limit to 50 results            query = query.order('created_at', { ascending: false }).limit(50);            const { data, error, count } = await query;            document.getElementById('loading-indicator').style.display = 'none';            if (error) {                alert('Error loading results: ' + error.message);                return;            }            displayResults(data);        }        // Display results with RICH DETAILS        function displayResults(resources) {            const container = document.getElementById('results-container');            const countSpan = document.getElementById('results-count');            if (!resources || resources.length === 0) {                container.innerHTML = '<div style="padding: 3rem; color: #6b7280;"><p >No teaching options found with these filters</p><p style="margin-top: 1rem;">Try adjusting your search criteria</p></div>';                countSpan.textContent = '(0 results)';                return;            }            countSpan.textContent = `(${resources.length} results shown)`;            container.innerHTML = resources.map(resource => {                const cultural = resource.cultural_elements?.cultural_integration || 'unknown';                const variantType = resource.cultural_elements?.variant_type || 'standard';                const difficulty = resource.difficulty_level || 'intermediate';                const culturalColor = cultural === 'high' ? '#16a34a' : (cultural === 'medium' ? '#f59e0b' : '#6b7280');                const culturalBg = cultural === 'high' ? '#dcfce7' : (cultural === 'medium' ? '#fef3c7' : '#f3f4f6');                const culturalStars = cultural === 'high' ? 'ğŸŒ¿ğŸŒ¿ğŸŒ¿' : (cultural === 'medium' ? 'ğŸŒ¿ğŸŒ¿' : 'ğŸŒ¿');                // Quality score (mock - could be real from metadata)                const qualityScore = cultural === 'high' ? 95 : (cultural === 'medium' ? 85 : 75);                return `                    <div class="lesson-card cultural-card" style="border-left: 6px solid ${culturalColor}; box-shadow: 0 6px 16px rgba(0,0,0,0.1); ">                        <!-- Quality Badge -->                        <div style="top: 1rem; right: 1rem;">                            <span class="gold-standard-badge" style="padding: 0.3rem 0.8rem;">                                â­ ${qualityScore}/100                            </span>                        </div>                        <!-- Title with Cultural Stars -->                        <div style="margin-bottom: 1.5rem; padding-right: 5rem;">                            <div >                                <span title="Cultural integration level">${culturalStars}</span>                            </div>                            <h3 style="line-">                                ${resource.title}                            </h3>                        </div>                        <!-- Description -->                        <p style="color: #546e7a; line-">                            ${resource.description || 'Professional teaching resource with cultural integration'}                        </p>                        <!-- Rich Details Grid -->                        <div style="grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 1.5rem 0; background: #f9fafb; ">                            <div>                                <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Resource Type</div>                                <div >ğŸ“š ${resource.type}</div>                            </div>                            <div>                                <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Duration</div>                                <div >â±ï¸ ${resource.estimated_duration_minutes || 60} min</div>                            </div>                            <div>                                <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Difficulty</div>                                <div >ğŸ“ˆ ${difficulty}</div>                            </div>                            <div>                                <div style="font-size: 0.85rem; color: #6b7280; margin-bottom: 0.25rem;">Year Level</div>                                <div >ğŸ“ ${resource.level || 'Multi-level'}</div>                            </div>                        </div>                        <!-- Tags -->                        <div style="gap: 0.75rem; flex-wrap: wrap;">                            <span class="cultural-badge cultural-badge-${cultural}" style="display: inline-flex; align-items: center; gap: 0.3rem;">                                ${culturalStars} ${cultural.charAt(0).toUpperCase() + cultural.slice(1)} Cultural                            </span>                            <span style="background: #fef3c7; color: #92400e; padding: 0.4rem 1rem; font-size: 0.85rem; ">                                ğŸ¨ ${variantType.replace(/_/g, ' ')}                            </span>                        </div>                        <!-- Path -->                        <div style="background: #f0f9ff; ">                            <small style="color: #0369a1; font-family: monospace; font-size: 0.85rem;">                                ğŸ“ ${resource.path ? resource.path : 'Path not available'}                            </small>                        </div>                        <!-- Action Buttons -->                        <div style="grid-template-columns: 2fr 1fr 1fr; gap: 1rem; margin-top: 1.5rem;">                            <a href="${resource.path}" target="_blank" class="shadow-lg" style="color: white; border-radius: 10px; text-decoration: none; transition: all 0.3s; box-shadow: 0 4px 12px ${culturalColor}33;"                                ğŸ“– View Lesson                            </a>                            <button onclick="findSimilarVariants('${resource.title.split('(')[0].trim()}')" style="background: #f59e0b; color: white; border: none; border-radius: 10px; cursor: pointer; transition: all 0.3s;">                                ğŸ” Variants                            </button>                            <button onclick="addToKete('${resource.id}', '${resource.title.replace(/'/g, "\\'")}')" style="background: #6366f1; color: white; border: none; border-radius: 10px; cursor: pointer; transition: all 0.3s;">                                ğŸ’ Save                            </button>                        </div>                    </div>                `;            }).join('');        }        // Add to My Kete function        function addToKete(resourceId, title) {            let kete = JSON.parse(localStorage.getItem('myKete') || '[]');            const item = { id: resourceId, title: title, addedAt: new Date().toISOString() };            if (!kete.find(k => k.id === resourceId)) {                kete.push(item);                localStorage.setItem('myKete', JSON.stringify(kete));                // Show success feedback                const btn = event.target;                const originalText = btn.innerHTML;                btn.innerHTML = 'âœ… Saved!';                btn.style.background = '#16a34a';                setTimeout(() => {                    btn.innerHTML = originalText;                    btn.style.background = '#6366f1';                }, 2000);            } else {                alert('Already in your kete!');            }        }        // Find similar variants of the same lesson        async function findSimilarVariants(baseTitle) {            const { data } = await supabase                .from('graphrag_resources')                .select('*')                .ilike('title', `%${baseTitle}%`)                .limit(20);            if (data && data.length > 1) {                displayResults(data);                document.getElementById('results-count').textContent = `(${data.length} variants of "${baseTitle}")`;            }        }        // Clear filters        function clearFilters() {            document.getElementById('filter-cultural').value = '';            document.getElementById('filter-type').value = '';            document.getElementById('filter-variant').value = '';            document.getElementById('search-box').value = '';            document.getElementById('results-container').innerHTML = '<div style="padding: 4rem 2rem; color: #6b7280;"><p >Filters cleared! Click "Find Teaching Options" to browse</p></div>';            document.getElementById('results-count').textContent = '';        }        // Event listeners        document.getElementById('apply-filters').addEventListener('click', findTeachingOptions);        document.getElementById('clear-filters').addEventListener('click', clearFilters);        // Search on Enter        document.getElementById('search-box').addEventListener('keypress', (e) => {            if (e.key === 'Enter') {                findTeachingOptions();            }        });        // Load total count on page load        loadTotalCount();        // Autocomplete functionality        let autocompleteTimeout;        document.getElementById('search-box').addEventListener('input', async (e) => {            const term = e.target.value.trim();            const suggestionsDiv = document.getElementById('autocomplete-suggestions');            if (term.length < 2) {                suggestionsDiv.style.display = 'none';                return;            }            // Debounce            clearTimeout(autocompleteTimeout);            autocompleteTimeout = setTimeout(async () => {                const { data } = await supabase                    .from('graphrag_resources')                    .select('title, type, path')                    .ilike('title', `%${term}%`)                    .limit(10);                if (data && data.length > 0) {                    suggestionsDiv.innerHTML = data.map(item => `                        <div onclick="selectSuggestion('${item.title.replace(/'/g, "\\'")}', '${item.path}')" class="p-3" style="padding: 0.75rem 1rem; cursor: pointer; border-bottom: 1px solid #f3f4f6; transition: background 0.2s;" onmouseover="this.style.background='#f0f9ff'" onmouseout="this.style.background='white'"                            <div style="margin-bottom: 0.25rem;">${item.title}</div>                            <div style="font-size: 0.85rem; color: #6b7280;">ğŸ“š ${item.type}</div>                        </div>                    `).join('');                    suggestionsDiv.style.display = 'block';                } else {                    suggestionsDiv.style.display = 'none';                }            }, 300);        });        // Select suggestion        function selectSuggestion(title, path) {            document.getElementById('search-box').value = title;            document.getElementById('autocomplete-suggestions').style.display = 'none';            findTeachingOptions();        }        // Hide suggestions on click outside        document.addEventListener('click', (e) => {            if (!e.target.closest('#search-box') && !e.target.closest('#autocomplete-suggestions')) {                document.getElementById('autocomplete-suggestions').style.display = 'none';            }        });        // Example searches for quick access        function quickSearch(searchTerm, cultural = '') {            document.getElementById('search-box').value = searchTerm;            if (cultural) {                document.getElementById('filter-cultural').value = cultural;            }            findTeachingOptions();        }    </script>    <style>        .quick-search-btn {            color: #0369a1;            padding: 0.5rem 1rem;            border-radius: 20px;            cursor: pointer;            transition: all 0.2s;        }        .quick-search-btn:hover {            background: #0284c7;            color: white;            transform: translateY(-2px);            }    </style>    <!-- Quick Access Examples -->    <section style="margin: 3rem 0; ">        <h3 style="color: #92400e; ">âš¡ Quick Examples - Try These:</h3>        <div style="gap: 1rem; flex-wrap: wrap;">            <button onclick="quickSearch('algebra')" class="p-3" style="padding: 0.75rem 1.5rem; cursor: pointer; "                ğŸ”¢ Algebra Lessons            </button>            <button onclick="quickSearch('ecosystem', 'high')" class="p-3" style="padding: 0.75rem 1.5rem; cursor: pointer; "                ğŸŒ¿ Ecosystem (High Cultural)            </button>            <button onclick="quickSearch('statistics')" class="p-3" style="padding: 0.75rem 1.5rem; cursor: pointer; "                ğŸ“Š Statistics            </button>            <button onclick="quickSearch('digital')" class="p-3" style="padding: 0.75rem 1.5rem; cursor: pointer; "                ğŸ’» Digital Kaitiakitanga            </button>        </div>    </section>    <!-- Hover Preview Modal -->    <div id="preview-modal" style="display: none; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.7); z-index: 1000; overflow-y: auto;" onclick="closePreview(event)">        <div style="margin: 2rem auto; border-radius: 20px; padding: 3rem; box-shadow: 0 20px 60px rgba(0,0,0,0.3);" onclick="event.stopPropagation()">            <button onclick="closePreview()" style="top: 1.5rem; right: 1.5rem; background: #dc2626; color: white; width: 40px; border: none; border-radius: 50%; cursor: pointer; font-size: 1.5rem; ">                Ã—            </button>            <div id="preview-content">                <!-- Content loaded dynamically -->            </div>        </div>    </div>    <script>        // Hover preview functionality        function showPreview(resourceId) {            // Load resource details from GraphRAG            supabase.from('graphrag_resources').select('*').eq('id', resourceId).single()                .then(({ data }) => {                    if (data) {                        const modal = document.getElementById('preview-modal');                        const content = document.getElementById('preview-content');                        const cultural = data.cultural_elements?.cultural_integration || 'medium';                        const culturalStars = cultural === 'high' ? 'ğŸŒ¿ğŸŒ¿ğŸŒ¿' : (cultural === 'medium' ? 'ğŸŒ¿ğŸŒ¿' : 'ğŸŒ¿');                        content.innerHTML = `                            <div >                                <div style="font-size: 2rem; ">${culturalStars}</div>                                <h2 style="font-size: 2rem; ">${data.title}</h2>                                <p style="color: #546e7a; line-">${data.description || ''}</p>                            </div>                            <div style="background: #f9fafb; margin: 2rem 0;">                                <h3 >ğŸ“‹ Details</h3>                                <div style="grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">                                    <div>                                        <div style="color: #6b7280; ">Type</div>                                        <div >ğŸ“š ${data.type}</div>                                    </div>                                    <div>                                        <div style="color: #6b7280; ">Duration</div>                                        <div >â±ï¸ ${data.estimated_duration_minutes || 60} min</div>                                    </div>                                    <div>                                        <div style="color: #6b7280; ">Difficulty</div>                                        <div >ğŸ“ˆ ${data.difficulty_level || 'Intermediate'}</div>                                    </div>                                    <div>                                        <div style="color: #6b7280; ">Cultural</div>                                        <div >${culturalStars} ${cultural}</div>                                    </div>                                </div>                            </div>                            <div style="grid-template-columns: 2fr 1fr; gap: 1rem; margin-top: 2rem;">                                <a href="${data.path}" target="_blank" style="background: #1a4d2e; color: white; padding: 1.25rem; border-radius: 10px; text-decoration: none; ">                                    ğŸ“– Open Resource                                </a>                                <button onclick="addToKete('${data.id}', '${data.title.replace(/'/g, "\\'")}')" style="background: #f59e0b; color: white; padding: 1.25rem; border: none; border-radius: 10px; cursor: pointer; ">                                    ğŸ’ Save                                </button>                            </div>                        `;                        modal.style.display = 'block';                        document.body.style.overflow = 'hidden';                    }                });        }        function closePreview(event) {            if (!event || event.target.id === 'preview-modal') {                document.getElementById('preview-modal').style.display = 'none';                document.body.style.overflow = 'auto';            }        }        // Close on Escape key        document.addEventListener('keydown', (e) => {            if (e.key === 'Escape') {                closePreview();            }        });    </script>    <!-- Why Variants Section -->    <section style="margin: 4rem 0; ">        <h2 >â“ Why Multiple Variants?</h2>        <p style="color: #546e7a; line-">            The same lesson content can be taught in many different ways! We've preserved multiple versions            so you can choose the approach that works best for YOUR students and YOUR context.        </p>        <div style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 2rem;">            <div style="background: #f0f9ff; ">                <h3 style="color: #0369a1; ">ğŸ¨ Different Styling</h3>                <p style="color: #546e7a; font-size: 0.95rem;">Legacy CSS vs Modern CSS - choose what works for your tech setup</p>            </div>            <div style="background: #dcfce7; ">                <h3 style="color: #166534; ">ğŸŒ¿ Cultural Levels</h3>                <p style="color: #546e7a; font-size: 0.95rem;">High, medium, or low cultural integration based on your class context</p>            </div>            <div style="background: #fef3c7; ">                <h3 style="color: #92400e; ">â±ï¸ Time Flexibility</h3>                <p style="color: #546e7a; font-size: 0.95rem;">Quick versions vs extended deep-dives</p>            </div>            <div style="background: #fce7f3; ">                <h3 style="color: #9f1239; ">ğŸ“ˆ Difficulty Levels</h3>                <p style="color: #546e7a; font-size: 0.95rem;">Differentiated options for diverse learners</p>            </div>        </div>    </section><!-- ğŸ¨ ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><!-- ğŸ¨ ULTIMATE BEAUTY: Framer Cultural Gestures --><script src="/js/framer-cultural-gestures-ultimate.js" defer></script><!-- ğŸ“Š ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script><!-- PARALLEL COMPONENT LOADING - No more 2-3s delay! -->
<script>
    // Load all components in parallel for instant page display
    // PARALLEL COMPONENT LOADING - No more 2-3s delay!
Promise.all([
    // Components will be loaded here
]).then(() => {
    console.log('âœ… All components loaded in parallel');
}).catch(err => {
    if (window.posthog) {
        posthog.capture('component_loading_error', {
            message: err.message,
            url: window.location.pathname
        });
    }
});
        }
        // Show user-friendly message instead of error
        });
</script>
</body></html>