<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <link rel="stylesheet" href="/css/te-kete-professional.css">
 <link rel="stylesheet" href="/css/component-library.css"/>
 <link rel="stylesheet" href="/css/animations-professional.css"/>
 <link rel="stylesheet" href="/css/beautiful-navigation.css"/>
 <link rel="stylesheet" href="/css/mobile-optimization.css"/>
 <link rel="stylesheet" href="/css/print.css"/>
 <title>Wordsearch: Ecosystem Vocabulary | Year 9</title>
 <style>
 /* NYT-Style Layout */
 .game-container{display:grid;grid-template-columns:1fr 300px;gap:2rem;max-width:1200px;margin:2rem auto;padding:0 1rem}
 .grid-section{background:white;padding:2rem;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.08)}
 .sidebar{background:white;padding:2rem;border-radius:16px;box-shadow:0 4px 20px rgba(0,0,0,0.08);position:sticky;top:2rem;max-height:calc(100vh - 4rem);overflow-y:auto}
 .wordsearch-grid{display:grid;grid-template-columns:repeat(15,1fr);gap:2px;max-width:600px;margin:0 auto;-webkit-user-select:none;user-select:none}
 .cell{aspect-ratio:1;display:flex;align-items:center;justify-content:center;background:white;border:2px solid #e2e8f0;border-radius:6px;font-weight:700;font-size:1.1rem;color:#1a4d2e;cursor:pointer;transition:all 0.15s;font-family:'Courier New',monospace}
 .cell:hover{background:#f0fdf4;border-color:#86efac;transform:scale(1.08)}
 .cell.selecting{background:#fef3c7;border-color:#fbbf24}
 .cell.found{background:#1a4d2e;color:white;border-color:#1a4d2e;animation:foundPulse 0.4s}
 @keyframes foundPulse{0%,100%{transform:scale(1)}50%{transform:scale(1.15)}}
 .word-list-header{font-size:0.875rem;font-weight:600;text-transform:uppercase;letter-spacing:0.05em;color:#64748b;margin-bottom:1rem}
 #words{max-height:400px;overflow-y:auto;padding-right:0.5rem}
 #words::-webkit-scrollbar{width:6px}
 #words::-webkit-scrollbar-track{background:#f1f5f9;border-radius:3px}
 #words::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}
 #words::-webkit-scrollbar-thumb:hover{background:#94a3b8}
 .word-item{padding:0.6rem 0.75rem;margin-bottom:0.4rem;background:#f8fafc;border-radius:6px;border-left:3px solid #1a4d2e;cursor:pointer;transition:0.2s}
 .word-item:hover{background:#f0fdf4;transform:translateX(4px)}
 .word-item.found{background:#d1fae5;border-left-color:#10b981;text-decoration:line-through;opacity:0.6}
 .word-text{font-weight:600;color:#1a4d2e;display:block;font-size:0.9rem}
 .word-meaning{font-size:0.75rem;color:#64748b;font-style:italic;margin-top:0.2rem;display:block;line-height:1.3}
 .progress-container{background:#f1f5f9;padding:1.5rem;border-radius:12px;margin-bottom:1.5rem}
 .progress-stats{display:flex;justify-content:space-between;margin-bottom:0.75rem;font-size:0.875rem;font-weight:600}
 .progress-bar{height:8px;background:#e2e8f0;border-radius:4px;overflow:hidden}
 .progress-fill{height:100%;background:linear-gradient(90deg,#10b981,#059669);transition:width 0.6s;border-radius:4px}
 .btn{padding:0.75rem 1.25rem;border:none;border-radius:8px;font-weight:600;font-size:0.875rem;cursor:pointer;transition:0.2s}
 .btn-primary{background:#1a4d2e;color:white}
 .btn-primary:hover{background:#2d6a4f;transform:translateY(-1px);box-shadow:0 4px 12px rgba(26,77,46,0.3)}
 @media(max-width:968px){.game-container{grid-template-columns:1fr}.sidebar{position:static;order:-1}}
 @media print{@page{size:A4;margin:10mm}.no-print{display:none!important}.game-container{display:block}.wordsearch-grid{max-width:180mm;gap:0.5mm}.cell{font-size:8pt;border:0.5pt solid #1a4d2e;background:white!important;color:black!important}.sidebar{page-break-before:always}.word-item{font-size:7pt;margin-bottom:1mm;padding:1mm}.word-meaning{display:none}}
 </style>
</head>
<body>
 <script>fetch('/components/navigation-standard.html').then(r=>r.text()).then(h=>{const d=document.createElement('div');d.innerHTML=h;document.body.insertBefore(d.firstElementChild,document.body.firstChild)});</script>
 <main role="main">
 <div style="text-align:center;margin:2rem 0" class="no-print">
 <h1 style="color:#1a4d2e;font-size:2.5rem;margin-bottom:0.5rem">üîç Ecosystem Vocabulary</h1>
 <p style="font-size:1.1rem;color:#64748b">Year 9 Science - Ecology</p>
 <p style="margin-top:0.5rem"><a href="/units/y9-science-ecology/index.html" style="color:#1a4d2e">‚Üê Back to Unit</a></p>
 </div>
 
 <div style="background:linear-gradient(135deg,#fff7ed,#ffedd5);padding:1.5rem;border-radius:12px;margin:0 auto 2rem;max-width:800px;text-align:center" class="no-print">
 <p style="font-size:1.15rem;font-style:italic;color:#1a4d2e;font-weight:500;margin:0">"Ko te taiao ko au, ko au ko te taiao"</p>
 <p style="font-size:0.95rem;color:#64748b;margin:0.5rem 0 0">"I am the environment, the environment is me"</p>
 </div>
 
 <div class="game-container">
 <div class="grid-section">
 <div class="wordsearch-grid" id="grid"></div>
 <div style="display:flex;gap:0.75rem;justify-content:center;margin-top:1.5rem" class="no-print">
 <button class="btn btn-primary" onclick="game.reset()">üîÑ Reset</button>
 <button class="btn btn-primary" onclick="window.print()">üñ®Ô∏è Print</button>
 </div>
 </div>
 
 <div class="sidebar">
 <div class="progress-container">
 <div class="progress-stats">
 <span><span id="found">0</span>/<span id="total">14</span> Found</span>
 <span id="timer">0:00</span>
 </div>
 <div class="progress-bar"><div class="progress-fill" id="progress" style="width:0%"></div></div>
 </div>
 <div class="word-list-header">Words to Find</div>
 <div id="words"></div>
 </div>
 </div>
 </main>
 
 <div id="footer-component" class="no-print"></div>
 <script>
 const VOCAB={'ECOSYSTEM':'Community of organisms and environment','BIODIVERSITY':'Variety of life in an area','HABITAT':'Natural home of an organism','SPECIES':'Group of similar organisms','KAITIAKI':'Guardian, environmental steward','PREDATOR':'Animal that hunts others','CONSERVATION':'Protection of natural environment','TAIAO':'The natural world (Te Reo)','NATIVE':'Naturally occurring in a place','ENDEMIC':'Found only in one location','PEST':'Organism that damages ecosystems','FLORA':'Plant life in a region','FAUNA':'Animal life in a region','ENDANGERED':'At risk of extinction'};
 const GRID=[["K", "Y", "T", "P", "I", "E", "D", "E", "N", "D", "E", "M", "I", "C", "K"], ["T", "Y", "E", "P", "K", "V", "A", "G", "I", "F", "A", "U", "N", "A", "N"], ["Y", "S", "N", "Y", "T", "I", "S", "R", "E", "V", "I", "D", "O", "I", "B"], ["T", "C", "D", "D", "S", "T", "C", "M", "A", "E", "E", "L", "T", "U", "H"], ["E", "O", "A", "A", "E", "A", "L", "V", "V", "M", "C", "E", "U", "N", "B"], ["C", "N", "N", "G", "I", "N", "I", "K", "A", "I", "T", "I", "A", "K", "C"], ["O", "S", "G", "T", "C", "P", "U", "L", "H", "A", "B", "I", "T", "A", "T"], ["S", "E", "E", "A", "E", "O", "S", "D", "A", "V", "Y", "H", "R", "A", "D"], ["Y", "R", "R", "S", "P", "E", "T", "T", "P", "R", "W", "O", "O", "R", "V"], ["S", "V", "E", "E", "S", "I", "U", "W", "H", "T", "T", "N", "A", "O", "S"], ["T", "A", "D", "B", "C", "T", "G", "P", "R", "A", "L", "W", "I", "L", "W"], ["E", "T", "N", "E", "N", "O", "P", "O", "D", "B", "F", "O", "A", "F", "A"], ["M", "I", "O", "D", "D", "R", "H", "E", "P", "A", "I", "V", "T", "E", "T"], ["O", "O", "U", "N", "V", "R", "R", "E", "E", "E", "P", "F", "L", "P", "N"], ["I", "N", "T", "A", "F", "P", "T", "U", "G", "I", "Z", "E", "T", "E", "S"]];
 
 class WordSearchGame{
 constructor(){this.foundWords=new Set();this.selecting=false;this.selectedCells=[];this.startTime=Date.now();this.init()}
 
 init(){this.renderGrid();this.renderWordList();this.startTimer();this.updateProgress()}
 
 renderGrid(){const g=document.getElementById('grid');g.innerHTML='';GRID.forEach((row,r)=>{row.forEach((letter,c)=>{const cell=document.createElement('div');cell.className='cell';cell.textContent=letter;cell.dataset.row=r;cell.dataset.col=c;cell.addEventListener('mousedown',(e)=>{e.preventDefault();this.startSelection(cell)});cell.addEventListener('mouseenter',()=>this.continueSelection(cell));cell.addEventListener('mouseup',()=>this.endSelection());cell.addEventListener('touchstart',(e)=>{e.preventDefault();this.startSelection(cell)});cell.addEventListener('touchmove',(e)=>{e.preventDefault();const t=e.touches[0];const el=document.elementFromPoint(t.clientX,t.clientY);if(el&&el.classList.contains('cell'))this.continueSelection(el)});cell.addEventListener('touchend',()=>this.endSelection());g.appendChild(cell)});}); document.addEventListener('mouseup',()=>this.endSelection())}
 
 renderWordList(){const l=document.getElementById('words');l.innerHTML='';Object.keys(VOCAB).forEach(word=>{const item=document.createElement('div');item.className='word-item';if(this.foundWords.has(word))item.classList.add('found');item.innerHTML=`<span class="word-text">${word}</span><span class="word-meaning">${VOCAB[word]}</span>`;l.appendChild(item)})}
 
 startSelection(cell){this.selecting=true;this.selectedCells=[cell];cell.classList.add('selecting')}
 
 continueSelection(cell){if(!this.selecting||this.selectedCells.includes(cell))return;if(this.selectedCells.length>0&&!this.isValidLine(cell))return;this.selectedCells.push(cell);cell.classList.add('selecting')}
 
 isValidLine(newCell){if(this.selectedCells.length<2)return true;const f=this.selectedCells[0],s=this.selectedCells[1];const dr=Math.sign(parseInt(s.dataset.row)-parseInt(f.dataset.row));const dc=Math.sign(parseInt(s.dataset.col)-parseInt(f.dataset.col));const last=this.selectedCells[this.selectedCells.length-1];const expR=parseInt(last.dataset.row)+dr;const expC=parseInt(last.dataset.col)+dc;return parseInt(newCell.dataset.row)===expR&&parseInt(newCell.dataset.col)===expC}
 
 endSelection(){if(!this.selecting)return;this.selecting=false;const word=this.selectedCells.map(c=>c.textContent).join('');const rev=word.split('').reverse().join('');let found=null;if(VOCAB[word]&&!this.foundWords.has(word))found=word;else if(VOCAB[rev]&&!this.foundWords.has(rev))found=rev;if(found){this.foundWords.add(found);this.selectedCells.forEach(c=>{c.classList.remove('selecting');c.classList.add('found')});this.renderWordList();this.updateProgress();if(this.foundWords.size===Object.keys(VOCAB).length)setTimeout(()=>alert('üéâ Kei te pai! All words found in '+document.getElementById('timer').textContent),500)}else{this.selectedCells.forEach(c=>c.classList.remove('selecting'))}this.selectedCells=[]}
 
 updateProgress(){const f=this.foundWords.size,t=Object.keys(VOCAB).length;document.getElementById('found').textContent=f;document.getElementById('progress').style.width=(f/t*100)+'%'}
 
 startTimer(){setInterval(()=>{const e=Math.floor((Date.now()-this.startTime)/1000);document.getElementById('timer').textContent=`${Math.floor(e/60)}:${(e%60).toString().padStart(2,'0')}`},1000)}
 
 reset(){if(confirm('Start over?'))location.reload()}
 }
 
 let game;
 document.addEventListener('DOMContentLoaded',()=>{game=new WordSearchGame()});
 
 fetch('/components/footer.html').then(r=>r.text()).then(h=>{document.getElementById('footer-component').innerHTML=h});
 </script>
</body>
</html>