<!DOCTYPE html>
<html lang="mi"><head>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ğŸ”¢ MÄori Numeracy Adventures | Te Kete Ako</title>
<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color">
<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- â­ PROFESSIONAL SYSTEM FIRST - Core design tokens -->

<!-- â­ THEME SYSTEM (Tailwind + Ultimate Beauty) -->


<!-- â­ COMPONENT STYLES -->




<!-- â­ PRINT STYLES (media="print" = only for printing) -->


<!-- â­ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->

<!-- â­ CASCADE FIX (Loads LAST - overrides conflicting variables) -->

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    // Wait for Supabase CDN to load before initializing singleton
    window.addEventListener('DOMContentLoaded', () => {
        if (!window.supabase) {
            // Log to monitoring instead of console
            if (window.posthog) {
                posthog.capture('supabase_cdn_error', {
                    message: 'Supabase CDN failed to load',
                    url: window.location.pathname
                });
            }
        }
    });
</script>
<script src="/js/supabase-singleton.js"></script>
<!-- My Kete Database Integration - loads after singleton -->
<script src="/js/my-kete-database.js"></script>
<!-- Navigation Loader Singleton - loads after supabase setup -->
<script src="/js/navigation-loader.js"></script>
<!-- Component Loader - centralized async component management -->
<script src="/js/component-loader.js"></script>
<meta content="yes" name="mobile-web-app-capable"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Te Kete Ako" name="apple-mobile-web-app-title"/>
<link href="/icons/icon-192x192.png" rel="apple-touch-icon">
<!-- ENHANCED SEARCH -->
<script defer="" src="/js/enhanced-search.js"></script>
<!-- MOBILE PERFORMANCE OPTIMIZER -->
<script defer="" src="/js/mobile-performance-optimizer.js"></script>
<!-- TOUCH TARGET AUDITOR -->
<script defer="" src="/js/touch-target-auditor.js"></script>
<!-- ğŸ¨ ULTIMATE CULTURAL GESTURES - Framer Motion System -->
<script defer="" src="/js/framer-cultural-gestures-ultimate.js"></script>
<!-- Service Worker Registration -->
<script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('âœ… PWA: Service Worker registered!', registration);
                    })
                    .catch(error => {
                        // Log to monitoring instead of console
                        if (window.posthog) {
                            posthog.capture('pwa_service_worker_error', {
                                message: 'Service Worker registration failed',
                                error: error.message,
                                url: window.location.pathname
                            });
                        }
                    });
            });
        }
</script>
<meta content="index, follow" name="robots"/>
<meta content="index, follow" name="googlebot"/>
<meta content="#1a4d2e" name="theme-color"/>
<meta content="index, follow" name="robots"/>
<meta content="index, follow" name="googlebot"/>
<meta content="#1a4d2e" name="theme-color"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<!-- Performance Optimizations -->
<meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport"/>
<meta content="telephone=no" name="format-detection"/>
<meta content="yes" name="mobile-web-app-capable"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="#1a4d2e" name="theme-color"/>
<!-- DNS Prefetch for external resources -->
<link href="//fonts.googleapis.com" rel="dns-prefetch"/>
<link href="//cdn.jsdelivr.net" rel="dns-prefetch"/>
<!-- Preconnect for critical resources -->
<link crossorigin="" href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://cdn.jsdelivr.net" rel="preconnect"/>
<!-- Resource hints -->

<link as="script" href="/js/component-loader.js" rel="preload"/>
<meta content="Count objects using traditional MÄori counting methods and learn number names in Te Reo MÄori" name="description"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest">
<meta content="#1a4d2e" name="theme-color">
<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- â­ PROFESSIONAL SYSTEM FIRST - Core design tokens -->

<!-- â­ THEME SYSTEM (Tailwind + Ultimate Beauty) -->


<!-- â­ COMPONENT STYLES -->




<!-- â­ PRINT STYLES (media="print" = only for printing) -->


<!-- â­ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->

<!-- â­ CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<body class="pattern-koru-subtle" data-auto-init="true" data-current-page="games"> <!-- Professional Navigation --> <div id="beautiful-nav-container"></div> <script>        fetch('/components/navigation-standard.html')            .then(r => r.text())            .then(html => {                const div = document.createElement('div');                div.innerHTML = html;                document.body.insertBefore(div.firstElementChild, document.body.firstChild);            });    </script> <div class="game-container"> <!-- GAME HEADER --> <header class="site-header no-print"> <div class="nav-container"> <span class="text-gray-500 italic" title="Link disabled: ../index.html">Te Kete Ako (Coming soon)</span> <nav class="main-nav"> <ul> <li> <span class="text-gray-500 italic" title="Link disabled: ../unit-plans.html">ğŸ“šUnit PlansNgÄ Waehere (Coming soon)</span> </li> <li> <span class="text-gray-500 italic" title="Link disabled: ../teachers/index.html">ğŸ§‘â€ğŸ«TeachersNgÄ Kaiako (Coming soon)</span> </li> <li> <span class="text-gray-500 italic" title="Link disabled: ../lessons.html">ğŸ“LessonsNgÄ Akoranga (Coming soon)</span> </li> <li> <span class="text-gray-500 italic" title="Link disabled: ../handouts.html">ğŸ“„HandoutsNgÄ Rauemi (Coming soon)</span> </li> <li> <span class="text-gray-500 italic" title="Link disabled: ../games.html">ğŸ®GamesNgÄ KÄ“mu (Coming soon)</span> </li> <li class="auth-nav my-kete-link" style="display: none;"> <span class="text-gray-500 italic" title="Link disabled: ../my-kete.html">ğŸ§ºMy Kete (Coming soon)</span> </li> <li class="auth-nav"> <span class="text-gray-500 italic" title="Link disabled: ../login.html">ğŸ‘¤Login (Coming soon)</span> </li> <li class="auth-nav" style="display: none;"> <span class="text-gray-500 italic" title="Link disabled: ../register-simple.html">ğŸ“Register (Coming soon)</span> </li> </ul> </nav> <nav aria-label="Breadcrumb" class="breadcrumbs no-print"> <ol class="breadcrumbs-list" id="breadcrumbs"></ol> </nav> </div> </header> <!-- GAME SELECTION GRID --> <section class="games-grid" id="games-selection"> <!-- COUNTING GAME --> <div class="game-card game-counting" onclick="startGame('counting')" tabindex="0"> <span class="game-icon">ğŸ¦„</span> <h2 class="game-title">Counting Adventures</h2> <p class="game-description">Count objects using traditional MÄori counting methods and learn number names in Te Reo MÄori</p> <div class="difficulty-level"> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot"></span> <span class="difficulty-dot"></span> <span class="difficulty-dot"></span> </div> <div class="cultural-connection">                    ğŸŒ¿ Learn traditional MÄori base-5 counting system                </div> </div> <!-- PATTERN RECOGNITION --> <div class="game-card game-patterns" onclick="startGame('patterns')" tabindex="0"> <span class="game-icon">ğŸ¨</span> <h2 class="game-title">Cultural Patterns</h2> <p class="game-description">Discover mathematical patterns in traditional MÄori art, weaving, and carvings</p> <div class="difficulty-level"> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot"></span> <span class="difficulty-dot"></span> </div> <div class="cultural-connection">                    ğŸŒ¿ Explore geometry in koru, taniko, and tukutuku patterns                </div> </div> <!-- BASIC OPERATIONS --> <div class="game-card game-operations" onclick="startGame('operations')" tabindex="0"> <span class="game-icon">â•</span> <h2 class="game-title">WhÄnau Math</h2> <p class="game-description">Practice addition and subtraction through family and community stories</p> <div class="difficulty-level"> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot"></span> <span class="difficulty-dot"></span> <span class="difficulty-dot"></span> </div> <div class="cultural-connection">                    ğŸŒ¿ Real-world problems using whÄnau and hapÅ« contexts                </div> </div> <!-- SHAPE EXPLORATION --> <div class="game-card game-shapes" onclick="startGame('shapes')" tabindex="0"> <span class="game-icon">ğŸ”º</span> <h2 class="game-title">Sacred Shapes</h2> <p class="game-description">Explore shapes and spatial relationships through traditional MÄori architecture and design</p> <div class="difficulty-level"> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot active"></span> <span class="difficulty-dot"></span> </div> <div class="cultural-connection">                    ğŸŒ¿ Geometry of marae, wharenui, and traditional carvings                </div> </div> </section> <!-- GAME INTERFACES --> <!-- COUNTING GAME INTERFACE --> <section class="game-interface" id="counting-game"> <div class="game-nav"> <button class="back-button large-touch-target" onclick="returnToMenu()">â† Back to Games</button> <div class="game-progress"> <div class="progress-bar"> <div class="progress-fill" id="counting-progress" style="width: 0%;"></div> </div> <div class="score-display" id="counting-score">Score: 0</div> </div> </div> <div class="game-question"> <div class="question-text" id="counting-question">How many kiwi can you count?</div> <div class="cultural-context" id="counting-context">Kiwi are our national bird and sacred to many iwi</div> </div> <div class="maori-numbers" id="maori-number-display"> <div class="maori-number" id="maori-number-text">Kotahi (One)</div> <div class="pronunciation-guide" id="pronunciation-guide">KOH-tah-hee</div> </div> <div class="counting-objects" id="counting-objects"> <!-- Objects will be populated by JavaScript --> </div> <div class="answer-options" id="counting-answers"> <!-- Answer buttons will be populated by JavaScript --> </div> </section> <!-- PATTERN RECOGNITION GAME INTERFACE --> <section class="game-interface" id="patterns-game"> <div class="game-nav"> <button class="back-button large-touch-target" onclick="returnToMenu()">â† Back to Games</button> <div class="game-progress"> <div class="progress-bar"> <div class="progress-fill" id="patterns-progress" style="width: 0%;"></div> </div> <div class="score-display" id="patterns-score">Score: 0</div> </div> </div> <div class="game-question"> <div class="question-text" id="patterns-question">What comes next in this traditional pattern?</div> <div class="cultural-context" id="patterns-context">This pattern is inspired by traditional taniko weaving</div> </div> <div class="pattern-sequence" id="pattern-sequence"> <!-- Pattern shapes will be populated by JavaScript --> </div> <div class="answer-options" id="pattern-answers"> <!-- Pattern answer options will be populated by JavaScript --> </div> </section> <!-- FEEDBACK MESSAGE --> <div class="feedback-message" id="feedback-message"> <div class="feedback-icon" id="feedback-icon">ğŸ‰</div> <div class="feedback-text" id="feedback-text">Excellent work!</div> <div class="feedback-explanation" id="feedback-explanation">You counted correctly! Kiwi are special birds in Aotearoa.</div> <button class="continue-button large-touch-target" onclick="nextQuestion()">Continue Learning</button> </div> </div> <script>        // MÄ€ORI NUMERACY ADVENTURES - ADAPTIVE LEARNING GAME SYSTEM        // Designed for Mangakotukutuku College junior students        // Culturally responsive, neurodivergent-friendly, foundational skills focus        // GAME STATE        let gameState = {            currentGame: null,            currentLevel: 1,            score: 0,            questionsAnswered: 0,            correctAnswers: 0,            currentQuestion: null,            gameProgress: 0        };        // MÄ€ORI NUMBER SYSTEM        const MAORI_NUMBERS = {            0: { maori: 'Kore', pronunciation: 'KOH-reh', meaning: 'nothing/zero' },            1: { maori: 'Kotahi', pronunciation: 'KOH-tah-hee', meaning: 'one' },            2: { maori: 'Rua', pronunciation: 'ROO-ah', meaning: 'two' },            3: { maori: 'Toru', pronunciation: 'TOH-roo', meaning: 'three' },            4: { maori: 'WhÄ', pronunciation: 'FAH', meaning: 'four' },            5: { maori: 'Rima', pronunciation: 'REE-mah', meaning: 'five/hand' },            6: { maori: 'Ono', pronunciation: 'OH-noh', meaning: 'six' },            7: { maori: 'Whitu', pronunciation: 'FEE-too', meaning: 'seven' },            8: { maori: 'Waru', pronunciation: 'WAH-roo', meaning: 'eight' },            9: { maori: 'Iwa', pronunciation: 'EE-wah', meaning: 'nine' },            10: { maori: 'Tekau', pronunciation: 'TEH-kah-oo', meaning: 'ten/complete set' }        };        // CULTURAL OBJECTS FOR COUNTING        const CULTURAL_OBJECTS = {            animals: [                { emoji: 'ğŸ¦„', name: 'Kiwi', context: 'Our national bird, sacred to many iwi' },                { emoji: 'ğŸ‹', name: 'Tohora (Whale)', context: 'Ancestral guardians of the ocean' },                { emoji: 'ğŸ¦…', name: 'KÄrearea (Falcon)', context: 'Swift hunters of the skies' },                { emoji: 'ğŸŸ', name: 'Ika (Fish)', context: 'Food from Tangaroa\'s realm' },                { emoji: 'ğŸ¦­', name: 'Kekeno (Seal)', context: 'Playful ocean mammals' }            ],            plants: [                { emoji: 'ğŸŒ¿', name: 'Harakeke (Flax)', context: 'Used for weaving and medicine' },                { emoji: 'ğŸŒ³', name: 'Kauri', context: 'Ancient giants of the forest' },                { emoji: 'ğŸŒº', name: 'PÅhutukawa', context: 'Christmas tree of Aotearoa' },                { emoji: 'ğŸƒ', name: 'Kawakawa', context: 'Medicinal plant with healing properties' }            ],            cultural: [                { emoji: 'ğŸ›ï¸', name: 'Wharenui', context: 'Meeting house representing ancestors' },                { emoji: 'ğŸš£', name: 'Waka', context: 'Traditional voyaging vessels' },                { emoji: 'ğŸª¶', name: 'Huruhuru', context: 'Sacred feathers for ceremonies' },                { emoji: 'â­', name: 'WhetÅ«', context: 'Stars for navigation and stories' }            ]        };        // TRADITIONAL PATTERNS        const MAORI_PATTERNS = [            { name: 'Koru', elements: ['ğŸŒ€', 'ğŸŒ€', 'ğŸŒ¿', 'ğŸŒ€'], meaning: 'Unfurling fern representing growth' },            { name: 'Niho Taniwha', elements: ['â–²', 'â–¼', 'â–²', 'â–¼'], meaning: 'Teeth of the taniwha' },            { name: 'Mangopare', elements: ['â—†', 'â—‹', 'â—†', 'â—‹'], meaning: 'Hammerhead shark pattern' },            { name: 'Patiki', elements: ['â—‡', 'â—‡', 'â–¡', 'â—‡'], meaning: 'Flounder pattern' }        ];        // INITIALIZE GAMES SYSTEM        function initGames() {            console.log('ğŸ”¢ Initializing MÄori Numeracy Adventures...');            setupKeyboardNavigation();            setupAccessibilityFeatures();            loadGameProgress();            // User feedback provided via UI        }        // GAME LAUNCHER        async function startGame(gameType) {            console.log(`ğŸ¯ Starting ${gameType} game...`);            gameState.currentGame = gameType;            gameState.currentLevel = 1;            gameState.score = 0;            gameState.questionsAnswered = 0;            gameState.correctAnswers = 0;            gameState.gameProgress = 0;            // Hide game selection, show game interface            document.getElementById('games-selection').style.display = 'none';            document.getElementById(`${gameType}-game`).classList.add('active');            // DEPLOY DEEPSEEK AGENTS for adaptive content            await deployAdaptiveGameContent(gameType);            // Start first question            nextQuestion();        }        async function deployAdaptiveGameContent(gameType) {            console.log('ğŸ¤– Deploying DeepSeek agents for adaptive game content...');            try {                const response = await fetch('/.netlify/functions/deepseek-multi-agent-orchestra', {                    method: 'POST',                    headers: { 'Content-Type': 'application/json' },                    body: JSON.stringify({                        task: `Generate adaptive numeracy game content for "${gameType}" game targeting Mangakotukutuku College junior students. Create culturally authentic problems that build foundational math skills while honoring Te Ao MÄori perspectives. Include multiple difficulty levels and engagement strategies for neurodivergent learners.`,                        context: {                            role: 'adaptive_game_designer',                            focus: 'foundational_numeracy',                            game_type: gameType,                            cultural_integration: 'high',                            accessibility: 'neurodivergent_friendly',                            source: 'numeracy_games'                        },                        priority: 'high',                        agentCount: 4                    })                });                if (response.ok) {                    const data = await response.json();                    console.log('âœ… Adaptive game content deployed:', data.orchestration?.primary_response || 'Content ready');                }            } catch (error) {                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('javascript_error', {
                error: err.message,
                url: window.location.pathname
            }));
        }
        // Show user-friendly message instead of error
        }        }        function returnToMenu() {            // Hide all game interfaces            document.querySelectorAll('.game-interface').forEach(interface => {                interface.classList.remove('active');            });            // Show game selection            document.getElementById('games-selection').style.display = 'grid';            // Reset game state            gameState.currentGame = null;            // Save progress            saveGameProgress();        }        function nextQuestion() {            // Hide feedback message            document.getElementById('feedback-message').classList.remove('show');            // Generate next question based on current game            switch (gameState.currentGame) {                case 'counting':                    generateCountingQuestion();                    break;                case 'patterns':                    generatePatternQuestion();                    break;                case 'operations':                    generateOperationsQuestion();                    break;                case 'shapes':                    generateShapesQuestion();                    break;            }            // Update progress            updateGameProgress();        }        function generateCountingQuestion() {            const objectTypes = Object.keys(CULTURAL_OBJECTS);            const randomType = objectTypes[Math.floor(Math.random() * objectTypes.length)];            const objects = CULTURAL_OBJECTS[randomType];            const randomObject = objects[Math.floor(Math.random() * objects.length)];            // Generate number to count (1-10 for beginners)            const targetCount = Math.floor(Math.random() * 5) + 1 + gameState.currentLevel;            const maxCount = Math.min(targetCount + 3, 10);            // Update question display            document.getElementById('counting-question').textContent =                `How many ${randomObject.name} can you count?`;            document.getElementById('counting-context').textContent = randomObject.context;            // Show MÄori number            const maoriNum = MAORI_NUMBERS[targetCount];            document.getElementById('maori-number-text').textContent =                `${maoriNum.maori} (${targetCount})`;            document.getElementById('pronunciation-guide').textContent = maoriNum.pronunciation;            // Generate counting objects            const objectsContainer = document.getElementById('counting-objects');            objectsContainer.innerHTML = '';            for (let i = 0; i < targetCount; i++) {                const obj = document.createElement('div');                obj.className = 'counting-object large-touch-target';                obj.textContent = randomObject.emoji;                obj.setAttribute('aria-label', `${randomObject.name} ${i + 1}`);                obj.tabIndex = 0;                obj.addEventListener('click', () => selectCountingObject(obj, i));                obj.addEventListener('keydown', (e) => {                    if (e.key === 'Enter' || e.key === ' ') {                        selectCountingObject(obj, i);                    }                });                objectsContainer.appendChild(obj);            }            // Generate answer options            const answersContainer = document.getElementById('counting-answers');            answersContainer.innerHTML = '';            const answerOptions = generateAnswerOptions(targetCount, maxCount, 4);            answerOptions.forEach(option => {                const button = document.createElement('button');                button.className = 'answer-button large-touch-target';                button.textContent = option;                button.setAttribute('aria-label', `Answer: ${option}`);                button.addEventListener('click', () => checkAnswer(option, targetCount, randomObject));                answersContainer.appendChild(button);            });            // Store correct answer            gameState.currentQuestion = {                type: 'counting',                correctAnswer: targetCount,                object: randomObject,                totalObjects: targetCount            };        }        function generatePatternQuestion() {            const pattern = MAORI_PATTERNS[Math.floor(Math.random() * MAORI_PATTERNS.length)];            const sequence = [...pattern.elements];            // Remove last element to create the question            const correctAnswer = sequence.pop();            // Update question display            document.getElementById('patterns-question').textContent =                `What comes next in this ${pattern.name} pattern?`;            document.getElementById('patterns-context').textContent = pattern.meaning;            // Display pattern sequence            const sequenceContainer = document.getElementById('pattern-sequence');            sequenceContainer.innerHTML = '';            sequence.forEach((element, index) => {                const shape = document.createElement('div');                shape.className = 'pattern-shape';                shape.textContent = element;                shape.setAttribute('aria-label', `Pattern element ${index + 1}: ${element}`);                sequenceContainer.appendChild(shape);            });            // Add question mark for missing element            const questionShape = document.createElement('div');            questionShape.className = 'pattern-shape';            questionShape.style.background = '#f0f0f0';            questionShape.style.border = '3px dashed #999';            questionShape.textContent = '?';            questionShape.setAttribute('aria-label', 'Missing pattern element');            sequenceContainer.appendChild(questionShape);            // Generate answer options            const answersContainer = document.getElementById('pattern-answers');            answersContainer.innerHTML = '';            const wrongOptions = ['â—†', 'â—‹', 'â–²', 'â–¼', 'â—‡', 'â–¡'].filter(opt => opt !== correctAnswer);            const answerOptions = [correctAnswer, ...wrongOptions.slice(0, 3)].sort(() => Math.random() - 0.5);            answerOptions.forEach(option => {                const button = document.createElement('button');                button.className = 'answer-button large-touch-target';                button.textContent = option;                button.style.fontSize = '3rem';                button.setAttribute('aria-label', `Pattern answer: ${option}`);                button.addEventListener('click', () => checkAnswer(option, correctAnswer, pattern));                answersContainer.appendChild(button);            });            // Store correct answer            gameState.currentQuestion = {                type: 'patterns',                correctAnswer: correctAnswer,                pattern: pattern            };        }        function generateAnswerOptions(correct, max, count) {            const options = [correct];            while (options.length < count) {                const option = Math.floor(Math.random() * max) + 1;                if (!options.includes(option)) {                    options.push(option);                }            }            return options.sort(() => Math.random() - 0.5);        }        function selectCountingObject(element, index) {            element.classList.toggle('selected');            // Count selected objects            const selectedCount = document.querySelectorAll('.counting-object.selected').length;            // Announce selection for screen readers            const announcement = document.createElement('div');            announcement.setAttribute('aria-live', 'polite');            announcement.style.position = 'absolute';            announcement.style.left = '-10000px';            announcement.textContent = `Selected ${selectedCount} objects`;            document.body.appendChild(announcement);            setTimeout(() => {                document.body.removeChild(announcement);            }, 1000);        }        function checkAnswer(userAnswer, correctAnswer, context) {            gameState.questionsAnswered++;            const isCorrect = userAnswer === correctAnswer;            if (isCorrect) {                gameState.correctAnswers++;                gameState.score += 10 * gameState.currentLevel;                showFeedback(true, correctAnswer, context);                // Visual feedback on correct button                event.target.classList.add('correct');                // Mark objects as correct if counting game                if (gameState.currentGame === 'counting') {                    document.querySelectorAll('.counting-object').forEach(obj => {                        obj.classList.add('correct');                    });                }            } else {                showFeedback(false, correctAnswer, context);                // Visual feedback on incorrect button                event.target.classList.add('incorrect');                // Highlight correct answer                setTimeout(() => {                    document.querySelectorAll('.answer-button').forEach(button => {                        if (button.textContent == correctAnswer) {                            button.classList.add('correct');                        }                    });                }, 500);            }            // Disable all answer buttons            document.querySelectorAll('.answer-button').forEach(button => {                button.disabled = true;            });        }        function showFeedback(isCorrect, correctAnswer, context) {            const feedbackMessage = document.getElementById('feedback-message');            const feedbackIcon = document.getElementById('feedback-icon');            const feedbackText = document.getElementById('feedback-text');            const feedbackExplanation = document.getElementById('feedback-explanation');            if (isCorrect) {                feedbackIcon.textContent = 'ğŸ‰';                feedbackText.textContent = 'Kia pai! Well done!';                feedbackText.style.color = '#4caf50';                if (context.name) {                    feedbackExplanation.textContent =                        `Perfect counting! ${correctAnswer} ${context.name}. ${context.context}`;                } else if (context.meaning) {                    feedbackExplanation.textContent =                        `Excellent pattern recognition! You understand the ${context.name} pattern: ${context.meaning}`;                }            } else {                feedbackIcon.textContent = 'ğŸ’­';                feedbackText.textContent = 'Not quite - let\'s learn together!';                feedbackText.style.color = '#ff9800';                if (context.name) {                    feedbackExplanation.textContent =                        `The correct answer is ${correctAnswer}. ${context.context} Let's keep practicing!`;                } else if (context.meaning) {                    feedbackExplanation.textContent =                        `In the ${context.name} pattern, the next element should be part of the traditional sequence. ${context.meaning}`;                }            }            feedbackMessage.classList.add('show');        }        function updateGameProgress() {            const progressPercentage = (gameState.questionsAnswered / 10) * 100;            gameState.gameProgress = Math.min(progressPercentage, 100);            // Update progress bar            const gameType = gameState.currentGame;            const progressBar = document.getElementById(`${gameType}-progress`);            const scoreDisplay = document.getElementById(`${gameType}-score`);            if (progressBar) {                progressBar.style.width = gameState.gameProgress + '%';            }            if (scoreDisplay) {                scoreDisplay.textContent = `Score: ${gameState.score}`;            }            // Level up if needed            if (gameState.questionsAnswered > 0 && gameState.questionsAnswered % 3 === 0) {                const accuracy = gameState.correctAnswers / gameState.questionsAnswered;                if (accuracy >= 0.8) {                    gameState.currentLevel = Math.min(gameState.currentLevel + 1, 5);                    showLevelUp();                }            }        }        function showLevelUp() {            const levelUpMessage = document.createElement('div');            levelUpMessage.className = 'feedback-message show';            levelUpMessage.innerHTML = `                <div class="feedback-icon">ğŸŒŸ</div>                <div class="feedback-text" style="color: #9c27b0;">Level Up!</div>                <div class="feedback-explanation">You've reached Level ${gameState.currentLevel}! Questions will be more challenging now.</div>                <button class="continue-button" onclick="this.parentElement.remove(); nextQuestion();">Ready for Challenge!</button>            `;            document.body.appendChild(levelUpMessage);        }        function setupKeyboardNavigation() {            document.addEventListener('keydown', (e) => {                // Arrow key navigation for game cards                if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {                    const focusedElement = document.activeElement;                    if (focusedElement.classList.contains('game-card')) {                        e.preventDefault();                        navigateGameCards(e.key);                    }                }                // Enter key activation                if (e.key === 'Enter' && document.activeElement.classList.contains('game-card')) {                    document.activeElement.click();                }                // Escape to return to menu                if (e.key === 'Escape' && gameState.currentGame) {                    returnToMenu();                }            });        }        function navigateGameCards(direction) {            const gameCards = document.querySelectorAll('.game-card');            const currentIndex = Array.from(gameCards).indexOf(document.activeElement);            let newIndex;            switch (direction) {                case 'ArrowRight':                case 'ArrowDown':                    newIndex = (currentIndex + 1) % gameCards.length;                    break;                case 'ArrowLeft':                case 'ArrowUp':                    newIndex = (currentIndex - 1 + gameCards.length) % gameCards.length;                    break;            }            gameCards[newIndex].focus();        }        function setupAccessibilityFeatures() {            // Add ARIA labels and roles            document.querySelectorAll('.game-card').forEach(card => {                card.setAttribute('role', 'button');                card.setAttribute('aria-label',                    `${card.querySelector('.game-title').textContent}: ${card.querySelector('.game-description').textContent}`                );            });            // Add live region for announcements            const liveRegion = document.createElement('div');            liveRegion.setAttribute('aria-live', 'polite');            liveRegion.setAttribute('aria-atomic', 'true');            liveRegion.className = 'sr-only';            liveRegion.id = 'live-announcements';            document.body.appendChild(liveRegion);        }        function announceToScreenReader(message) {            const liveRegion = document.getElementById('live-announcements');            if (liveRegion) {                liveRegion.textContent = message;                setTimeout(() => {                    liveRegion.textContent = '';                }, 1000);            }        }        function loadGameProgress() {            const saved = localStorage.getItem('mangakotukutuku_numeracy_progress');            if (saved) {                const savedProgress = JSON.parse(saved);                // Apply saved progress if needed                console.log('Loaded game progress:', savedProgress);            }        }        function saveGameProgress() {            const progress = {                totalScore: gameState.score,                currentLevel: gameState.currentLevel,                questionsAnswered: gameState.questionsAnswered,                correctAnswers: gameState.correctAnswers,                timestamp: new Date().toISOString()            };            localStorage.setItem('mangakotukutuku_numeracy_progress', JSON.stringify(progress));        }        // Placeholder functions for other game types        function generateOperationsQuestion() {            // Implementation for operations game            console.log('Operations game coming soon!');            showFeedback(true, 0, { context: 'Operations game is being developed by our AI agents!' });        }        function generateShapesQuestion() {            // Implementation for shapes game            console.log('Shapes game coming soon!');            showFeedback(true, 0, { context: 'Shapes game is being developed with traditional MÄori architecture!' });        }        // Initialize when page loads        document.addEventListener('DOMContentLoaded', initGames);    </script> <!-- Footer --> <div id="footer-component"></div> <script>        fetch('/components/footer.html').then(r=>r.text()).then(html=>{            document.getElementById('footer-component').innerHTML=html;        });    </script><!-- ğŸ¨ ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><script>  fetch('/components/footer.html').then(r=>r.text()).then(html=>{    document.getElementById('footer-container').innerHTML=html;  });</script><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><script>  fetch('/components/mobile-bottom-nav.html').then(r=>r.text()).then(html=>{    document.getElementById('mobile-nav-bottom').innerHTML=html;  });</script><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><script>  fetch('/components/quick-actions-fab.html').then(r=>r.text()).then(html=>{    document.getElementById('fab-quick-actions').innerHTML=html;  });</script><!-- ğŸ¨ ULTIMATE BEAUTY: Framer Cultural Gestures --><script defer="" src="/js/framer-cultural-gestures-ultimate.js"></script><!-- ğŸ“Š ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script defer="" src="/js/posthog-analytics.js"></script></body></link></link></link></link></link></meta></link></link></link></link></link></link></meta>    <!-- ULTIMATE BEAUTY SYSTEM (Kehinde Wiley Cultural Design!) -->
    <link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css">
    <link rel="stylesheet" href="/css/cultural-patterns.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/print.css" media="print">
    <link rel="stylesheet" href="/css/tailwind.css">
</head></html>