<!DOCTYPE html><html lang="mi"><head>
    <title>🔢 Māori Numeracy Adventures | Te Kete Ako</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Count objects using traditional Māori counting methods and learn number names in Te Reo Māori">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ⭐ PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ⭐ THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ⭐ COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ⭐ PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ⭐ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ⭐ CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body data-auto-init="true" data-current-page="games" class="pattern-koru-subtle">    <!-- Professional Navigation -->    <div id="beautiful-nav-container"></div>    <script>        fetch('/components/navigation-standard.html')            .then(r => r.text())            .then(html => {                const div = document.createElement('div');                div.innerHTML = html;                document.body.insertBefore(div.firstElementChild, document.body.firstChild);            });    </script>    <div class="game-container">        <!-- GAME HEADER -->        <header class="site-header no-print">        <div class="nav-container">            <a href="../index.html" class="nav-brand">Te Kete Ako</a>            <nav class="main-nav">                <ul>                    <li>                        <a href="../unit-plans.html">                            <span class="nav-icon">📚</span>                            <span class="nav-text-en">Unit Plans</span>                            <span class="nav-text-mi" lang="mi">Ngā Waehere</span>                        </a>                    </li>                    <li>                        <a href="../teachers/index.html">                            <span class="nav-icon">🧑‍🏫</span>                            <span class="nav-text-en">Teachers</span>                            <span class="nav-text-mi" lang="mi">Ngā Kaiako</span>                        </a>                    </li>                    <li>                        <a href="../lessons.html">                            <span class="nav-icon">🎓</span>                            <span class="nav-text-en">Lessons</span>                            <span class="nav-text-mi" lang="mi">Ngā Akoranga</span>                        </a>                    </li>                    <li>                        <a href="../handouts.html">                            <span class="nav-icon">📄</span>                            <span class="nav-text-en">Handouts</span>                            <span class="nav-text-mi" lang="mi">Ngā Rauemi</span>                        </a>                    </li>                    <li>                        <a href="../games.html">                            <span class="nav-icon">🎮</span>                            <span class="nav-text-en">Games</span>                            <span class="nav-text-mi" lang="mi">Ngā Kēmu</span>                        </a>                    </li>                    <li class="auth-nav my-kete-link" style="display: none;">                        <a href="../my-kete.html">                            <span class="nav-icon">🧺</span>                            My Kete                        </a>                    </li>                    <li class="auth-nav">                        <a href="../login.html" class="login-btn">                            <span class="nav-icon">👤</span>                            Login                        </a>                    </li>                    <li class="auth-nav" style="display: none;">                        <a href="../register-simple.html" class="register-btn">                            <span class="nav-icon">📝</span>                            Register                        </a>                    </li>                </ul>            </nav>            <nav class="breadcrumbs no-print" aria-label="Breadcrumb">                <ol id="breadcrumbs" class="breadcrumbs-list"></ol>            </nav>        </div>    </header>        <!-- GAME SELECTION GRID -->        <section class="games-grid" id="games-selection">            <!-- COUNTING GAME -->            <div class="game-card game-counting" onclick="startGame('counting')" tabindex="0">                <span class="game-icon">🦄</span>                <h2 class="game-title">Counting Adventures</h2>                <p class="game-description">Count objects using traditional Māori counting methods and learn number names in Te Reo Māori</p>                <div class="difficulty-level">                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot"></span>                    <span class="difficulty-dot"></span>                    <span class="difficulty-dot"></span>                </div>                <div class="cultural-connection">                    🌿 Learn traditional Māori base-5 counting system                </div>            </div>            <!-- PATTERN RECOGNITION -->            <div class="game-card game-patterns" onclick="startGame('patterns')" tabindex="0">                <span class="game-icon">🎨</span>                <h2 class="game-title">Cultural Patterns</h2>                <p class="game-description">Discover mathematical patterns in traditional Māori art, weaving, and carvings</p>                <div class="difficulty-level">                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot"></span>                    <span class="difficulty-dot"></span>                </div>                <div class="cultural-connection">                    🌿 Explore geometry in koru, taniko, and tukutuku patterns                </div>            </div>            <!-- BASIC OPERATIONS -->            <div class="game-card game-operations" onclick="startGame('operations')" tabindex="0">                <span class="game-icon">➕</span>                <h2 class="game-title">Whānau Math</h2>                <p class="game-description">Practice addition and subtraction through family and community stories</p>                <div class="difficulty-level">                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot"></span>                    <span class="difficulty-dot"></span>                    <span class="difficulty-dot"></span>                </div>                <div class="cultural-connection">                    🌿 Real-world problems using whānau and hapū contexts                </div>            </div>            <!-- SHAPE EXPLORATION -->            <div class="game-card game-shapes" onclick="startGame('shapes')" tabindex="0">                <span class="game-icon">🔺</span>                <h2 class="game-title">Sacred Shapes</h2>                <p class="game-description">Explore shapes and spatial relationships through traditional Māori architecture and design</p>                <div class="difficulty-level">                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot active"></span>                    <span class="difficulty-dot"></span>                </div>                <div class="cultural-connection">                    🌿 Geometry of marae, wharenui, and traditional carvings                </div>            </div>        </section>        <!-- GAME INTERFACES -->        <!-- COUNTING GAME INTERFACE -->        <section class="game-interface" id="counting-game">            <div class="game-nav">                <button class="back-button large-touch-target" onclick="returnToMenu()">← Back to Games</button>                <div class="game-progress">                    <div class="progress-bar">                        <div class="progress-fill" id="counting-progress" style="width: 0%;"></div>                    </div>                    <div class="score-display" id="counting-score">Score: 0</div>                </div>            </div>            <div class="game-question">                <div class="question-text" id="counting-question">How many kiwi can you count?</div>                <div class="cultural-context" id="counting-context">Kiwi are our national bird and sacred to many iwi</div>            </div>            <div class="maori-numbers" id="maori-number-display">                <div class="maori-number" id="maori-number-text">Kotahi (One)</div>                <div class="pronunciation-guide" id="pronunciation-guide">KOH-tah-hee</div>            </div>            <div class="counting-objects" id="counting-objects">                <!-- Objects will be populated by JavaScript -->            </div>            <div class="answer-options" id="counting-answers">                <!-- Answer buttons will be populated by JavaScript -->            </div>        </section>        <!-- PATTERN RECOGNITION GAME INTERFACE -->        <section class="game-interface" id="patterns-game">            <div class="game-nav">                <button class="back-button large-touch-target" onclick="returnToMenu()">← Back to Games</button>                <div class="game-progress">                    <div class="progress-bar">                        <div class="progress-fill" id="patterns-progress" style="width: 0%;"></div>                    </div>                    <div class="score-display" id="patterns-score">Score: 0</div>                </div>            </div>            <div class="game-question">                <div class="question-text" id="patterns-question">What comes next in this traditional pattern?</div>                <div class="cultural-context" id="patterns-context">This pattern is inspired by traditional taniko weaving</div>            </div>            <div class="pattern-sequence" id="pattern-sequence">                <!-- Pattern shapes will be populated by JavaScript -->            </div>            <div class="answer-options" id="pattern-answers">                <!-- Pattern answer options will be populated by JavaScript -->            </div>        </section>        <!-- FEEDBACK MESSAGE -->        <div class="feedback-message" id="feedback-message">            <div class="feedback-icon" id="feedback-icon">🎉</div>            <div class="feedback-text" id="feedback-text">Excellent work!</div>            <div class="feedback-explanation" id="feedback-explanation">You counted correctly! Kiwi are special birds in Aotearoa.</div>            <button class="continue-button large-touch-target" onclick="nextQuestion()">Continue Learning</button>        </div>    </div>    <script>        // MĀORI NUMERACY ADVENTURES - ADAPTIVE LEARNING GAME SYSTEM        // Designed for Mangakotukutuku College junior students        // Culturally responsive, neurodivergent-friendly, foundational skills focus        // GAME STATE        let gameState = {            currentGame: null,            currentLevel: 1,            score: 0,            questionsAnswered: 0,            correctAnswers: 0,            currentQuestion: null,            gameProgress: 0        };        // MĀORI NUMBER SYSTEM        const MAORI_NUMBERS = {            0: { maori: 'Kore', pronunciation: 'KOH-reh', meaning: 'nothing/zero' },            1: { maori: 'Kotahi', pronunciation: 'KOH-tah-hee', meaning: 'one' },            2: { maori: 'Rua', pronunciation: 'ROO-ah', meaning: 'two' },            3: { maori: 'Toru', pronunciation: 'TOH-roo', meaning: 'three' },            4: { maori: 'Whā', pronunciation: 'FAH', meaning: 'four' },            5: { maori: 'Rima', pronunciation: 'REE-mah', meaning: 'five/hand' },            6: { maori: 'Ono', pronunciation: 'OH-noh', meaning: 'six' },            7: { maori: 'Whitu', pronunciation: 'FEE-too', meaning: 'seven' },            8: { maori: 'Waru', pronunciation: 'WAH-roo', meaning: 'eight' },            9: { maori: 'Iwa', pronunciation: 'EE-wah', meaning: 'nine' },            10: { maori: 'Tekau', pronunciation: 'TEH-kah-oo', meaning: 'ten/complete set' }        };        // CULTURAL OBJECTS FOR COUNTING        const CULTURAL_OBJECTS = {            animals: [                { emoji: '🦄', name: 'Kiwi', context: 'Our national bird, sacred to many iwi' },                { emoji: '🐋', name: 'Tohora (Whale)', context: 'Ancestral guardians of the ocean' },                { emoji: '🦅', name: 'Kārearea (Falcon)', context: 'Swift hunters of the skies' },                { emoji: '🐟', name: 'Ika (Fish)', context: 'Food from Tangaroa\'s realm' },                { emoji: '🦭', name: 'Kekeno (Seal)', context: 'Playful ocean mammals' }            ],            plants: [                { emoji: '🌿', name: 'Harakeke (Flax)', context: 'Used for weaving and medicine' },                { emoji: '🌳', name: 'Kauri', context: 'Ancient giants of the forest' },                { emoji: '🌺', name: 'Pōhutukawa', context: 'Christmas tree of Aotearoa' },                { emoji: '🍃', name: 'Kawakawa', context: 'Medicinal plant with healing properties' }            ],            cultural: [                { emoji: '🏛️', name: 'Wharenui', context: 'Meeting house representing ancestors' },                { emoji: '🚣', name: 'Waka', context: 'Traditional voyaging vessels' },                { emoji: '🪶', name: 'Huruhuru', context: 'Sacred feathers for ceremonies' },                { emoji: '⭐', name: 'Whetū', context: 'Stars for navigation and stories' }            ]        };        // TRADITIONAL PATTERNS        const MAORI_PATTERNS = [            { name: 'Koru', elements: ['🌀', '🌀', '🌿', '🌀'], meaning: 'Unfurling fern representing growth' },            { name: 'Niho Taniwha', elements: ['▲', '▼', '▲', '▼'], meaning: 'Teeth of the taniwha' },            { name: 'Mangopare', elements: ['◆', '○', '◆', '○'], meaning: 'Hammerhead shark pattern' },            { name: 'Patiki', elements: ['◇', '◇', '□', '◇'], meaning: 'Flounder pattern' }        ];        // INITIALIZE GAMES SYSTEM        function initGames() {            console.log('🔢 Initializing Māori Numeracy Adventures...');            setupKeyboardNavigation();            setupAccessibilityFeatures();            loadGameProgress();            console.log('✅ Games ready - Kia kaha with your learning!');        }        // GAME LAUNCHER        async function startGame(gameType) {            console.log(`🎯 Starting ${gameType} game...`);            gameState.currentGame = gameType;            gameState.currentLevel = 1;            gameState.score = 0;            gameState.questionsAnswered = 0;            gameState.correctAnswers = 0;            gameState.gameProgress = 0;            // Hide game selection, show game interface            document.getElementById('games-selection').style.display = 'none';            document.getElementById(`${gameType}-game`).classList.add('active');            // DEPLOY DEEPSEEK AGENTS for adaptive content            await deployAdaptiveGameContent(gameType);            // Start first question            nextQuestion();        }        async function deployAdaptiveGameContent(gameType) {            console.log('🤖 Deploying DeepSeek agents for adaptive game content...');            try {                const response = await fetch('/.netlify/functions/deepseek-multi-agent-orchestra', {                    method: 'POST',                    headers: { 'Content-Type': 'application/json' },                    body: JSON.stringify({                        task: `Generate adaptive numeracy game content for "${gameType}" game targeting Mangakotukutuku College junior students. Create culturally authentic problems that build foundational math skills while honoring Te Ao Māori perspectives. Include multiple difficulty levels and engagement strategies for neurodivergent learners.`,                        context: {                            role: 'adaptive_game_designer',                            focus: 'foundational_numeracy',                            game_type: gameType,                            cultural_integration: 'high',                            accessibility: 'neurodivergent_friendly',                            source: 'numeracy_games'                        },                        priority: 'high',                        agentCount: 4                    })                });                if (response.ok) {                    const data = await response.json();                    console.log('✅ Adaptive game content deployed:', data.orchestration?.primary_response || 'Content ready');                }            } catch (error) {                console.error('❌ Adaptive game content deployment failed:', error);            }        }        function returnToMenu() {            // Hide all game interfaces            document.querySelectorAll('.game-interface').forEach(interface => {                interface.classList.remove('active');            });            // Show game selection            document.getElementById('games-selection').style.display = 'grid';            // Reset game state            gameState.currentGame = null;            // Save progress            saveGameProgress();        }        function nextQuestion() {            // Hide feedback message            document.getElementById('feedback-message').classList.remove('show');            // Generate next question based on current game            switch (gameState.currentGame) {                case 'counting':                    generateCountingQuestion();                    break;                case 'patterns':                    generatePatternQuestion();                    break;                case 'operations':                    generateOperationsQuestion();                    break;                case 'shapes':                    generateShapesQuestion();                    break;            }            // Update progress            updateGameProgress();        }        function generateCountingQuestion() {            const objectTypes = Object.keys(CULTURAL_OBJECTS);            const randomType = objectTypes[Math.floor(Math.random() * objectTypes.length)];            const objects = CULTURAL_OBJECTS[randomType];            const randomObject = objects[Math.floor(Math.random() * objects.length)];            // Generate number to count (1-10 for beginners)            const targetCount = Math.floor(Math.random() * 5) + 1 + gameState.currentLevel;            const maxCount = Math.min(targetCount + 3, 10);            // Update question display            document.getElementById('counting-question').textContent =                `How many ${randomObject.name} can you count?`;            document.getElementById('counting-context').textContent = randomObject.context;            // Show Māori number            const maoriNum = MAORI_NUMBERS[targetCount];            document.getElementById('maori-number-text').textContent =                `${maoriNum.maori} (${targetCount})`;            document.getElementById('pronunciation-guide').textContent = maoriNum.pronunciation;            // Generate counting objects            const objectsContainer = document.getElementById('counting-objects');            objectsContainer.innerHTML = '';            for (let i = 0; i < targetCount; i++) {                const obj = document.createElement('div');                obj.className = 'counting-object large-touch-target';                obj.textContent = randomObject.emoji;                obj.setAttribute('aria-label', `${randomObject.name} ${i + 1}`);                obj.tabIndex = 0;                obj.addEventListener('click', () => selectCountingObject(obj, i));                obj.addEventListener('keydown', (e) => {                    if (e.key === 'Enter' || e.key === ' ') {                        selectCountingObject(obj, i);                    }                });                objectsContainer.appendChild(obj);            }            // Generate answer options            const answersContainer = document.getElementById('counting-answers');            answersContainer.innerHTML = '';            const answerOptions = generateAnswerOptions(targetCount, maxCount, 4);            answerOptions.forEach(option => {                const button = document.createElement('button');                button.className = 'answer-button large-touch-target';                button.textContent = option;                button.setAttribute('aria-label', `Answer: ${option}`);                button.addEventListener('click', () => checkAnswer(option, targetCount, randomObject));                answersContainer.appendChild(button);            });            // Store correct answer            gameState.currentQuestion = {                type: 'counting',                correctAnswer: targetCount,                object: randomObject,                totalObjects: targetCount            };        }        function generatePatternQuestion() {            const pattern = MAORI_PATTERNS[Math.floor(Math.random() * MAORI_PATTERNS.length)];            const sequence = [...pattern.elements];            // Remove last element to create the question            const correctAnswer = sequence.pop();            // Update question display            document.getElementById('patterns-question').textContent =                `What comes next in this ${pattern.name} pattern?`;            document.getElementById('patterns-context').textContent = pattern.meaning;            // Display pattern sequence            const sequenceContainer = document.getElementById('pattern-sequence');            sequenceContainer.innerHTML = '';            sequence.forEach((element, index) => {                const shape = document.createElement('div');                shape.className = 'pattern-shape';                shape.textContent = element;                shape.setAttribute('aria-label', `Pattern element ${index + 1}: ${element}`);                sequenceContainer.appendChild(shape);            });            // Add question mark for missing element            const questionShape = document.createElement('div');            questionShape.className = 'pattern-shape';            questionShape.style.background = '#f0f0f0';            questionShape.style.border = '3px dashed #999';            questionShape.textContent = '?';            questionShape.setAttribute('aria-label', 'Missing pattern element');            sequenceContainer.appendChild(questionShape);            // Generate answer options            const answersContainer = document.getElementById('pattern-answers');            answersContainer.innerHTML = '';            const wrongOptions = ['◆', '○', '▲', '▼', '◇', '□'].filter(opt => opt !== correctAnswer);            const answerOptions = [correctAnswer, ...wrongOptions.slice(0, 3)].sort(() => Math.random() - 0.5);            answerOptions.forEach(option => {                const button = document.createElement('button');                button.className = 'answer-button large-touch-target';                button.textContent = option;                button.style.fontSize = '3rem';                button.setAttribute('aria-label', `Pattern answer: ${option}`);                button.addEventListener('click', () => checkAnswer(option, correctAnswer, pattern));                answersContainer.appendChild(button);            });            // Store correct answer            gameState.currentQuestion = {                type: 'patterns',                correctAnswer: correctAnswer,                pattern: pattern            };        }        function generateAnswerOptions(correct, max, count) {            const options = [correct];            while (options.length < count) {                const option = Math.floor(Math.random() * max) + 1;                if (!options.includes(option)) {                    options.push(option);                }            }            return options.sort(() => Math.random() - 0.5);        }        function selectCountingObject(element, index) {            element.classList.toggle('selected');            // Count selected objects            const selectedCount = document.querySelectorAll('.counting-object.selected').length;            // Announce selection for screen readers            const announcement = document.createElement('div');            announcement.setAttribute('aria-live', 'polite');            announcement.style.position = 'absolute';            announcement.style.left = '-10000px';            announcement.textContent = `Selected ${selectedCount} objects`;            document.body.appendChild(announcement);            setTimeout(() => {                document.body.removeChild(announcement);            }, 1000);        }        function checkAnswer(userAnswer, correctAnswer, context) {            gameState.questionsAnswered++;            const isCorrect = userAnswer === correctAnswer;            if (isCorrect) {                gameState.correctAnswers++;                gameState.score += 10 * gameState.currentLevel;                showFeedback(true, correctAnswer, context);                // Visual feedback on correct button                event.target.classList.add('correct');                // Mark objects as correct if counting game                if (gameState.currentGame === 'counting') {                    document.querySelectorAll('.counting-object').forEach(obj => {                        obj.classList.add('correct');                    });                }            } else {                showFeedback(false, correctAnswer, context);                // Visual feedback on incorrect button                event.target.classList.add('incorrect');                // Highlight correct answer                setTimeout(() => {                    document.querySelectorAll('.answer-button').forEach(button => {                        if (button.textContent == correctAnswer) {                            button.classList.add('correct');                        }                    });                }, 500);            }            // Disable all answer buttons            document.querySelectorAll('.answer-button').forEach(button => {                button.disabled = true;            });        }        function showFeedback(isCorrect, correctAnswer, context) {            const feedbackMessage = document.getElementById('feedback-message');            const feedbackIcon = document.getElementById('feedback-icon');            const feedbackText = document.getElementById('feedback-text');            const feedbackExplanation = document.getElementById('feedback-explanation');            if (isCorrect) {                feedbackIcon.textContent = '🎉';                feedbackText.textContent = 'Kia pai! Well done!';                feedbackText.style.color = '#4caf50';                if (context.name) {                    feedbackExplanation.textContent =                        `Perfect counting! ${correctAnswer} ${context.name}. ${context.context}`;                } else if (context.meaning) {                    feedbackExplanation.textContent =                        `Excellent pattern recognition! You understand the ${context.name} pattern: ${context.meaning}`;                }            } else {                feedbackIcon.textContent = '💭';                feedbackText.textContent = 'Not quite - let\'s learn together!';                feedbackText.style.color = '#ff9800';                if (context.name) {                    feedbackExplanation.textContent =                        `The correct answer is ${correctAnswer}. ${context.context} Let's keep practicing!`;                } else if (context.meaning) {                    feedbackExplanation.textContent =                        `In the ${context.name} pattern, the next element should be part of the traditional sequence. ${context.meaning}`;                }            }            feedbackMessage.classList.add('show');        }        function updateGameProgress() {            const progressPercentage = (gameState.questionsAnswered / 10) * 100;            gameState.gameProgress = Math.min(progressPercentage, 100);            // Update progress bar            const gameType = gameState.currentGame;            const progressBar = document.getElementById(`${gameType}-progress`);            const scoreDisplay = document.getElementById(`${gameType}-score`);            if (progressBar) {                progressBar.style.width = gameState.gameProgress + '%';            }            if (scoreDisplay) {                scoreDisplay.textContent = `Score: ${gameState.score}`;            }            // Level up if needed            if (gameState.questionsAnswered > 0 && gameState.questionsAnswered % 3 === 0) {                const accuracy = gameState.correctAnswers / gameState.questionsAnswered;                if (accuracy >= 0.8) {                    gameState.currentLevel = Math.min(gameState.currentLevel + 1, 5);                    showLevelUp();                }            }        }        function showLevelUp() {            const levelUpMessage = document.createElement('div');            levelUpMessage.className = 'feedback-message show';            levelUpMessage.innerHTML = `                <div class="feedback-icon">🌟</div>                <div class="feedback-text" style="color: #9c27b0;">Level Up!</div>                <div class="feedback-explanation">You've reached Level ${gameState.currentLevel}! Questions will be more challenging now.</div>                <button class="continue-button" onclick="this.parentElement.remove(); nextQuestion();">Ready for Challenge!</button>            `;            document.body.appendChild(levelUpMessage);        }        function setupKeyboardNavigation() {            document.addEventListener('keydown', (e) => {                // Arrow key navigation for game cards                if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {                    const focusedElement = document.activeElement;                    if (focusedElement.classList.contains('game-card')) {                        e.preventDefault();                        navigateGameCards(e.key);                    }                }                // Enter key activation                if (e.key === 'Enter' && document.activeElement.classList.contains('game-card')) {                    document.activeElement.click();                }                // Escape to return to menu                if (e.key === 'Escape' && gameState.currentGame) {                    returnToMenu();                }            });        }        function navigateGameCards(direction) {            const gameCards = document.querySelectorAll('.game-card');            const currentIndex = Array.from(gameCards).indexOf(document.activeElement);            let newIndex;            switch (direction) {                case 'ArrowRight':                case 'ArrowDown':                    newIndex = (currentIndex + 1) % gameCards.length;                    break;                case 'ArrowLeft':                case 'ArrowUp':                    newIndex = (currentIndex - 1 + gameCards.length) % gameCards.length;                    break;            }            gameCards[newIndex].focus();        }        function setupAccessibilityFeatures() {            // Add ARIA labels and roles            document.querySelectorAll('.game-card').forEach(card => {                card.setAttribute('role', 'button');                card.setAttribute('aria-label',                    `${card.querySelector('.game-title').textContent}: ${card.querySelector('.game-description').textContent}`                );            });            // Add live region for announcements            const liveRegion = document.createElement('div');            liveRegion.setAttribute('aria-live', 'polite');            liveRegion.setAttribute('aria-atomic', 'true');            liveRegion.className = 'sr-only';            liveRegion.id = 'live-announcements';            document.body.appendChild(liveRegion);        }        function announceToScreenReader(message) {            const liveRegion = document.getElementById('live-announcements');            if (liveRegion) {                liveRegion.textContent = message;                setTimeout(() => {                    liveRegion.textContent = '';                }, 1000);            }        }        function loadGameProgress() {            const saved = localStorage.getItem('mangakotukutuku_numeracy_progress');            if (saved) {                const savedProgress = JSON.parse(saved);                // Apply saved progress if needed                console.log('Loaded game progress:', savedProgress);            }        }        function saveGameProgress() {            const progress = {                totalScore: gameState.score,                currentLevel: gameState.currentLevel,                questionsAnswered: gameState.questionsAnswered,                correctAnswers: gameState.correctAnswers,                timestamp: new Date().toISOString()            };            localStorage.setItem('mangakotukutuku_numeracy_progress', JSON.stringify(progress));        }        // Placeholder functions for other game types        function generateOperationsQuestion() {            // Implementation for operations game            console.log('Operations game coming soon!');            showFeedback(true, 0, { context: 'Operations game is being developed by our AI agents!' });        }        function generateShapesQuestion() {            // Implementation for shapes game            console.log('Shapes game coming soon!');            showFeedback(true, 0, { context: 'Shapes game is being developed with traditional Māori architecture!' });        }        // Initialize when page loads        document.addEventListener('DOMContentLoaded', initGames);    </script>    <!-- Footer -->    <div id="footer-component"></div>    <script>        fetch('/components/footer.html').then(r=>r.text()).then(html=>{            document.getElementById('footer-component').innerHTML=html;        });    </script><!-- 🎨 ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><script>  fetch('/components/footer.html').then(r=>r.text()).then(html=>{    document.getElementById('footer-container').innerHTML=html;  });</script><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><script>  fetch('/components/mobile-bottom-nav.html').then(r=>r.text()).then(html=>{    document.getElementById('mobile-nav-bottom').innerHTML=html;  });</script><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><script>  fetch('/components/quick-actions-fab.html').then(r=>r.text()).then(html=>{    document.getElementById('fab-quick-actions').innerHTML=html;  });</script><!-- 🎨 ULTIMATE BEAUTY: Framer Cultural Gestures --><script src="/js/framer-cultural-gestures-ultimate.js" defer></script><!-- 📊 ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script></body></html>