<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Hub | Te Kete Ako</title>
    <meta name="description" content="Reading and comprehension resources for Years 7-13. 187+ resources focusing on fluency, vocabulary, and understanding.">
    
    <!-- CSS -->
    <link rel="stylesheet" href="/css/te-kete-professional.css">
    <link rel="stylesheet" href="/css/component-library.css">
    <link rel="stylesheet" href="/css/enhanced-cards.css">
    <link rel="stylesheet" href="/css/cultural-patterns.css">
    <link rel="stylesheet" href="/css/hub-pages-professional.css">
    
    <style>
        .reading-hero {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
            padding: 5rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .reading-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.08;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3E%3Ctext x='10' y='40' font-size='32' fill='white' font-family='serif'%3E📖%3C/text%3E%3C/svg%3E");
            background-repeat: repeat;
        }
        
        .moe-badge {
            background: rgba(255,255,255,0.2);
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            display: inline-block;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div id="nav-container"></div>
    <script>
        fetch('/components/navigation-standard.html')
            .then(r => r.text())
            .then(html => document.getElementById('nav-container').innerHTML = html);
    </script>
    
    <!-- Hero -->
    <section class="reading-hero">
        <div style="position: relative; z-index: 2; max-width: 900px; margin: 0 auto;">
            <div class="moe-badge">
                📋 MOE FRAMEWORK: 1 Hour Reading Daily (Years 7-8)
            </div>
            <h1 style="font-size: 4rem; margin-bottom: 1rem; font-weight: 800;">📖 Reading Hub</h1>
            <p style="font-size: 1.5rem; opacity: 0.95; margin-bottom: 1rem;">
                Comprehension, fluency, and vocabulary resources
            </p>
            <p style="font-size: 1.1rem; opacity: 0.85; margin-bottom: 2rem;">
                📊 Powered by GraphRAG: 231,469 knowledge relationships
            </p>
            
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <span id="resource-count" style="display: inline-block; background: rgba(255,255,255,0.2); padding: 1rem 2rem; border-radius: 12px; font-size: 1.75rem; font-weight: 700;">
                    187 Resources
                </span>
                <span id="cultural-stat" style="display: inline-block; background: rgba(255,255,255,0.15); padding: 1rem 2rem; border-radius: 12px; font-size: 1.25rem; font-weight: 600;">
                    🌿 Cultural Integration
                </span>
                <span id="te-reo-stat" style="display: inline-block; background: rgba(255,255,255,0.15); padding: 1rem 2rem; border-radius: 12px; font-size: 1.25rem; font-weight: 600;">
                    🗣️ Te Reo Texts Available
                </span>
            </div>
        </div>
    </section>
    
    <main style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        
        <!-- Reading Skills Framework -->
        <section style="margin: 4rem 0;">
            <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 3rem;">
                📚 Reading Skills Framework
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <!-- Comprehension -->
                <div style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid #3b82f6;">
                    <h3 style="font-size: 2rem; color: #3b82f6; margin-bottom: 1.5rem;">🧠 Comprehension</h3>
                    <ul style="color: #546e7a; line-height: 2; font-size: 1.125rem;">
                        <li>Literal understanding</li>
                        <li>Inferential thinking</li>
                        <li>Critical analysis</li>
                        <li>Making connections</li>
                        <li>Evaluating texts</li>
                    </ul>
                </div>
                
                <!-- Fluency -->
                <div style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid #06b6d4;">
                    <h3 style="font-size: 2rem; color: #06b6d4; margin-bottom: 1.5rem;">⚡ Fluency</h3>
                    <ul style="color: #546e7a; line-height: 2; font-size: 1.125rem;">
                        <li>Reading speed</li>
                        <li>Accuracy</li>
                        <li>Expression & prosody</li>
                        <li>Automaticity</li>
                        <li>Phrasing</li>
                    </ul>
                </div>
                
                <!-- Vocabulary -->
                <div style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid #8b5cf6;">
                    <h3 style="font-size: 2rem; color: #8b5cf6; margin-bottom: 1.5rem;">📝 Vocabulary</h3>
                    <ul style="color: #546e7a; line-height: 2; font-size: 1.125rem;">
                        <li>Word recognition</li>
                        <li>Context clues</li>
                        <li>Word relationships</li>
                        <li>Academic vocabulary</li>
                        <li>Domain-specific terms</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Reading Strategies -->
        <section style="background: linear-gradient(135deg, #eff6ff, #dbeafe); padding: 3rem 2rem; border-radius: 16px; margin: 3rem 0;">
            <h2 style="font-size: 2.5rem; color: #1e40af; text-align: center; margin-bottom: 2rem;">
                🎯 Reading Strategies & Techniques
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
                <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <h4 style="color: #1e40af; font-size: 1.25rem; margin-bottom: 0.75rem;">🔍 Before Reading</h4>
                    <ul style="color: #546e7a; line-height: 1.8; font-size: 0.95rem;">
                        <li>Preview & predict</li>
                        <li>Set purpose</li>
                        <li>Activate prior knowledge</li>
                        <li>Question generation</li>
                    </ul>
                </div>
                
                <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <h4 style="color: #1e40af; font-size: 1.25rem; margin-bottom: 0.75rem;">📖 During Reading</h4>
                    <ul style="color: #546e7a; line-height: 1.8; font-size: 0.95rem;">
                        <li>Monitor understanding</li>
                        <li>Visualize</li>
                        <li>Make connections</li>
                        <li>Ask questions</li>
                    </ul>
                </div>
                
                <div style="background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                    <h4 style="color: #1e40af; font-size: 1.25rem; margin-bottom: 0.75rem;">✅ After Reading</h4>
                    <ul style="color: #546e7a; line-height: 1.8; font-size: 0.95rem;">
                        <li>Summarize</li>
                        <li>Reflect & respond</li>
                        <li>Evaluate</li>
                        <li>Extend learning</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Te Reo & Māori Texts -->
        <section style="background: linear-gradient(135deg, #dcfce7, #bbf7d0); padding: 3rem 2rem; border-radius: 16px; margin: 3rem 0;">
            <h2 style="font-size: 2.5rem; color: #166534; text-align: center; margin-bottom: 2rem;">
                🗣️ Te Reo Māori Reading Resources
            </h2>
            <p style="text-align: center; color: #166534; font-size: 1.1rem; margin-bottom: 2.5rem; max-width: 700px; margin-left: auto; margin-right: auto;">
                Reading resources that include Te Reo Māori texts, vocabulary, and cultural contexts
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                <a href="/units/unit-1-te-ao-maori/index.html" style="background: white; padding: 1.5rem; border-radius: 12px; text-decoration: none; box-shadow: 0 2px 12px rgba(0,0,0,0.1); transition: transform 0.2s, box-shadow 0.2s;" onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.15)';" onmouseout="this.style.transform=''; this.style.boxShadow='0 2px 12px rgba(0,0,0,0.1)';">
                    <div style="font-size: 2rem; margin-bottom: 0.75rem;">🌏</div>
                    <h3 style="color: #166534; font-weight: 700; margin-bottom: 0.5rem;">Te Ao Māori Unit</h3>
                    <p style="color: #666; font-size: 0.9rem; margin-bottom: 0.75rem;">Year 8 • Complete Unit</p>
                    <p style="color: #546e7a; font-size: 0.9rem;">Cultural identity & knowledge systems with extensive reading</p>
                </a>
                
                <a href="/lessons/?topic=te-reo-reading" class="resource-card">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">📚</div>
                    <h3>Te Reo Texts Collection</h3>
                    <p style="font-size: 0.875rem;">Graded readers, stories, information texts</p>
                </a>
                
                <a href="/lessons/?topic=bilingual-reading" class="resource-card">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">🌐</div>
                    <h3>Bilingual Reading Resources</h3>
                    <p style="font-size: 0.875rem;">English-Te Reo parallel texts</p>
                </a>
            </div>
        </section>
        
        <!-- Guided Reading & Independent Reading -->
        <section style="margin: 4rem 0;">
            <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 3rem;">
                📚 Guided & Independent Reading
            </h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                <!-- Guided Reading -->
                <div style="background: white; border-radius: 16px; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                    <h3 style="font-size: 2rem; color: #3b82f6; margin-bottom: 1.5rem;">👥 Guided Reading</h3>
                    <p style="color: #546e7a; margin-bottom: 1.5rem;">
                        Teacher-led small group instruction focusing on specific reading strategies and skills.
                    </p>
                    <ul style="color: #546e7a; line-height: 2;">
                        <li>Leveled texts</li>
                        <li>Strategy instruction</li>
                        <li>Discussion prompts</li>
                        <li>Comprehension checks</li>
                        <li>Skill-focused lessons</li>
                    </ul>
                </div>
                
                <!-- Independent Reading -->
                <div style="background: white; border-radius: 16px; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08);">
                    <h3 style="font-size: 2rem; color: #06b6d4; margin-bottom: 1.5rem;">📖 Independent Reading</h3>
                    <p style="color: #546e7a; margin-bottom: 1.5rem;">
                        Student-led reading practice with choice and self-selected texts for building fluency.
                    </p>
                    <ul style="color: #546e7a; line-height: 2;">
                        <li>Free choice reading</li>
                        <li>Reading logs</li>
                        <li>Book talks</li>
                        <li>Response activities</li>
                        <li>Reading conferences</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Reading Assessment -->
        <section style="background: linear-gradient(135deg, #fef2f2, #fee2e2); padding: 3rem 2rem; border-radius: 16px; margin: 3rem 0;">
            <h2 style="font-size: 2.5rem; color: #991b1b; text-align: center; margin-bottom: 2rem;">
                📊 Reading Assessment & Progress
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                <div class="resource-card">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">📈</div>
                    <h3>Running Records</h3>
                    <p style="font-size: 0.875rem;">Track accuracy, fluency, and comprehension</p>
                </div>
                
                <div class="resource-card">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">🎯</div>
                    <h3>Comprehension Assessments</h3>
                    <p style="font-size: 0.875rem;">Check understanding at all levels</p>
                </div>
                
                <div class="resource-card">
                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">📋</div>
                    <h3>Progress Monitoring</h3>
                    <p style="font-size: 0.875rem;">Track growth over time</p>
                </div>
            </div>
        </section>
        
    </main>
    
    <!-- Footer -->
    <div id="footer-container"></div>
    <script>
        fetch('/components/footer.html').then(r=>r.text()).then(html=>{
            document.getElementById('footer-container').innerHTML=html;
        });
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // GraphRAG-Powered Reading Hub
        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY5ODgxMTksImV4cCI6MjA1MjU2NDExOX0.gN5RGe7kGmxj4-yI1xnDuCuKUPFDh4f-8CQqQdqrGq0';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        async function loadGraphRAGReading() {
            try {
                console.log('🚀 Connecting to GraphRAG Knowledge Graph (Reading)...');
                
                // Query for reading resources
                const { data: readingData, error, count } = await supabase
                    .from('graphrag_resources')
                    .select('file_path, title, resource_type, quality_score, cultural_context, has_te_reo', { count: 'exact' })
                    .or('title.ilike.%reading%,title.ilike.%comprehension%,title.ilike.%fluency%')
                    .order('quality_score', { ascending: false })
                    .limit(100);
                
                if (error) {
                    console.error('GraphRAG Error:', error);
                    return;
                }
                
                const totalCount = count || readingData.length;
                const culturalCount = readingData.filter(r => r.cultural_context).length;
                const teReoCount = readingData.filter(r => r.has_te_reo).length;
                const avgQuality = readingData.reduce((sum, r) => sum + (r.quality_score || 0), 0) / readingData.length;
                
                // Update UI
                const countEl = document.getElementById('resource-count');
                const culturalEl = document.getElementById('cultural-stat');
                const teReoEl = document.getElementById('te-reo-stat');
                
                if (countEl) countEl.textContent = `${totalCount.toLocaleString()} Resources`;
                if (culturalEl) {
                    const pct = Math.round((culturalCount / totalCount) * 100);
                    culturalEl.textContent = `🌿 ${pct}% Cultural Integration`;
                }
                if (teReoEl) teReoEl.textContent = `🗣️ ${teReoCount} with Te Reo`;
                
                // Console success
                console.log('✅ GraphRAG Connection Successful!');
                console.log(`   📊 Total Reading Resources: ${totalCount.toLocaleString()}`);
                console.log(`   🌿 Cultural Integration: ${culturalCount} (${Math.round(culturalCount/totalCount*100)}%)`);
                console.log(`   🗣️ With Te Reo: ${teReoCount}`);
                console.log(`   ⭐ Average Quality Score: ${avgQuality.toFixed(1)}/100`);
                console.log(`   🧠 Knowledge Graph: 19,737 resources × 231,469 relationships`);
                
            } catch (error) {
                console.error('❌ GraphRAG Connection Error:', error);
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadGraphRAGReading);
    </script>
</body>
</html>

