<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health & Physical Education Hub | Te Kete Ako</title>
    <meta name="description" content="Hauora - Holistic wellbeing through Te Whare Tapa Whā framework. Health and PE resources integrating physical, mental, social, and spiritual dimensions.">
    
    <link rel="stylesheet" href="/css/te-kete-professional.css">
    <link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css">
    <link rel="stylesheet" href="/css/mobile-enhanced.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="pattern-koru-subtle">
    
    <!-- Navigation -->
    <div id="nav-container"></div>
    <script>
        fetch('/components/navigation-standard.html')
            .then(r => r.text())
            .then(html => document.getElementById('nav-container').innerHTML = html);
    </script>
    
    <!-- Whakataukī Banner -->
    <section style="background: linear-gradient(135deg, #dcfce7, #bbf7d0); padding: 2rem; text-align: center; border-bottom: 4px solid #059669;">
        <p style="font-size: 1.5rem; font-style: italic; color: #166534; margin-bottom: 0.5rem; font-weight: 600;">
            "Te taha tinana, te taha hinengaro, te taha whānau, te taha wairua"
        </p>
        <p style="font-size: 1.1rem; color: #166534; font-weight: 500;">
            Physical, mental, social, and spiritual wellbeing - the four pillars of hauora
        </p>
    </section>
    
    <!-- Hero Section -->
    <section style="background: linear-gradient(135deg, #1a4d2e, #2d5a3d); color: white; padding: 3rem; text-align: center;">
        <h1 style="font-size: 3.5rem; margin-bottom: 1rem;">🏃‍♀️ Health & Physical Education Hub</h1>
        <p style="font-size: 1.3rem; opacity: 0.95; max-width: 900px; margin: 0 auto 1rem;">
            Hauora - Holistic wellbeing through Te Whare Tapa Whā framework
        </p>
        <div style="margin-top: 1.5rem;">
            <span id="resource-count" style="background: rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 25px; margin: 0.5rem; display: inline-block;">
                Loading resources...
            </span>
            <span id="cultural-stat" style="background: rgba(255,255,255,0.2); padding: 0.75rem 1.5rem; border-radius: 25px; margin: 0.5rem; display: inline-block;">
                🌿 Cultural Integration
            </span>
        </div>
    </section>
    
    <!-- Te Whare Tapa Whā Framework -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        <div style="background: linear-gradient(135deg, #fff7ed, #ffedd5); border-radius: 16px; padding: 3rem 2rem; border-left: 6px solid #DAA520;">
            <h2 style="font-size: 2.5rem; color: #92400e; margin-bottom: 1.5rem; text-align: center;">
                🏠 Te Whare Tapa Whā - The Four-Sided House
            </h2>
            <p style="text-align: center; font-size: 1.1rem; color: #78350f; max-width: 800px; margin: 0 auto 2rem;">
                Our hauora (wellbeing) curriculum is built on Te Whare Tapa Whā, developed by Sir Mason Durie. 
                Like a wharenui (meeting house), our wellbeing needs four strong walls to stand.
            </p>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
                
                <!-- Taha Tinana -->
                <div style="background: white; border-radius: 12px; padding: 2rem; border-top: 4px solid #dc2626;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">💪</div>
                    <h3 style="color: #dc2626; margin-bottom: 1rem;">Taha Tinana</h3>
                    <p style="font-weight: 600; color: #666; margin-bottom: 0.5rem;">Physical Wellbeing</p>
                    <ul style="color: #666; line-height: 1.8;">
                        <li>Physical fitness & activity</li>
                        <li>Nutrition & healthy eating</li>
                        <li>Sleep & rest</li>
                        <li>Body awareness</li>
                    </ul>
                </div>
                
                <!-- Taha Hinengaro -->
                <div style="background: white; border-radius: 12px; padding: 2rem; border-top: 4px solid #7c3aed;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">🧠</div>
                    <h3 style="color: #7c3aed; margin-bottom: 1rem;">Taha Hinengaro</h3>
                    <p style="font-weight: 600; color: #666; margin-bottom: 0.5rem;">Mental & Emotional Wellbeing</p>
                    <ul style="color: #666; line-height: 1.8;">
                        <li>Emotional regulation</li>
                        <li>Resilience & coping</li>
                        <li>Self-awareness</li>
                        <li>Mental health literacy</li>
                    </ul>
                </div>
                
                <!-- Taha Whānau -->
                <div style="background: white; border-radius: 12px; padding: 2rem; border-top: 4px solid #059669;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">👨‍👩‍👧‍👦</div>
                    <h3 style="color: #059669; margin-bottom: 1rem;">Taha Whānau</h3>
                    <p style="font-weight: 600; color: #666; margin-bottom: 0.5rem;">Social Wellbeing</p>
                    <ul style="color: #666; line-height: 1.8;">
                        <li>Relationships & connections</li>
                        <li>Belonging & identity</li>
                        <li>Communication skills</li>
                        <li>Community participation</li>
                    </ul>
                </div>
                
                <!-- Taha Wairua -->
                <div style="background: white; border-radius: 12px; padding: 2rem; border-top: 4px solid #DAA520;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">✨</div>
                    <h3 style="color: #DAA520; margin-bottom: 1rem;">Taha Wairua</h3>
                    <p style="font-weight: 600; color: #666; margin-bottom: 0.5rem;">Spiritual Wellbeing</p>
                    <ul style="color: #666; line-height: 1.8;">
                        <li>Purpose & meaning</li>
                        <li>Values & beliefs</li>
                        <li>Connection to nature</li>
                        <li>Cultural identity</li>
                    </ul>
                </div>
                
            </div>
        </div>
    </section>
    
    <!-- Resources by Year Level -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 2rem;">
            📚 Resources by Year Level
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            
            <!-- Years 7-8 -->
            <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h3 style="color: #1a4d2e; margin-bottom: 1rem;">Years 7-8</h3>
                <ul style="color: #666; line-height: 2;">
                    <li>Foundation movement skills</li>
                    <li>Basic nutrition concepts</li>
                    <li>Emotional awareness</li>
                    <li>Team building activities</li>
                    <li>Cultural games (Ki-o-rahi, Poi)</li>
                </ul>
                <a href="#year-7-8-resources" style="display: inline-block; margin-top: 1rem; color: #1a4d2e; font-weight: 600;">
                    Browse Resources →
                </a>
            </div>
            
            <!-- Years 9-10 -->
            <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h3 style="color: #1a4d2e; margin-bottom: 1rem;">Years 9-10</h3>
                <ul style="color: #666; line-height: 2;">
                    <li>Advanced fitness training</li>
                    <li>Nutrition science</li>
                    <li>Mental health strategies</li>
                    <li>Relationship education</li>
                    <li>Cultural wellbeing practices</li>
                </ul>
                <a href="#year-9-10-resources" style="display: inline-block; margin-top: 1rem; color: #1a4d2e; font-weight: 600;">
                    Browse Resources →
                </a>
            </div>
            
            <!-- NCEA 11-13 -->
            <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                <h3 style="color: #1a4d2e; margin-bottom: 1rem;">NCEA (Years 11-13)</h3>
                <ul style="color: #666; line-height: 2;">
                    <li>Sport science & biomechanics</li>
                    <li>Nutrition planning</li>
                    <li>Mental health advocacy</li>
                    <li>Hauora in action projects</li>
                    <li>Leadership development</li>
                </ul>
                <a href="#ncea-resources" style="display: inline-block; margin-top: 1rem; color: #1a4d2e; font-weight: 600;">
                    Browse Resources →
                </a>
            </div>
            
        </div>
    </section>
    
    <!-- Key Topics -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 2rem;">
            🎯 Key Topics & Units
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem;">
            
            <a href="/units/hauora-foundation/" style="background: linear-gradient(135deg, #fef3c7, #fde68a); padding: 2rem; border-radius: 12px; text-decoration: none; border-left: 4px solid #DAA520; transition: transform 0.2s;">
                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🏠</div>
                <h3 style="color: #92400e; margin-bottom: 0.5rem;">Te Whare Tapa Whā</h3>
                <p style="color: #78350f; font-size: 0.95rem;">Complete framework units</p>
            </a>
            
            <a href="/units/movement-skills/" style="background: linear-gradient(135deg, #dbeafe, #bfdbfe); padding: 2rem; border-radius: 12px; text-decoration: none; border-left: 4px solid #1e40af; transition: transform 0.2s;">
                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">⚽</div>
                <h3 style="color: #1e3a8a; margin-bottom: 0.5rem;">Movement & Sport</h3>
                <p style="color: #1e40af; font-size: 0.95rem;">Physical skills development</p>
            </a>
            
            <a href="/units/nutrition/" style="background: linear-gradient(135deg, #dcfce7, #bbf7d0); padding: 2rem; border-radius: 12px; text-decoration: none; border-left: 4px solid #059669; transition: transform 0.2s;">
                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🥗</div>
                <h3 style="color: #166534; margin-bottom: 0.5rem;">Nutrition & Kai</h3>
                <p style="color: #047857; font-size: 0.95rem;">Healthy eating & rongoā</p>
            </a>
            
            <a href="/units/mental-health/" style="background: linear-gradient(135deg, #fce7f3, #fbcfe8); padding: 2rem; border-radius: 12px; text-decoration: none; border-left: 4px solid #db2777; transition: transform 0.2s;">
                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🧠</div>
                <h3 style="color: #9f1239; margin-bottom: 0.5rem;">Mental Wellbeing</h3>
                <p style="color: #be185d; font-size: 0.95rem;">Resilience & emotional health</p>
            </a>
            
            <a href="/units/relationships/" style="background: linear-gradient(135deg, #e0e7ff, #c7d2fe); padding: 2rem; border-radius: 12px; text-decoration: none; border-left: 4px solid #4f46e5; transition: transform 0.2s;">
                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">💕</div>
                <h3 style="color: #3730a3; margin-bottom: 0.5rem;">Relationships & Sexuality</h3>
                <p style="color: #4338ca; font-size: 0.95rem;">Healthy relationships education</p>
            </a>
            
            <a href="/units/cultural-games/" style="background: linear-gradient(135deg, #fed7aa, #fdba74); padding: 2rem; border-radius: 12px; text-decoration: none; border-left: 4px solid #ea580c; transition: transform 0.2s;">
                <div style="font-size: 2.5rem; margin-bottom: 0.5rem;">🎮</div>
                <h3 style="color: #9a3412; margin-bottom: 0.5rem;">Māori Games & Sports</h3>
                <p style="color: #c2410c; font-size: 0.95rem;">Ki-o-rahi, Poi, traditional activities</p>
            </a>
            
        </div>
    </section>
    
    <!-- Featured Units -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 2rem;">
            ⭐ Featured Complete Units
        </h2>
        
        <div id="featured-units" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem;">
            <!-- Will be populated by GraphRAG -->
            <div style="text-align: center; padding: 2rem; color: #666;">
                Loading featured units from GraphRAG...
            </div>
        </div>
    </section>
    
    <!-- Cultural Integration -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        <div style="background: linear-gradient(135deg, #dcfce7, #bbf7d0); border-radius: 16px; padding: 3rem 2rem;">
            <h2 style="font-size: 2.5rem; color: #166534; margin-bottom: 1.5rem; text-align: center;">
                🌿 Cultural Wellbeing Practices
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                
                <div style="background: white; border-radius: 12px; padding: 1.5rem;">
                    <h4 style="color: #166534; margin-bottom: 0.5rem;">🏃 Traditional Movement</h4>
                    <p style="color: #666; font-size: 0.95rem;">
                        Poi, haka, waiata-ā-ringa - movement as cultural expression and physical development
                    </p>
                </div>
                
                <div style="background: white; border-radius: 12px; padding: 1.5rem;">
                    <h4 style="color: #166534; margin-bottom: 0.5rem;">🌿 Rongoā Māori</h4>
                    <p style="color: #666; font-size: 0.95rem;">
                        Traditional healing practices, medicinal plants, and holistic health approaches
                    </p>
                </div>
                
                <div style="background: white; border-radius: 12px; padding: 1.5rem;">
                    <h4 style="color: #166534; margin-bottom: 0.5rem;">🏞️ Connection to Whenua</h4>
                    <p style="color: #666; font-size: 0.95rem;">
                        Outdoor education, environmental connection, and kaitiakitanga through activity
                    </p>
                </div>
                
                <div style="background: white; border-radius: 12px; padding: 1.5rem;">
                    <h4 style="color: #166534; margin-bottom: 0.5rem;">🤝 Whanaungatanga</h4>
                    <p style="color: #666; font-size: 0.95rem;">
                        Building relationships through sport, teamwork, and collective achievement
                    </p>
                </div>
                
            </div>
        </div>
    </section>
    
    <!-- Quick Links -->
    <section style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem 4rem;">
        <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 2rem;">
            🚀 Quick Access
        </h2>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <a href="/lessons/?subject=health-pe" style="background: white; padding: 1.5rem; border-radius: 8px; text-align: center; text-decoration: none; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s;">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">📖</div>
                <div style="color: #1a4d2e; font-weight: 600;">All Lessons</div>
            </a>
            
            <a href="/handouts/?subject=health-pe" style="background: white; padding: 1.5rem; border-radius: 8px; text-align: center; text-decoration: none; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s;">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">📄</div>
                <div style="color: #1a4d2e; font-weight: 600;">Handouts</div>
            </a>
            
            <a href="/games/?subject=health-pe" style="background: white; padding: 1.5rem; border-radius: 8px; text-align: center; text-decoration: none; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s;">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">🎮</div>
                <div style="color: #1a4d2e; font-weight: 600;">Activities</div>
            </a>
            
            <a href="/assessment/?subject=health-pe" style="background: white; padding: 1.5rem; border-radius: 8px; text-align: center; text-decoration: none; box-shadow: 0 2px 8px rgba(0,0,0,0.1); transition: transform 0.2s;">
                <div style="font-size: 2rem; margin-bottom: 0.5rem;">✅</div>
                <div style="color: #1a4d2e; font-weight: 600;">Assessments</div>
            </a>
        </div>
    </section>
    
    <!-- Footer -->
    <div id="footer-container"></div>
    <script>
        fetch('/components/footer.html').then(r=>r.text()).then(html=>{
            document.getElementById('footer-container').innerHTML=html;
        });
    </script>
    
    <!-- Supabase Integration -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY5ODgxMTksImV4cCI6MjA1MjU2NDExOX0.gN5RGe7kGmxj4-yI1xnDuCuKUPFDh4f-8CQqQdqrGq0';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        async function loadHealthPEData() {
            try {
                // Load Health & PE resources from GraphRAG
                const { data, error, count } = await supabase
                    .from('graphrag_resources')
                    .select('*', { count: 'exact' })
                    .or('subject.ilike.%health%,subject.ilike.%pe%,subject.ilike.%physical%')
                    .gte('quality_score', 70)
                    .order('quality_score', { ascending: false });
                    
                if (error) throw error;
                
                // Update stats
                const culturalCount = data?.filter(r => r.cultural_context).length || 0;
                const culturalPct = data && data.length > 0 ? Math.round((culturalCount / data.length) * 100) : 0;
                
                document.getElementById('resource-count').textContent = `${count || data?.length || 0} Resources`;
                document.getElementById('cultural-stat').textContent = `🌿 ${culturalPct}% Cultural Integration`;
                
                // Load featured units
                if (data && data.length > 0) {
                    const featured = data.filter(r => r.resource_type === 'Unit' || r.file_path?.includes('/units/')).slice(0, 3);
                    
                    if (featured.length > 0) {
                        document.getElementById('featured-units').innerHTML = featured.map(unit => `
                            <div style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-left: 4px solid #1a4d2e;">
                                <h3 style="color: #1a4d2e; margin-bottom: 1rem;">${unit.title}</h3>
                                <p style="color: #666; margin-bottom: 1rem;">${unit.content_preview || 'Complete unit with lessons and resources'}</p>
                                <div style="margin-bottom: 1rem;">
                                    ${unit.cultural_context ? '<span style="background: #dcfce7; color: #166534; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.85rem; margin-right: 0.5rem;">🌿 Cultural</span>' : ''}
                                    <span style="background: #f0f0f0; padding: 0.25rem 0.75rem; border-radius: 20px; font-size: 0.85rem;">Quality: ${unit.quality_score}</span>
                                </div>
                                <a href="${unit.file_path}" style="color: #1a4d2e; font-weight: 600;">Explore Unit →</a>
                            </div>
                        `).join('');
                    }
                }
                
            } catch (error) {
                console.error('Error loading Health & PE data:', error);
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadHealthPEData);
    </script>
    
    <!-- Analytics -->
    <script src="/js/posthog-analytics.js" defer></script>
    
</body>
</html>
