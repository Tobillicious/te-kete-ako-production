<!DOCTYPE html><html lang="en"><head>
    <title>Prerequisite Chain Explorer | GraphRAG Learning Pathways | Te Kete Ako</title>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Explore 849 prerequisite relationships with 85.5% average confidence. Discover complete learning pathways through our knowledge graph.">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ‚≠ê COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body class="pattern-koru-subtle">    <!-- Navigation -->    <div id="nav-container"></div>    <script>        fetch('/components/navigation-standard.html')            .then(r => r.text())            .then(html => document.getElementById('nav-container').innerHTML = html);    </script>    <!-- Hero -->    <section class="pathway-hero">        <div class="m-0 mx-auto" <div class="m-0 mx-auto" <span >üß† GRAPHRAG PATHWAYS</span>            </div>            <h1 style="font-size: 4rem; ">üîó Prerequisite Chain Explorer</h1>            <p style="font-size: 1.5rem; opacity: 0.95; ">                Discover complete learning journeys using 849 prerequisite relationships            </p>            <div style="gap: 2rem; justify-content: center; flex-wrap: wrap;">                <div class="p-4" style="background: rgba(255,255,255,0.2); padding: 1rem 2rem; "                    <div style="font-size: 2rem; ">849</div>                    <div style="opacity: 0.9;">Prerequisite Links</div>                </div>                <div class="p-4" style="background: rgba(255,255,255,0.2); padding: 1rem 2rem; "                    <div style="font-size: 2rem; ">85.5%</div>                    <div style="opacity: 0.9;">Avg Confidence</div>                </div>                <div class="p-4" style="background: rgba(255,255,255,0.2); padding: 1rem 2rem; "                    <div style="font-size: 2rem; ">18</div>                    <div style="opacity: 0.9;">Max Chain Length</div>                </div>            </div>        </div>    </section>    <main style="margin: 3rem auto; padding: 0 2rem;">        <!-- What Are Prerequisite Chains? -->        <section style="padding: 3rem; margin-bottom: 3rem;">            <h2 style="font-size: 2.5rem; color: #0284c7; margin-bottom: 1.5rem; ">                üéØ What Are Prerequisite Chains?            </h2>            <p class="m-0" style="color: #546e7a; line-margin: 0 auto 2rem; "                GraphRAG analyzes the knowledge graph to identify <strong>learning sequences</strong> - resources that build upon each other.                A prerequisite chain shows you the complete path from foundational concepts to advanced mastery.            </p>            <div class="m-0 mx-auto" <h3 >Example: Y7 Algebra Mastery Chain</h3>                <div style="font-family: monospace; line-">                    <div>1Ô∏è‚É£ Patterns & Sequences <span class="confidence-badge">100%</span></div>                    <div class="arrow-connector">‚Üì</div>                    <div>2Ô∏è‚É£ Mystery of X <span class="confidence-badge">100%</span></div>                    <div class="arrow-connector">‚Üì</div>                    <div>3Ô∏è‚É£ Building with Algebra <span class="confidence-badge">98%</span></div>                    <div class="arrow-connector">‚Üì</div>                    <div>4Ô∏è‚É£ Balancing Act <span class="confidence-badge">98%</span></div>                    <div class="arrow-connector">‚Üì</div>                    <div>5Ô∏è‚É£ Two-Step Shuffle <span class="confidence-badge">98%</span></div>                </div>                <p style="margin-top: 1.5rem; color: #666; font-size: 0.95rem; ">                    <strong>Total Journey:</strong> 5 lessons ‚Ä¢ <strong>Estimated Time:</strong> 5-6 weeks                </p>            </div>        </section>        <!-- Live Prerequisite Chains -->        <section>            <h2 style="font-size: 2.5rem; ">                üìö Explore Learning Pathways            </h2>            <div id="prerequisite-chains-container">                <div style="padding: 3rem; color: #64748b;">                    <div class="m-0" style="border: 4px solid #10b981; border-top: 4px solid transparent; border-radius: 50%; width: 60px; animation: spin 1s linear infinite; margin: 0 auto 1rem;"</div>                    <p>Loading prerequisite chains from GraphRAG...</p>                </div>            </div>        </section>        <!-- Stats -->        <section class="pathway-card">            <h3 style="color: #047857; font-size: 1.75rem; ">                üìä Prerequisite Network Statistics            </h3>            <div id="pathway-stats" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 2rem;">                <div >                    <div style="font-size: 2.5rem; color: #10b981; ">...</div>                    <div style="color: #065f46; ">Total Chains</div>                </div>                <div >                    <div style="font-size: 2.5rem; color: #10b981; ">...</div>                    <div style="color: #065f46; ">Longest Chain</div>                </div>                <div >                    <div style="font-size: 2.5rem; color: #10b981; ">...</div>                    <div style="color: #065f46; ">Avg Confidence</div>                </div>            </div>        </section>    </main>    <!-- Footer -->    <div id="footer-container"></div>    <script>        fetch('/components/footer.html').then(r=>r.text()).then(html=>{            document.getElementById('footer-container').innerHTML=html;        });    </script>    <style>    @keyframes spin {        0% { transform: rotate(0deg); }        100% { transform: rotate(360deg); }    }    </style>    <script>    (async function() {        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM';        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);        const container = document.getElementById('prerequisite-chains-container');        try {            console.log('üîó Loading prerequisite chains from GraphRAG...');            // Query for prerequisite relationships            const { data: prerequisites, error } = await supabase                .from('graphrag_relationships')                .select('source_path, target_path, confidence, metadata')                .eq('relationship_type', 'prerequisite')                .gte('confidence', 0.85)                .order('confidence', { ascending: false })                .limit(50);            if (error) throw error;            // Get resource details for the paths            const allPaths = [...new Set([                ...prerequisites.map(p => p.source_path),                ...prerequisites.map(p => p.target_path)            ])].filter(p => !p.includes('backup'));            const { data: resources } = await supabase                .from('graphrag_resources')                .select('file_path, title, subject, year_level')                .in('file_path', allPaths.slice(0, 100));            // Build pathway chains            const pathways = buildPathwayChains(prerequisites, resources || []);            // Render pathways            container.innerHTML = pathways.map((pathway, idx) => {                const avgConfidence = (pathway.steps.reduce((sum, s) => sum + s.confidence, 0) / pathway.steps.length * 100).toFixed(0);                return `                    <div class="pathway-card">                        <div style="justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">                            <h3 style="color: #047857; font-size: 1.5rem; ">                                Pathway ${idx + 1}: ${pathway.subject || 'Learning Journey'}                            </h3>                            <span class="p-2" style="background: #10b981; color: white; padding: 0.5rem 1.25rem; border-radius: 20px; "                                ${pathway.steps.length} Steps ‚Ä¢ ${avgConfidence}% Confidence                            </span>                        </div>                        ${pathway.steps.map((step, stepIdx) => `                            <div class="chain-step">                                <div style="justify-content: space-between; align-items: center;">                                    <div>                                        <span style="background: #10b981; color: white; padding: 0.35rem 0.85rem; border-radius: 50%; margin-right: 1rem;">                                            ${stepIdx + 1}                                        </span>                                        <a href="${step.path}" style="text-decoration: none;">                                            ${step.title}                                        </a>                                    </div>                                    <span style="background: ${step.confidence >= 0.95 ? '#10b981' : '#fbbf24'}; color: white; padding: 0.35rem 0.85rem; font-size: 0.85rem; ">                                        ${Math.round(step.confidence * 100)}%                                    </span>                                </div>                                ${step.metadata?.topic ? `                                    <p style="margin-top: 0.75rem; color: #666; margin-left: 3rem;">                                        üìò Topic: ${step.metadata.topic}                                    </p>                                ` : ''}                            </div>                            ${stepIdx < pathway.steps.length - 1 ? '<div class="arrow-connector">‚Üì prerequisite</div>' : ''}                        `).join('')}                        <div style="background: #e0f2fe; margin-top: 1.5rem; ">                            <strong style="color: #0c4a6e;">üí° Estimated Time:</strong>                            <span style="color: #0369a1;">${pathway.steps.length} weeks at 2-3 hours/week</span>                        </div>                    </div>                `;            }).join('');            // Update stats            const totalChains = pathways.length;            const longestChain = Math.max(...pathways.map(p => p.steps.length));            const avgConf = (prerequisites.reduce((sum, p) => sum + p.confidence, 0) / prerequisites.length * 100).toFixed(1);            document.getElementById('pathway-stats').innerHTML = `                <div >                    <div style="font-size: 2.5rem; color: #10b981; ">${totalChains}</div>                    <div style="color: #065f46; ">Learning Pathways</div>                </div>                <div >                    <div style="font-size: 2.5rem; color: #10b981; ">${longestChain}</div>                    <div style="color: #065f46; ">Longest Chain</div>                </div>                <div >                    <div style="font-size: 2.5rem; color: #10b981; ">${avgConf}%</div>                    <div style="color: #065f46; ">Avg Confidence</div>                </div>            `;            document.getElementById('orphan-count').textContent = `${totalChains} Complete Learning Pathways`;            console.log(`‚úÖ Loaded ${totalChains} prerequisite chains`);        } catch (error) {            // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
        message: '$2',
        details: $3,
        url: window.location.pathname
    });
        }
        // Show user-friendly message instead of error
        container.innerHTML = `                <div style="padding: 3rem; background: #fee2e2; ">                    <p style="color: #dc2626; ">‚ö†Ô∏è Unable to load prerequisite chains</p>                    <p style="color: #666; ">The GraphRAG system is being enhanced. Check back soon!</p>                </div>            `;        }        // Helper function to build pathway chains from relationships        function buildPathwayChains(prerequisites, resources) {            // Group by source to find chain starts            const chains = [];            const used = new Set();            // Simple approach: group by similar subjects/units            const bySubject = {};            prerequisites.forEach(prereq => {                const resource = resources.find(r => r.file_path === prereq.source_path);                if (resource) {                    const key = resource.subject || 'General';                    if (!bySubject[key]) bySubject[key] = [];                    bySubject[key].push({                        ...prereq,                        title: resource.title,                        subject: resource.subject,                        path: prereq.source_path                    });                }            });            // Create pathways from groups            Object.keys(bySubject).forEach(subject => {                const items = bySubject[subject].sort((a, b) => b.confidence - a.confidence).slice(0, 8);                if (items.length >= 2) {                    chains.push({                        subject,                        steps: items.map(item => ({                            title: item.title,                            path: item.path,                            confidence: item.confidence,                            metadata: item.metadata                        }))                    });                }            });            return chains.slice(0, 10); // Top 10 pathways        }    })();    </script><!-- üìä ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script></body></html>