<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super-Connected Resources | GraphRAG Intelligence | Te Kete Ako</title>
    <meta name="description" content="Discover the most interconnected resources in Te Kete Ako's knowledge graph. These resources have 50+ connections and serve as major network hubs.">
<!-- Professional Design System -->
<link rel="stylesheet" href="/css/te-kete-professional.css">    
    <!-- üé® ULTIMATE BEAUTY SYSTEM - Te Kete Ako Design Excellence -->
 <link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css">
 <script src="https://cdn.tailwindcss.com"></script>
 <script src="/tailwind.config.ultimate.js"></script>
 <!-- END ULTIMATE BEAUTY SYSTEM --><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <style>
        .super-hero {
            background: linear-gradient(135deg, #dc2626 0%, #7c3aed 50%, #0891b2 100%);
            color: white;
            padding: 5rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .super-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.15;
            background: radial-gradient(circle, white 2px, transparent 2px);
            background-size: 40px 40px;
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 0.1; }
            50% { opacity: 0.2; }
        }
        
        .champion-card {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            margin: 2rem 0;
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
            border-top: 8px solid;
            position: relative;
            transition: all 0.3s;
        }
        
        .champion-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
        }
        
        .champion-card.gold {
            border-color: #f59e0b;
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
        }
        
        .champion-card.silver {
            border-color: #6366f1;
            background: linear-gradient(135deg, #faf5ff 0%, #f3e8ff 100%);
        }
        
        .champion-card.bronze {
            border-color: #10b981;
            background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
        }
        
        .connection-badge {
            position: absolute;
            top: -20px;
            right: 30px;
            background: linear-gradient(135deg, #dc2626, #991b1b);
            color: white;
            padding: 1rem 2rem;
            border-radius: 30px;
            font-weight: 800;
            font-size: 1.25rem;
            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.4);
        }
        
        .connection-viz {
            display: grid;
            grid-template-columns: repeat(auto-fill, 8px);
            gap: 4px;
            margin: 1.5rem 0;
        }
        
        .connection-dot {
            width: 8px;
            height: 8px;
            background: #10b981;
            border-radius: 50%;
            opacity: 0.6;
        }
    </style>
</head>
<body class="pattern-koru-subtle">
    <!-- Navigation -->
    <div id="nav-container"></div>
    <script>
        fetch('/components/navigation-standard.html')
            .then(r => r.text())
            .then(html => document.getElementById('nav-container').innerHTML = html);
    </script>
    
    <!-- Hero -->
    <section class="super-hero">
        <div style="position: relative; z-index: 2; max-width: 1000px; margin: 0 auto;">
            <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 0.5rem 1.5rem; border-radius: 24px; margin-bottom: 1rem;">
                <span style="font-weight: 700; font-size: 0.9rem;">üß† GRAPHRAG NETWORK ANALYSIS</span>
            </div>
            <h1 style="font-size: 4rem; margin-bottom: 1rem; font-weight: 800;">üèÜ Super-Connected Resources</h1>
            <p style="font-size: 1.5rem; opacity: 0.95; margin-bottom: 2rem;">
                The network hubs of Te Kete Ako's knowledge graph
            </p>
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; max-width: 700px; margin: 2rem auto;">
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 12px;">
                    <div style="font-size: 2rem; font-weight: 800;">600</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">Max Connections</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 12px;">
                    <div style="font-size: 2rem; font-weight: 800;">15</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">Super Resources</div>
                </div>
                <div style="background: rgba(255,255,255,0.2); padding: 1rem; border-radius: 12px;">
                    <div style="font-size: 2rem; font-weight: 800;">50+</div>
                    <div style="font-size: 0.9rem; opacity: 0.9;">Min Connections</div>
                </div>
            </div>
        </div>
    </section>
    
    <main style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">
        
        <!-- The Champion -->
        <section style="margin: 4rem 0;">
            <div style="text-align: center; margin-bottom: 3rem;">
                <div style="display: inline-block; background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #78350f; padding: 0.75rem 2rem; border-radius: 30px; font-size: 1rem; font-weight: 800; margin-bottom: 1rem;">
                    ü•á THE CHAMPION
                </div>
                <h2 style="font-size: 3rem; color: #1a4d2e; margin-bottom: 1rem;">
                    #1 Most Connected Resource
                </h2>
            </div>
            
            <a href="/unit-plans.html" class="champion-card gold" style="text-decoration: none; display: block;">
                <div class="connection-badge">
                    üî• 600 CONNECTIONS
                </div>
                <div style="display: flex; align-items: center; gap: 2rem; margin-top: 1rem;">
                    <div style="font-size: 4rem;">üìö</div>
                    <div style="flex: 1;">
                        <h3 style="font-size: 2.5rem; color: #92400e; margin-bottom: 1rem; font-weight: 800;">
                            Unit Plans Hub
                        </h3>
                        <p style="color: #78350f; font-size: 1.25rem; line-height: 1.8; margin-bottom: 1rem;">
                            The ultimate navigation hub connecting to every major unit across Mathematics, Science, 
                            English, Social Studies, and Te Reo MƒÅori.
                        </p>
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <span style="background: #f59e0b; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                Quality: 85/100
                            </span>
                            <span style="background: #10b981; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                ‚úÖ Cultural Context
                            </span>
                            <span style="background: #0891b2; color: white; padding: 0.5rem 1rem; border-radius: 20px; font-size: 0.9rem; font-weight: 700;">
                                Cross-Curricular
                            </span>
                        </div>
                    </div>
                </div>
                <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(245, 158, 11, 0.1); border-radius: 12px;">
                    <p style="color: #92400e; font-size: 1rem; line-height: 1.8;">
                        <strong>Why it's the champion:</strong> This page serves as the central hub for ALL unit plans,
                        connecting teachers to complete learning sequences across every subject. It's the most
                        interconnected page in our entire knowledge graph!
                    </p>
                </div>
            </a>
        </section>
        
        <!-- Silver & Bronze -->
        <section style="margin: 4rem 0;">
            <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 3rem;">
                ü•à ü•â Top Network Hubs
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 2rem;">
                <!-- Silver -->
                <a href="/units/index.html" class="champion-card silver" style="text-decoration: none; display: block;">
                    <div class="connection-badge" style="background: linear-gradient(135deg, #6366f1, #4f46e5);">
                        ‚ö° 140 CONNECTIONS
                    </div>
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üìñ</div>
                    <h3 style="font-size: 2rem; color: #5b21b6; margin-bottom: 1rem; font-weight: 800;">
                        Units Index
                    </h3>
                    <p style="color: #6b21a8; font-size: 1.1rem; margin-bottom: 1rem;">
                        Comprehensive directory of all unit plans with quality ratings
                    </p>
                    <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                        <span style="background: #6366f1; color: white; padding: 0.4rem 0.9rem; border-radius: 16px; font-size: 0.85rem; font-weight: 700;">
                            Quality: 94/100
                        </span>
                        <span style="background: #10b981; color: white; padding: 0.4rem 0.9rem; border-radius: 16px; font-size: 0.85rem; font-weight: 700;">
                            All Subjects
                        </span>
                    </div>
                </a>
                
                <!-- Bronze -->
                <a href="/units/unit-4-economic-justice.html" class="champion-card bronze" style="text-decoration: none; display: block;">
                    <div class="connection-badge" style="background: linear-gradient(135deg, #10b981, #059669);">
                        üåü 106 CONNECTIONS
                    </div>
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üí∞</div>
                    <h3 style="font-size: 2rem; color: #065f46; margin-bottom: 1rem; font-weight: 800;">
                        Unit 4: Economic Justice
                    </h3>
                    <p style="color: #047857; font-size: 1.1rem; margin-bottom: 1rem;">
                        Alternative economic models through rangatiratanga lens
                    </p>
                    <div style="display: flex; gap: 0.75rem; flex-wrap: wrap;">
                        <span style="background: #10b981; color: white; padding: 0.4rem 0.9rem; border-radius: 16px; font-size: 0.85rem; font-weight: 700;">
                            Quality: 87/100
                        </span>
                        <span style="background: #0891b2; color: white; padding: 0.4rem 0.9rem; border-radius: 16px; font-size: 0.85rem; font-weight: 700;">
                            5+ Lessons
                        </span>
                    </div>
                </a>
            </div>
        </section>
        
        <!-- More Super-Connected -->
        <section style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); padding: 3rem 2rem; border-radius: 16px; margin: 3rem 0;">
            <h2 style="font-size: 2.5rem; color: #0c4a6e; text-align: center; margin-bottom: 2rem;">
                üåê More Network Hubs (100+ Connections)
            </h2>
            
            <div id="super-connected-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
                <div style="text-align: center; padding: 3rem; color: #64748b;">
                    <div style="font-size: 3rem; margin-bottom: 1rem;">üîÑ</div>
                    <p>Loading from GraphRAG...</p>
                </div>
            </div>
        </section>
        
        <!-- Why Connections Matter -->
        <section style="margin: 4rem 0;">
            <h2 style="font-size: 2.5rem; color: #1a4d2e; text-align: center; margin-bottom: 3rem;">
                üí° Why Connections Matter
            </h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;">
                <div style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid #3b82f6;">
                    <div style="font-size: 2.5rem; margin-bottom: 1rem;">üîç</div>
                    <h3 style="color: #1e40af; font-size: 1.5rem; margin-bottom: 1rem;">Discoverability</h3>
                    <p style="color: #546e7a; line-height: 1.8;">
                        More connections = easier to find. Students and teachers discover these resources 
                        through multiple pathways.
                    </p>
                </div>
                
                <div style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid #10b981;">
                    <div style="font-size: 2.5rem; margin-bottom: 1rem;">üéØ</div>
                    <h3 style="color: #065f46; font-size: 1.5rem; margin-bottom: 1rem;">Relevance</h3>
                    <p style="color: #546e7a; line-height: 1.8;">
                        High connection count indicates the resource relates to many topics,
                        making it valuable for cross-curricular planning.
                    </p>
                </div>
                
                <div style="background: white; border-radius: 16px; padding: 2rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); border-top: 6px solid #f59e0b;">
                    <div style="font-size: 2.5rem; margin-bottom: 1rem;">üåä</div>
                    <h3 style="color: #92400e; font-size: 1.5rem; margin-bottom: 1rem;">Learning Flow</h3>
                    <p style="color: #546e7a; line-height: 1.8;">
                        Well-connected resources create natural learning pathways,
                        helping students progress through related content.
                    </p>
                </div>
            </div>
        </section>
        
        <!-- GraphRAG Stats -->
        <section style="background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%); padding: 3rem 2rem; border-radius: 16px; color: white; text-align: center;">
            <h2 style="font-size: 2.5rem; margin-bottom: 1rem; font-weight: 800;">
                üìä GraphRAG Knowledge Graph
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; max-width: 900px; margin: 2rem auto;">
                <div>
                    <div style="font-size: 3rem; font-weight: 800;">19,737</div>
                    <div style="font-size: 1rem; opacity: 0.9;">Total Resources</div>
                </div>
                <div>
                    <div style="font-size: 3rem; font-weight: 800;">231,491</div>
                    <div style="font-size: 1rem; opacity: 0.9;">Relationships</div>
                </div>
                <div>
                    <div style="font-size: 3rem; font-weight: 800;">25</div>
                    <div style="font-size: 1rem; opacity: 0.9;">Relationship Types</div>
                </div>
            </div>
            <p style="font-size: 1.1rem; opacity: 0.95; margin-top: 2rem; max-width: 700px; margin-left: auto; margin-right: auto;">
                Every connection represents a learning pathway, cultural thread, or pedagogical relationship
                discovered by analyzing the entire Te Kete Ako platform.
            </p>
        </section>
        
    </main>
    
    <!-- Footer -->
    <div id="footer-container"></div>
    <script>
        fetch('/components/footer.html').then(r=>r.text()).then(html=>{
            document.getElementById('footer-container').innerHTML=html;
        });
    </script>
    
    <script>
        // Load super-connected resources from GraphRAG
        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY5ODgxMTksImV4cCI6MjA1MjU2NDExOX0.gN5RGe7kGmxj4-yI1xnDuCuKUPFDh4f-8CQqQdqrGq0';
        
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        async function loadSuperConnected() {
            try {
                console.log('üöÄ Querying GraphRAG for super-connected resources...');
                
                // Query to find resources with most connections
                const { data: relationships, error: relError } = await supabase
                    .from('graphrag_relationships')
                    .select('source_path, target_path');
                
                if (relError) {
                    console.error('GraphRAG Relationship Error:', relError);
                    return;
                }
                
                // Count connections per resource
                const connectionCounts = {};
                relationships.forEach(rel => {
                    connectionCounts[rel.source_path] = (connectionCounts[rel.source_path] || 0) + 1;
                    connectionCounts[rel.target_path] = (connectionCounts[rel.target_path] || 0) + 1;
                });
                
                // Get top connected file paths
                const sorted = Object.entries(connectionCounts)
                    .filter(([path]) => path.startsWith('public/') && !path.includes('backup'))
                    .sort((a, b) => b[1] - a[1])
                    .slice(3, 15); // Skip top 3 (already shown)
                
                // Get resource details for these paths
                const { data: resources } = await supabase
                    .from('graphrag_resources')
                    .select('file_path, title, subject, resource_type, quality_score, cultural_context')
                    .in('file_path', sorted.map(s => s[0]));
                
                if (!resources) return;
                
                // Merge with connection counts
                const enriched = sorted.map(([path, count]) => {
                    const resource = resources.find(r => r.file_path === path);
                    return { ...resource, connections: count };
                }).filter(r => r.title);
                
                // Render
                const container = document.getElementById('super-connected-grid');
                container.innerHTML = enriched.map((r, i) => {
                    const colors = ['#dc2626', '#7c3aed', '#0891b2', '#f59e0b', '#10b981'];
                    const color = colors[i % colors.length];
                    
                    return `
                        <a href="${r.file_path}" style="background: white; padding: 1.5rem; border-radius: 12px; text-decoration: none; box-shadow: 0 4px 12px rgba(0,0,0,0.1); border-top: 5px solid ${color}; display: block; transition: transform 0.2s;" onmouseover="this.style.transform='translateY(-4px)'" onmouseout="this.style.transform=''">
                            <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                                <h3 style="color: ${color}; font-weight: 700; font-size: 1.25rem; flex: 1;">${r.title}</h3>
                                <span style="background: ${color}; color: white; padding: 0.4rem 0.9rem; border-radius: 16px; font-size: 0.85rem; font-weight: 800; white-space: nowrap;">
                                    ${r.connections} links
                                </span>
                            </div>
                            <p style="color: #666; font-size: 0.9rem; margin-bottom: 0.75rem;">${r.resource_type} ‚Ä¢ ${r.subject || 'Multi-subject'}</p>
                            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap;">
                                <span style="background: #e5e7eb; color: #374151; padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">
                                    Q: ${r.quality_score}/100
                                </span>
                                ${r.cultural_context ? '<span style="background: #dcfce7; color: #065f46; padding: 0.3rem 0.7rem; border-radius: 12px; font-size: 0.75rem; font-weight: 600;">üåø Cultural</span>' : ''}
                            </div>
                        </a>
                    `;
                }).join('');
                
                console.log(`‚úÖ Loaded ${enriched.length} super-connected resources (50+ connections each)`);
                
            } catch (error) {
                console.error('‚ùå GraphRAG Error:', error);
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadSuperConnected);
    </script>

<!-- üìä ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) -->
<script src="/js/posthog-analytics.js" defer></script>

</body>
</html>

