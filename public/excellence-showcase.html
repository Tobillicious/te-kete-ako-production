<!DOCTYPE html>
<html lang="en">
<head>
    <title>Excellence Showcase - 221 Cultural Gems | Te Kete Ako</title>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Our finest 221 resources - Quality 90+ with authentic cultural integration">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ‚≠ê COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css">
<body class="pattern-koru-subtle">
    
    <!-- Navigation -->
    <div id="nav-container"></div>
    <script>
        fetch('/components/navigation-standard.html')
            .then(r => r.text())
            .then(html => document.getElementById('nav-container').innerHTML = html);
    </script>
    
    <!-- Hero Section -->
    <section style="color: white; padding: 4rem 2rem; ">
        <div class="m-0 mx-auto" <div >üíé</div>
            <h1 style="font-size: 3.5rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.2);">
                Excellence Showcase
            </h1>
            <p style="font-size: 1.5rem; opacity: 0.95; ">
                221 Cultural Gems - Our Finest Resources
            </p>
            <p style="opacity: 0.9;">
                Quality Score 90+ with Authentic Cultural Integration
            </p>
            <div style="margin-top: 2rem; justify-content: center; gap: 2rem; flex-wrap: wrap;">
                <div class="p-4" style="background: rgba(255,255,255,0.2); padding: 1rem 2rem; "
                    <div style="font-size: 2rem; ">221</div>
                    <div>Excellence Resources</div>
                </div>
                <div class="p-4" style="background: rgba(255,255,255,0.2); padding: 1rem 2rem; "
                    <div style="font-size: 2rem; ">100%</div>
                    <div>Cultural Integration</div>
                </div>
                <div class="p-4" style="background: rgba(255,255,255,0.2); padding: 1rem 2rem; "
                    <div style="font-size: 2rem; " id="te-reo-count">--</div>
                    <div>With Te Reo MƒÅori</div>
                </div>
            </div>
        </div>
    </section>
    
    <div class="m-0 mx-auto" <!-- Filter Bar -->
        <div class="filter-bar">
            <h3 class="m-0" style="margin: 0 0 1rem 0; "üîç Filter Excellence Resources</h3>
            
            <div >
                <strong>Subject:</strong><br>
                <button class="filter-btn active" data-filter="subject" data-value="all">All Subjects</button>
                <button class="filter-btn" data-filter="subject" data-value="Mathematics">Mathematics</button>
                <button class="filter-btn" data-filter="subject" data-value="Science">Science</button>
                <button class="filter-btn" data-filter="subject" data-value="English">English</button>
                <button class="filter-btn" data-filter="subject" data-value="Social Studies">Social Studies</button>
                <button class="filter-btn" data-filter="subject" data-value="Digital Technologies">Digital Technologies</button>
                <button class="filter-btn" data-filter="subject" data-value="Te Ao MƒÅori">Te Ao MƒÅori</button>
            </div>
            
            <div >
                <strong>Features:</strong><br>
                <button class="filter-btn" data-filter="feature" data-value="te-reo">üó£Ô∏è Te Reo MƒÅori</button>
                <button class="filter-btn" data-filter="feature" data-value="whakatauki">üìú Whakataukƒ´</button>
                <button class="filter-btn" data-filter="feature" data-value="quality-100">‚≠ê Perfect Score (100)</button>
            </div>
            
            <div>
                <span id="results-count" style="color: #666; ">Loading...</span>
            </div>
        </div>
        
        <!-- Excellence Grid -->
        <div class="excellence-grid" id="excellence-grid">
            <div style="grid-column: 1/-1; padding: 3rem; color: #666;">
                <div style="font-size: 3rem; ">‚ú®</div>
                <p >Loading cultural excellence from GraphRAG...</p>
            </div>
        </div>
        
    </div>
    
    <!-- Footer -->
    <div id="footer-container"></div>
    <script>
        fetch('/components/footer.html').then(r=>r.text()).then(html=>{
            document.getElementById('footer-container').innerHTML=html;
        });
    </script>
    
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    
    <script>
        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
        
        let allGems = [];
        let filteredGems = [];
        let currentFilters = {
            subject: 'all',
            feature: null
        };
        
        async function loadExcellenceResources() {
            try {
                // Load all quality 90+ with cultural context
                const { data, error } = await supabase
                    .from('graphrag_resources')
                    .select('*')
                    .gte('quality_score', 90)
                    .eq('cultural_context', true)
                    .order('quality_score', { ascending: false });
                    
                if (error) throw error;
                
                allGems = data || [];
                filteredGems = allGems;
                
                // Update stats
                const teReoCount = allGems.filter(r => r.has_te_reo).length;
                document.getElementById('te-reo-count').textContent = teReoCount;
                
                displayGems(filteredGems);
                updateResultsCount();
                
            } catch (error) {
                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
        message: '$2',
        details: $3,
        url: window.location.pathname
    });
        }
        // Show user-friendly message instead of error
        document.getElementById('excellence-grid').innerHTML = `
                    <div style="grid-column: 1/-1; padding: 3rem; color: #dc2626;">
                        <p>Error loading resources. Please refresh the page.</p>
                    </div>
                `;
            }
        }
        
        function displayGems(gems) {
            const container = document.getElementById('excellence-grid');
            
            if (gems.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1/-1; padding: 3rem; color: #666;">
                        <p>No resources match your filters. Try adjusting your selection.</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = gems.map(gem => {
                const teReo = gem.has_te_reo ? 'üó£Ô∏è Te Reo' : '';
                const whakatauki = gem.has_whakataukƒ´ ? 'üìú Whakataukƒ´' : '';
                const features = [teReo, whakatauki].filter(f => f).join(' ');
                
                return `
                    <div class="gem-card">
                        <div >
                            <span class="quality-badge">‚≠ê ${gem.quality_score}</span>
                            <span class="cultural-badge">üåø Cultural</span>
                        </div>
                        
                        <h3 style="margin-bottom: 0.75rem; line-">
                            ${gem.title || 'Untitled Resource'}
                        </h3>
                        
                        <div >
                            <span style="background: #f0f0f0; padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.85rem; color: #666; margin-right: 0.5rem;">
                                ${gem.subject || 'General'}
                            </span>
                            <span style="background: #e0f2fe; padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.85rem; color: #0369a1;">
                                ${gem.year_level || 'All Years'}
                            </span>
                        </div>
                        
                        ${features ? `
                            <div style="color: #059669;">
                                ${features}
                            </div>
                        ` : ''}
                        
                        <p style="color: #666; font-size: 0.95rem; line-">
                            ${gem.content_preview ? gem.content_preview.substring(0, 120) + '...' : 'High-quality culturally-integrated resource'}
                        </p>
                        
                        <div style="justify-content: space-between; align-items: center;">
                            <span style="color: #999; font-size: 0.85rem;">
                                ${gem.resource_type || 'Resource'}
                            </span>
                            <a href="${gem.file_path}" style="text-decoration: none;">
                                View ‚Üí
                            </a>
                        </div>
                    </div>
                `;
            }).join('');
        }
        
        function updateResultsCount() {
            document.getElementById('results-count').textContent = 
                `Showing ${filteredGems.length} of 221 excellence resources`;
        }
        
        function applyFilters() {
            filteredGems = allGems;
            
            // Apply subject filter
            if (currentFilters.subject !== 'all') {
                filteredGems = filteredGems.filter(g => g.subject === currentFilters.subject);
            }
            
            // Apply feature filters
            if (currentFilters.feature === 'te-reo') {
                filteredGems = filteredGems.filter(g => g.has_te_reo);
            } else if (currentFilters.feature === 'whakatauki') {
                filteredGems = filteredGems.filter(g => g.has_whakataukƒ´);
            } else if (currentFilters.feature === 'quality-100') {
                filteredGems = filteredGems.filter(g => g.quality_score === 100);
            }
            
            displayGems(filteredGems);
            updateResultsCount();
        }
        
        // Setup filter buttons
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const filterType = this.dataset.filter;
                    const filterValue = this.dataset.value;
                    
                    // Update active state for buttons in same group
                    document.querySelectorAll(`[data-filter="${filterType}"]`).forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Update filters
                    if (filterType === 'subject') {
                        currentFilters.subject = filterValue;
                    } else if (filterType === 'feature') {
                        // Toggle feature filter
                        if (currentFilters.feature === filterValue) {
                            currentFilters.feature = null;
                            this.classList.remove('active');
                        } else {
                            currentFilters.feature = filterValue;
                        }
                    }
                    
                    applyFilters();
                });
            });
            
            loadExcellenceResources();
        });
    </script>
    
    <!-- Analytics -->
    <script src="/js/posthog-analytics.js" defer></script>
    
</body>
</html>
