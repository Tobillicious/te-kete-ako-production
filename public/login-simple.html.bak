<!DOCTYPE html>
<html lang="en">
<head>
 <!-- Performance: Optimize rendering -->
 <meta name="format-detection" content="telephone=no">
 <meta name="theme-color" content="#1b4332">
 <meta name="color-scheme" content="light">
 <!-- Performance: DNS prefetch for external domains -->
 <link rel="dns-prefetch" href="//fonts.googleapis.com">
 <link rel="dns-prefetch" href="//fonts.gstatic.com">
 <link rel="dns-prefetch" href="//cdn.jsdelivr.net">
 <!-- Performance: Preload critical resources -->
 <link rel="preload" href="/js/te-kete-professional.js" as="script">
 <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Lato:wght@300;400;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&display=swap&display=swap" as="style" crossorigin>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <meta name="description" content="Te Kete Ako - Award-winning educational platform integrating mÄtauranga MÄori with contemporary learning">
 <meta name="keywords" content="education, mÄori, indigenous, ai, learning, new zealand">
 <meta name="author" content="Te Kete Ako">
<!-- Professional Design System -->
<link rel="stylesheet" href="/css/te-kete-professional.css"> <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Simple Login | Te Kete Ako</title>




 
 
 
 
 <link rel="stylesheet" href="/components/badge-system.html">
 
 
 
 <script src="/js/breadcrumbs.js" defer></script>
 
 

 <!-- ğŸ¨ ULTIMATE BEAUTY SYSTEM - Te Kete Ako Design Excellence -->
 <link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css">
 <script src="https://cdn.tailwindcss.com"></script>
 <script src="/tailwind.config.ultimate.js"></script>
 <!-- END ULTIMATE BEAUTY SYSTEM -->
</head>
<body class="pattern-koru-subtle">
 <!-- Professional Mega Menu Navigation -->
 <div id="beautiful-nav-container"></div>
 <script>
 fetch('/components/navigation-standard.html')
 .then(r => r.text())
 .then(html => {
 const div = document.createElement('div');
 div.innerHTML = html;
 document.body.insertBefore(div.firstElementChild, document.body.firstChild);
 });
 </script>

 <header class="site-header no-print">
 <div class="nav-container">
 <a href="/index.html" class="nav-brand">Te Kete Ako</a>
 <nav class="main-nav">
 <ul>
 <li><a href="/unit-plans.html" class="nav-link"><span class="nav-icon">ğŸ“š</span><span class="nav-text-en">Unit Plans</span><span class="nav-text-mi" lang="mi">NgÄ Waehere</span></a></li>
 <li><a href="/lessons.html" class="nav-link"><span class="nav-icon">ğŸ“</span><span class="nav-text-en">Lessons</span><span class="nav-text-mi" lang="mi">NgÄ Akoranga</span></a></li>
 <li><a href="/handouts.html" class="nav-link"><span class="nav-icon">ğŸ“„</span><span class="nav-text-en">Handouts</span><span class="nav-text-mi" lang="mi">NgÄ Rauemi</span></a></li>
 <li><a href="/teachers/index.html" class="nav-link"><span class="nav-icon">ğŸ§‘â€ğŸ«</span><span class="nav-text-en">Teachers</span><span class="nav-text-mi" lang="mi">NgÄ Kaiako</span></a></li>
 <li class="auth-nav"><a href="/login.html" class="nav-link login-btn"><span class="nav-icon">ğŸ‘¤</span>Login</a></li>
 </ul>
 </nav>
 <nav class="breadcrumbs no-print" aria-label="Breadcrumb"><ol id="breadcrumbs" class="breadcrumbs-list"></ol></nav>
 </div>
 </header>
 <div id="search-container"></div>



 <div class="auth-container">
 <h1 class="text-center" class="wiley-hero-title">ğŸ§º Te Kete Ako Login</h1>
 
 <div id="status" class="status">ğŸ”„ Initializing authentication...</div>
 
 <div id="error-message" class="message error"></div>
 <div id="success-message" class="message success"></div>
 
 <form id="login-form" style="display: none;">
 <div class="form-group">
 <label for="email">Email:</label>
 <input type="email" id="email" required placeholder="teacher@kete.nz" value="teacher@kete.nz">
 </div>
 
 <div class="form-group">
 <label for="password">Password:</label>
 <input type="password" id="password" required placeholder="Enter your password">
 </div>
 
 <button type="submit" class="auth-button" id="login-btn">Sign In</button>
 </form>
 </div>

 <!-- Load Supabase -->
 <script src="/js/supabase.js" defer></script>

 <script>
 let supabaseClient = null;
 
 function updateStatus(message, type = 'loading') {
 const statusEl = document.getElementById('status');
 const form = document.getElementById('login-form');
 
 if (type === 'ready') {
 statusEl.innerHTML = 'âœ… ' + message;
 statusEl.style.background = '#d4edda';
 statusEl.style.color = '#155724';
 form.style.display = 'block';
 } else if (type === 'error') {
 statusEl.innerHTML = 'âŒ ' + message;
 statusEl.style.background = '#f8d7da';
 statusEl.style.color = '#721c24';
 } else {
 statusEl.innerHTML = 'ğŸ”„ ' + message;
 }
 }
 
 function showError(message) {
 document.getElementById('error-message').textContent = message;
 document.getElementById('error-message').style.display = 'block';
 }
 
 function showSuccess(message) {
 document.getElementById('success-message').textContent = message;
 document.getElementById('success-message').style.display = 'block';
 }
 
 async function initializeAuth() {
 try {
 updateStatus('Checking Supabase library...');
 
 // Wait for Supabase to load
 let attempts = 0;
 while (!window.supabase && attempts < 100) {
 await new Promise(resolve => setTimeout(resolve, 100));
 attempts++;
 }
 
 if (!window.supabase) {
 throw new Error('Supabase library not available');
 }
 
 updateStatus('Supabase loaded! Creating client...');
 
 // Create Supabase client directly
 supabaseClient = window.supabase.createClient(
 'https://nlgldaqtubrlcqddppbq.supabase.co',
 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM',
 {
 auth: {
 autoRefreshToken: true,
 persistSession: true
 }
 }
 );
 
 updateStatus('Testing connection...');
 
 // Test the connection
 const { data, error } = await supabaseClient.auth.getSession();
 
 updateStatus('Authentication system ready!', 'ready');
 
 } catch (error) {
 
 updateStatus(`Authentication failed: ${error.message}`, 'error');
 }
 }
 
 // Form submission
 document.addEventListener('DOMContentLoaded', () => {
 // Start initialization
 initializeAuth();
 
 // Handle form submission
 document.getElementById('login-form').addEventListener('submit', async (e) => {
 e.preventDefault();
 
 const email = document.getElementById('email').value;
 const password = document.getElementById('password').value;
 const submitBtn = document.getElementById('login-btn');
 
 // Clear messages
 document.getElementById('error-message').style.display = 'none';
 document.getElementById('success-message').style.display = 'none';
 
 // Loading state
 submitBtn.disabled = true;
 submitBtn.textContent = 'Signing In...';
 
 try {
 if (!supabaseClient) {
 throw new Error('Authentication system not ready');
 }
 
 const { data, error } = await supabaseClient.auth.signInWithPassword({
 email,
 password
 });
 
 if (error) throw error;
 
 showSuccess('Login successful! Redirecting...');
 
 setTimeout(() => {
 window.location.href = 'my-kete.html';
 }, 1500);
 
 } catch (error) {
 
 if (error.message.includes('Invalid login credentials')) {
 showError('Invalid email or password. Please check your credentials.');
 } else {
 showError(error.message);
 }
 } finally {
 submitBtn.disabled = false;
 submitBtn.textContent = 'Sign In';
 }
 });
 });
 </script>

 <script>
 // Register service worker for performance
 if ('serviceWorker' in navigator) {
 window.addEventListener('load', () => {
 navigator.serviceWorker.register('/sw.js')
 .then(registration => )
 .catch(error => );
 });
 }
 </script>
 
<!-- ğŸ¨ ULTIMATE BEAUTY SYSTEM: Complete UX -->

<!-- Footer -->
<div id="footer-container"></div>
<script>
  fetch('/components/footer.html').then(r=>r.text()).then(html=>{
    document.getElementById('footer-container').innerHTML=html;
  });
</script>

<!-- Mobile Navigation -->
<div id="mobile-nav-bottom"></div>
<script>
  fetch('/components/mobile-bottom-nav.html').then(r=>r.text()).then(html=>{
    document.getElementById('mobile-nav-bottom').innerHTML=html;
  });
</script>

<!-- Floating Action Button (Help) -->
<div id="fab-quick-actions"></div>
<script>
  fetch('/components/quick-actions-fab.html').then(r=>r.text()).then(html=>{
    document.getElementById('fab-quick-actions').innerHTML=html;
  });
</script>

<!-- ğŸ¨ ULTIMATE BEAUTY: Framer Cultural Gestures -->
<script src="/js/framer-cultural-gestures-ultimate.js" defer></script>


<!-- ğŸ“Š ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) -->
<script src="/js/posthog-analytics.js" defer></script>

</body>
</html>