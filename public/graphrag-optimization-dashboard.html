<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>GraphRAG Optimization Dashboard - Te Kete Ako</title>    <!-- üé® ULTIMATE BEAUTY SYSTEM - Te Kete Ako Design Excellence -->     <link rel="stylesheet" href="/css/te-kete-professional.css">
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/print.css" media="print"> <link rel="stylesheet" href="/css/tailwind.css">  <!-- END ULTIMATE BEAUTY SYSTEM -->    <link rel="stylesheet" href="/css/tailwind.css">    <style>        .dashboard-card {            background: white;            border-radius: 20px;            padding: 2rem;            margin: 1rem 0;            box-shadow: 0 8px 24px rgba(0,0,0,0.1);            border-left: 6px solid #059669;        }        .metric-card {            background: linear-gradient(135deg, #059669 0%, #0284c7 100%);            color: white;            padding: 2rem;            border-radius: 16px;            text-align: center;            margin: 0.5rem;        }        .metric-value {            font-size: 3.5rem;            font-weight: 700;            display: block;        }        .metric-label {            font-size: 1rem;            opacity: 0.9;            margin-top: 0.5rem;        }        .health-indicator {            display: inline-block;            padding: 0.5rem 1rem;            border-radius: 20px;            font-weight: 600;            margin: 0.25rem;        }        .health-critical { background: #fee2e2; color: #991b1b; }        .health-warning { background: #fef3c7; color: #92400e; }        .health-good { background: #d1fae5; color: #065f46; }        .health-excellent { background: #dbeafe; color: #1e40af; }        .action-btn {            background: linear-gradient(135deg, #059669 0%, #0284c7 100%);            color: white;            padding: 1rem 2rem;            border-radius: 12px;            border: none;            cursor: pointer;            font-weight: 600;            font-size: 1.1rem;            transition: all 0.3s ease;        }        .action-btn:hover:not(:disabled) {            transform: translateY(-2px);            box-shadow: 0 8px 24px rgba(5,150,105,0.4);        }        .action-btn:disabled {            opacity: 0.6;            cursor: not-allowed;        }        .log-entry {            background: #f8fafc;            padding: 1rem;            border-left: 4px solid #059669;            margin: 0.5rem 0;            border-radius: 8px;        }        .strategy-result {            background: white;            border: 2px solid #e5e7eb;            border-radius: 12px;            padding: 1.5rem;            margin: 1rem 0;        }        .progress-bar {            height: 8px;            background: #e5e7eb;            border-radius: 4px;            overflow: hidden;            margin: 1rem 0;        }        .progress-fill {            height: 100%;            background: linear-gradient(90deg, #059669 0%, #0284c7 100%);            transition: width 0.5s ease;        }        pre {            background: #1e293b;            color: #e2e8f0;            padding: 1rem;            border-radius: 8px;            overflow-x: auto;            font-size: 0.9rem;        }    </style><!-- Professional Design System --></head><body class="bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 min-h-screen pattern-koru-subtle"> <!-- üé® ULTIMATE BEAUTY: Navigation --> <div id="nav-container"></div> <script>   fetch('/components/navigation-standard.html')     .then(r => r.text())     .then(html => document.getElementById('nav-container').innerHTML = html); </script>    <div class="container mx-auto max-w-7xl p-6">        <!-- Header -->        <div class="text-center mb-8">            <h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent">                üîß GraphRAG Optimization Dashboard            </h1>            <p class="text-xl text-gray-700">Intelligent graph evolution ‚Ä¢ 231,257 relationships ‚Ä¢ Self-healing network</p>        </div>        <!-- Current Graph Health -->        <div class="dashboard-card">            <h2 class="text-3xl font-bold mb-4">üìä Current Graph Health</h2>            <div class="grid grid-cols-1 md:grid-cols-4 gap-4">                <div class="metric-card">                    <span class="metric-value" id="totalRelationships">231,257</span>                    <span class="metric-label">Total Relationships</span>                </div>                <div class="metric-card">                    <span class="metric-value" id="bidirectionalPercent">0.96%</span>                    <span class="metric-label">Bidirectional</span>                </div>                <div class="metric-card">                    <span class="metric-value" id="avgConfidence">0.83</span>                    <span class="metric-label">Avg Confidence</span>                </div>                <div class="metric-card">                    <span class="metric-value" id="orphanedExcellence">?</span>                    <span class="metric-label">Orphaned Q95+</span>                </div>            </div>        </div>        <!-- Problem Areas -->        <div class="dashboard-card">            <h2 class="text-3xl font-bold mb-4">üö® Identified Problems</h2>            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">                <div>                    <h3 class="text-xl font-bold mb-2">üî¥ Over-Connected (Noise)</h3>                    <div class="health-indicator health-critical">Science: 176 avg connections</div>                    <div class="health-indicator health-critical">English: 91.5 avg connections</div>                    <div class="health-indicator health-warning">Mathematics: 49 avg connections</div>                    <p class="text-sm text-gray-600 mt-2">Too many weak connections diluting quality</p>                </div>                <div>                    <h3 class="text-xl font-bold mb-2">‚ö™ Isolated (Silos)</h3>                    <div class="health-indicator health-critical">Technology: 0 connections</div>                    <div class="health-indicator health-critical">Arts: 2 connections</div>                    <div class="health-indicator health-critical">Health/PE: 2 connections</div>                    <div class="health-indicator health-warning">Social Studies: 3 connections</div>                    <p class="text-sm text-gray-600 mt-2">Subjects cut off from main graph</p>                </div>            </div>            <div class="mt-4 p-4 bg-red-50 border-l-4 border-red-600 rounded">                <strong class="text-red-800">Critical Issue:</strong> 99% of relationships are one-way! Users hit dead-ends.            </div>        </div>        <!-- Optimization Controls -->        <div class="dashboard-card">            <h2 class="text-3xl font-bold mb-4">üöÄ Run Optimization</h2>            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">                <button onclick="runFullOptimization()" class="action-btn" id="runBtn">                    üîß Run Full Optimization                </button>                <button onclick="runSingleStrategy('pruning')" class="action-btn">                    üî™ Prune Noise Only                </button>                <button onclick="runSingleStrategy('bridging')" class="action-btn">                    üåâ Build Bridges Only                </button>                <button onclick="runSingleStrategy('reciprocity')" class="action-btn">                    üîÑ Create Reciprocity Only                </button>            </div>            <div id="optimizationProgress" class="hidden">                <h3 class="font-bold mb-2">Optimization in progress...</h3>                <div class="progress-bar">                    <div class="progress-fill" id="progressBar" style="width: 0%"></div>                </div>                <p id="progressText" class="text-sm text-gray-600"></p>            </div>        </div>        <!-- Optimization Results -->        <div id="resultsContainer" class="dashboard-card hidden">            <h2 class="text-3xl font-bold mb-4">‚úÖ Optimization Results</h2>            <div id="resultsContent"></div>        </div>        <!-- Strategy Details -->        <div class="dashboard-card">            <h2 class="text-3xl font-bold mb-4">üìã Optimization Strategies</h2>            <div class="strategy-result">                <h3 class="text-xl font-bold mb-2">1Ô∏è‚É£ Prune Noise</h3>                <p class="text-gray-700 mb-2">Remove weak connections (<0.65 confidence) from over-connected subjects</p>                <ul class="list-disc list-inside text-sm text-gray-600">                    <li>Targets: Science, English, Mathematics</li>                    <li>Removes connections dragging down avg quality</li>                    <li>Estimated impact: -5,000 to -10,000 relationships</li>                    <li>Result: Cleaner, higher-quality graph</li>                </ul>            </div>            <div class="strategy-result">                <h3 class="text-xl font-bold mb-2">2Ô∏è‚É£ Build Bridges</h3>                <p class="text-gray-700 mb-2">Create cross-curricular connections to isolated subjects</p>                <ul class="list-disc list-inside text-sm text-gray-600">                    <li>Targets: Technology, Arts, Health/PE, Social Studies</li>                    <li>Uses content overlap + quality matching</li>                    <li>Estimated impact: +500 to +1,000 high-quality bridges</li>                    <li>Result: Subjects integrated into main graph</li>                </ul>            </div>            <div class="strategy-result">                <h3 class="text-xl font-bold mb-2">3Ô∏è‚É£ Create Reciprocity</h3>                <p class="text-gray-700 mb-2">Add reverse relationships for bidirectional discovery</p>                <ul class="list-disc list-inside text-sm text-gray-600">                    <li>Targets: High-confidence one-way relationships (0.85+)</li>                    <li>Fixes 99% one-way problem</li>                    <li>Estimated impact: +20,000 to +50,000 reverse relationships</li>                    <li>Result: Users can navigate back, no dead-ends</li>                </ul>            </div>            <div class="strategy-result">                <h3 class="text-xl font-bold mb-2">4Ô∏è‚É£ Connect Excellence</h3>                <p class="text-gray-700 mb-2">Link orphaned high-quality resources (Q95+)</p>                <ul class="list-disc list-inside text-sm text-gray-600">                    <li>Targets: Q95+ resources with <5 connections</li>                    <li>Creates excellence clusters</li>                    <li>Estimated impact: +200 to +500 premium connections</li>                    <li>Result: Best content becomes discoverable</li>                </ul>            </div>            <div class="strategy-result">                <h3 class="text-xl font-bold mb-2">5Ô∏è‚É£ Balance Subjects</h3>                <p class="text-gray-700 mb-2">Prevent over-connection, boost isolation</p>                <ul class="list-disc list-inside text-sm text-gray-600">                    <li>Sets max connections: 30 per resource</li>                    <li>Sets min connections: 10 per resource</li>                    <li>Estimated impact: Better distribution across subjects</li>                    <li>Result: Balanced, healthy graph</li>                </ul>            </div>        </div>        <!-- Optimization History -->        <div class="dashboard-card">            <h2 class="text-3xl font-bold mb-4">üìú Optimization History</h2>            <div id="historyLog">                <p class="text-gray-600">No optimizations run yet. Click "Run Full Optimization" above!</p>            </div>        </div>    </div>    <!-- Load Dependencies -->    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>    <script>        window.ENV = {            SUPABASE_URL: 'https://nlgldaqtubrlcqddppbq.supabase.co',            SUPABASE_ANON_KEY: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mjc5OTY5OTQsImV4cCI6MjA0MzU3Mjk5NH0.wScWM7v-VltrUqKDFm0BSRFH9ZjPy4oEKU5Y_gVDcRA'        };        window.supabase = supabase.createClient(window.ENV.SUPABASE_URL, window.ENV.SUPABASE_ANON_KEY);    </script>    <!-- Load Optimizer -->    <script src="/js/graphrag-optimizer.js"></script>    <script>        let optimizationRunning = false;        async function runFullOptimization() {            if (optimizationRunning) return;            optimizationRunning = true;            const runBtn = document.getElementById('runBtn');            runBtn.disabled = true;            runBtn.textContent = '‚è≥ Optimizing...';            const progressDiv = document.getElementById('optimizationProgress');            progressDiv.classList.remove('hidden');            try {                // Simulate progress                updateProgress(0, 'Initializing optimizer...');                await sleep(500);                updateProgress(20, 'Strategy 1: Pruning noise connections...');                await sleep(1000);                updateProgress(40, 'Strategy 2: Building subject bridges...');                await sleep(1000);                updateProgress(60, 'Strategy 3: Creating reciprocal relationships...');                await sleep(1000);                updateProgress(80, 'Strategy 4: Connecting orphaned excellence...');                await sleep(1000);                updateProgress(95, 'Strategy 5: Balancing subject connections...');                await sleep(500);                // Run actual optimization                const results = await window.GraphRAGOptimizer.optimizeGraph();                updateProgress(100, 'Optimization complete!');                // Display results                displayResults(results);                // Add to history                addToHistory(results);            } catch (error) {                alert('Error during optimization: ' + error.message);            } finally {                optimizationRunning = false;                runBtn.disabled = false;                runBtn.textContent = 'üîß Run Full Optimization';                setTimeout(() => {                    progressDiv.classList.add('hidden');                }, 2000);            }        }        async function runSingleStrategy(strategy) {            alert(`Single strategy optimization for "${strategy}" coming soon!`);        }        function updateProgress(percent, text) {            document.getElementById('progressBar').style.width = percent + '%';            document.getElementById('progressText').textContent = text;        }        function displayResults(results) {            const container = document.getElementById('resultsContainer');            const content = document.getElementById('resultsContent');            container.classList.remove('hidden');            let html = '<div class="space-y-4">';            // Pruning results            if (results.strategies.pruning) {                html += `                    <div class="strategy-result">                        <h3 class="text-xl font-bold">üî™ Pruning Results</h3>                        <pre>${JSON.stringify(results.strategies.pruning, null, 2)}</pre>                    </div>                `;            }            // Bridging results            if (results.strategies.bridging) {                html += `                    <div class="strategy-result">                        <h3 class="text-xl font-bold">üåâ Bridging Results</h3>                        <p class="mb-2">Created ${results.strategies.bridging.bridges_created || 0} new cross-curricular bridges</p>                        <pre>${JSON.stringify(results.strategies.bridging, null, 2).substring(0, 500)}...</pre>                    </div>                `;            }            // Reciprocity results            if (results.strategies.reciprocity) {                html += `                    <div class="strategy-result">                        <h3 class="text-xl font-bold">üîÑ Reciprocity Results</h3>                        <pre>${JSON.stringify(results.strategies.reciprocity, null, 2)}</pre>                    </div>                `;            }            // Excellence results            if (results.strategies.excellence) {                html += `                    <div class="strategy-result">                        <h3 class="text-xl font-bold">üåü Excellence Connection Results</h3>                        <pre>${JSON.stringify(results.strategies.excellence, null, 2).substring(0, 500)}...</pre>                    </div>                `;            }            // Balancing results            if (results.strategies.balancing) {                html += `                    <div class="strategy-result">                        <h3 class="text-xl font-bold">‚öñÔ∏è Balance Results</h3>                        <pre>${JSON.stringify(results.strategies.balancing, null, 2)}</pre>                    </div>                `;            }            html += '</div>';            content.innerHTML = html;        }        function addToHistory(results) {            const historyLog = document.getElementById('historyLog');            const entry = document.createElement('div');            entry.className = 'log-entry';            entry.innerHTML = `                <div class="flex justify-between items-center">                    <div>                        <strong>Optimization Run</strong>                        <span class="text-sm text-gray-600 ml-2">${new Date(results.timestamp).toLocaleString()}</span>                    </div>                    <span class="health-indicator health-excellent">Success</span>                </div>                <div class="text-sm mt-2">                    Bridges: ${results.strategies.bridging?.bridges_created || 0} |                    Reciprocals: ${results.strategies.reciprocity?.reciprocals_needed || 0}                </div>            `;            if (historyLog.querySelector('p')) {                historyLog.innerHTML = '';            }            historyLog.prepend(entry);        }        function sleep(ms) {            return new Promise(resolve => setTimeout(resolve, ms));        }        // Auto-load on page load        window.addEventListener('load', () => {            console.log('üìä GraphRAG Optimization Dashboard Ready');        });    </script><!-- üé® ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><script>  fetch('/components/footer.html').then(r=>r.text()).then(html=>{    document.getElementById('footer-container').innerHTML=html;  });</script><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><script>  fetch('/components/mobile-bottom-nav.html').then(r=>r.text()).then(html=>{    document.getElementById('mobile-nav-bottom').innerHTML=html;  });</script><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><script>  fetch('/components/quick-actions-fab.html').then(r=>r.text()).then(html=>{    document.getElementById('fab-quick-actions').innerHTML=html;  });</script><!-- üé® ULTIMATE BEAUTY: Framer Cultural Gestures --><script src="/js/framer-cultural-gestures-ultimate.js" defer></script><!-- üìä ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script></body></html>