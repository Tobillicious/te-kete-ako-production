<!DOCTYPE html><html lang="en"><head>
    <title>Subject Dashboard | Te Kete Ako</title>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Browse resources by canonical subject across Te Kete Ako, powered by GraphRAG.">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- â­ PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- â­ THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- â­ COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- â­ PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- â­ TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- â­ CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body class="pattern-koru-subtle">    <div id="nav-container"></div>    <script>fetch('/components/navigation-standard.html').then(r => r.text()).then(html => document.getElementById('nav-container').innerHTML = html);</script>    <section class="hero text-center" >        <h1 class="wiley-hero-title" style="font-size: 3rem; color: #1a4d2e;">ğŸ“š Subject Dashboard</h1>        <p class="text-sm" >Explore Te Kete Ako by canonical subject. Counts and resources are live from GraphRAG.</p>        <div class="flex" >            <a href="/generated-resources-alpha/" class="btn font-bold" >âœ¨ Excellence Alpha</a>            <a href="/handouts/index.html" class="btn font-bold" >ğŸ“„ Handouts</a>            <a href="/lessons.html" class="btn font-bold" >ğŸ“ Lessons</a>        </div>    </section>    <main class="max-w-6xl mx-auto" >        <section class="glass-card" style="padding:1rem 1.25rem;border-left:4px solid #059669;margin-bottom:1.25rem;">            <strong style="color:#065f46;">Subjects</strong>            <div id="subject-grid" class="grid" ></div>        </section>        <section>            <h2 style="font-size:1.5rem;color:#1f2937;margin:1.25rem 0;">Top Resources</h2>            <div id="resource-grid" class="grid" ></div>        </section>    </main>    <div id="footer-container"></div>    <script>fetch('/components/footer.html').then(r=>r.text()).then(html=>{document.getElementById('footer-container').innerHTML=html;});</script>    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>    <script>const SUPABASE_URL='https://nlgldaqtubrlcqddppbq.supabase.co';const SUPABASE_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM';const supabase=window.supabase.createClient(SUPABASE_URL,SUPABASE_KEY);const CANON_ORDER=['Mathematics','Science','English','Social Studies','Digital Technologies','Te Ao MÄori','Arts','Health & PE','Languages','Cross-Curricular','Platform Infrastructure'];async function loadSubjects(){const { data: records, error }=await supabase.from('graphrag_subject_counts').select('*');if(error){// Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
        message: '$2',
        details: $3,
        url: window.location.pathname
    });
        }
        // Show user-friendly message instead of error
        return;}records.sort((a,b)=>CANON_ORDER.indexOf(a.canonical_subject)-CANON_ORDER.indexOf(b.canonical_subject));const grid=document.getElementById('subject-grid');grid.innerHTML=records.map(r=>`<button class="subject-chip flex bg-white font-bold" onclick="loadTop('${(r.canonical_subject||'Unmapped').replace(/'/g,"\\'")}')" >${r.canonical_subject||'Unmapped'}<span class="text-xs" >${r.n}</span></button>`).join('');if(records.length>0){loadTop(records[0].canonical_subject);} }async function loadTop(canon){const { data, error }=await supabase.from('graphrag_resources_clean').select('file_path,title,quality_score,cultural_context,resource_type').eq('canonical_subject',canon).order('quality_score',{ascending:false}).limit(12);if(error){// Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
        message: '$2',
        details: $3,
        url: window.location.pathname
    });
        }
        // Show user-friendly message instead of error
        return;}const grid=document.getElementById('resource-grid');grid.innerHTML=(data||[]).map(r=>`<a href="${r.file_path}" class="bg-white p-4 rounded-xl block" > <h3 class="text-sm font-bold" >${r.title||'Untitled'}</h3> <div style="color:#6b7280;font-size:0.85rem;">${r.resource_type||'Resource'} ${r.quality_score?`â€¢ â­ ${r.quality_score}`:''} ${r.cultural_context?`â€¢ ğŸŒ¿ Cultural`:''}</div> </a>`).join('');}document.addEventListener('DOMContentLoaded',loadSubjects);</script>    <script src="/js/posthog-analytics.js" defer></script></body></html>

