<!DOCTYPE html><html lang="en"><head>
    <title>üåâ GraphRAG Relationship Explorer | Te Kete Ako</title>
<!-- SEO TAGS - Open Graph, Twitter Cards, Canonical URL -->
<!-- Open Graph / Facebook -->
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://tekete.netlify.app/graphrag-relationship-explorer.html"/>
<meta property="og:title" content="üåâ GraphRAG Relationship Explorer | Te Kete Ako"/>
<meta property="og:description" content="World-class educational resources integrating mƒÅtauranga MƒÅori with modern pedagogy"/>
<meta property="og:image" content="https://tekete.netlify.app/images/og-image.jpg"/>
<meta property="og:image:width" content="1200"/>
<meta property="og:image:height" content="630"/>
<meta property="og:image:alt" content="Te Kete Ako - Educational Platform"/>
<meta property="og:site_name" content="Te Kete Ako"/>
<meta property="og:locale" content="en_NZ"/>

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:url" content="https://tekete.netlify.app/graphrag-relationship-explorer.html"/>
<meta name="twitter:title" content="üåâ GraphRAG Relationship Explorer | Te Kete Ako"/>
<meta name="twitter:description" content="World-class educational resources integrating mƒÅtauranga MƒÅori with modern pedagogy"/>
<meta name="twitter:image" content="https://tekete.netlify.app/images/twitter-card.jpg"/>
<meta name="twitter:image:alt" content="Te Kete Ako - Educational Platform"/>
<meta name="twitter:site" content="@TeKeteAko"/>
<meta name="twitter:creator" content="@TeKeteAko"/>

<!-- Canonical URL -->
<link rel="canonical" href="https://tekete.netlify.app/graphrag-relationship-explorer.html"/>

<!-- Additional SEO -->
<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ‚≠ê COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body class="pattern-koru-subtle"> <!-- üé® ULTIMATE BEAUTY: Navigation --> <div id="nav-container"></div> <script>   fetch('/components/navigation-standard.html')     .then(r => r.text())     .then(html => document.getElementById('nav-container').innerHTML = html); </script>    <div class="explorer-container">        <header style="text-align: center; margin-bottom: 2rem;">            <h1>üåâ GraphRAG Relationship Explorer</h1>            <p style="font-size: 1.1rem; color: #4a6e2a;">                Discover intelligent connections across 238,000+ learning relationships            </p>        </header>        <div class="stats-grid" id="stats-container">            <div class="stat-card">                <span class="stat-number" id="total-relationships">...</span>                <span class="stat-label">Total Relationships</span>            </div>            <div class="stat-card">                <span class="stat-number" id="cultural-bridges">...</span>                <span class="stat-label">Cultural Bridges</span>            </div>            <div class="stat-card">                <span class="stat-number" id="cross-curricular">...</span>                <span class="stat-label">Cross-Curricular Links</span>            </div>            <div class="stat-card">                <span class="stat-number" id="learning-chains">...</span>                <span class="stat-label">Learning Progressions</span>            </div>        </div>        <div class="search-section">            <h2 style="margin-bottom: 1rem;">üîç Explore Relationships</h2>            <input                type="text"                class="search-input"                id="search-input"                placeholder="Search for a resource (e.g., 'algebra', 'ecology', 'p≈´rƒÅkau')..."            >            <div class="filter-buttons">                <button class="filter-btn active" data-filter="all">All Relationships</button>                <button class="filter-btn" data-filter="embodies_mƒÅori_concept">Cultural Concepts</button>                <button class="filter-btn" data-filter="cross_curricular_connection">Cross-Curricular</button>                <button class="filter-btn" data-filter="builds_to">Learning Progressions</button>                <button class="filter-btn" data-filter="prerequisite">Prerequisites</button>            </div>        </div>        <div id="results-container">            <div class="loading">Loading relationships...</div>        </div>    </div>    <script>        // Initialize Supabase        const supabaseUrl = 'https://nlgldaqtubrlcqddppbq.supabase.co';        const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjY1MzY5NTksImV4cCI6MjA0MjExMjk1OX0.m1DKLLZkOT3_BSan7Itawvdc0B3l0Z5xU9e_HaIJR3c';        const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);        let currentFilter = 'all';        let allRelationships = [];        // Load statistics        async function loadStats() {            try {                // Total relationships                const { count: total } = await supabase                    .from('graphrag_relationships')                    .select('*', { count: 'exact', head: true });                document.getElementById('total-relationships').textContent = total.toLocaleString();                // Cultural bridges                const { count: cultural } = await supabase                    .from('graphrag_relationships')                    .select('*', { count: 'exact', head: true })                    .eq('relationship_type', 'embodies_mƒÅori_concept');                document.getElementById('cultural-bridges').textContent = cultural.toLocaleString();                // Cross-curricular                const { count: crossCurr } = await supabase                    .from('graphrag_relationships')                    .select('*', { count: 'exact', head: true })                    .eq('relationship_type', 'cross_curricular_connection');                document.getElementById('cross-curricular').textContent = crossCurr.toLocaleString();                // Learning chains                const { count: chains } = await supabase                    .from('graphrag_relationships')                    .select('*', { count: 'exact', head: true })                    .eq('relationship_type', 'builds_to');                document.getElementById('learning-chains').textContent = chains.toLocaleString();            } catch (error) {                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
                message: '$2',
                details: $3,
                url: window.location.pathname
            });
        }
        // Show user-friendly message instead of error
        console.log('Issue detected: $2');            }        }        // Load recent relationships        async function loadRelationships(filter = 'all', searchTerm = '') {            const resultsContainer = document.getElementById('results-container');            resultsContainer.innerHTML = '<div class="loading">Loading relationships...</div>';            try {                let query = supabase                    .from('graphrag_relationships')                    .select('*')                    .order('created_at', { ascending: false })                    .limit(50);                if (filter !== 'all') {                    query = query.eq('relationship_type', filter);                }                if (searchTerm) {                    query = query.or(`source_path.ilike.%${searchTerm}%,target_path.ilike.%${searchTerm}%`);                }                const { data: relationships, error } = await query;                if (error) throw error;                allRelationships = relationships;                renderRelationships(relationships);            } catch (error) {                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
                message: '$2',
                details: $3,
                url: window.location.pathname
            });
        }
        // Show user-friendly message instead of error
        console.log('Issue detected: $2');                resultsContainer.innerHTML = '<div class="loading">Error loading relationships. Please try again.</div>';            }        }        // Render relationships        function renderRelationships(relationships) {            const resultsContainer = document.getElementById('results-container');            if (!relationships || relationships.length === 0) {                resultsContainer.innerHTML = '<div class="loading">No relationships found.</div>';                return;            }            const html = relationships.map(rel => {                const typeClass = rel.relationship_type === 'embodies_mƒÅori_concept' ? 'cultural-concept' :                                 rel.relationship_type === 'cross_curricular_connection' ? 'cross-curricular' :                                 rel.relationship_type === 'builds_to' ? 'prerequisite' : '';                const metadata = rel.metadata || {};                const connection = metadata.connection || metadata.connection_type || '';                return `                    <div class="relationship-card">                        <span class="relationship-type ${typeClass}">${formatRelationType(rel.relationship_type)}</span>                        <div class="resource-link">${formatPath(rel.source_path)}</div>                        <div class="connection-arrow">‚Üì ${rel.relationship_type.replace(/_/g, ' ')}</div>                        <div class="resource-link">${formatPath(rel.target_path)}</div>                        ${connection ? `                            <div class="metadata-box">                                <strong>Connection:</strong> ${connection}                                ${metadata.concept ? `<br><strong>Concept:</strong> ${metadata.concept}` : ''}                                ${metadata.progression ? `<br><strong>Progression:</strong> ${metadata.progression}` : ''}                            </div>                        ` : ''}                    </div>                `;            }).join('');            resultsContainer.innerHTML = html;        }        // Format relationship type        function formatRelationType(type) {            const typeMap = {                'embodies_mƒÅori_concept': 'üåø Cultural Concept',                'cross_curricular_connection': 'üîó Cross-Curricular',                'builds_to': 'üìà Builds To',                'prerequisite': 'üìö Prerequisite',                'shared_cultural_element': 'üé® Shared Culture'            };            return typeMap[type] || type.replace(/_/g, ' ').toUpperCase();        }        // Format file path for display        function formatPath(path) {            if (path.startsWith('concept://')) {                return `üìñ ${path.replace('concept://', '').replace(/-/g, ' ').toUpperCase()}`;            }            const parts = path.split('/');            const filename = parts[parts.length - 1].replace('.html', '').replace(/-/g, ' ');            return filename.length > 80 ? filename.substring(0, 80) + '...' : filename;        }        // Event listeners        document.querySelectorAll('.filter-btn').forEach(btn => {            btn.addEventListener('click', () => {                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));                btn.classList.add('active');                currentFilter = btn.dataset.filter;                loadRelationships(currentFilter, document.getElementById('search-input').value);            });        });        let searchTimeout;        document.getElementById('search-input').addEventListener('input', (e) => {            clearTimeout(searchTimeout);            searchTimeout = setTimeout(() => {                loadRelationships(currentFilter, e.target.value);            }, 500);        });        // Initial load        loadStats();        loadRelationships();    </script><!-- üé® ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><script>  fetch('/components/footer.html').then(r=>r.text()).then(html=>{    document.getElementById('footer-container').innerHTML=html;  });</script><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><script>  fetch('/components/mobile-bottom-nav.html').then(r=>r.text()).then(html=>{    document.getElementById('mobile-nav-bottom').innerHTML=html;  });</script><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><script>  fetch('/components/quick-actions-fab.html').then(r=>r.text()).then(html=>{    document.getElementById('fab-quick-actions').innerHTML=html;  });</script><!-- üé® ULTIMATE BEAUTY: Framer Cultural Gestures --><script src="/js/framer-cultural-gestures-ultimate.js" defer></script><!-- üìä ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script></body></html>