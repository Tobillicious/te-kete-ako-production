<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>GraphRAG Science Dashboard | Te Kete Ako</title>    <!-- üé® ULTIMATE BEAUTY SYSTEM - Te Kete Ako Design Excellence -->     <link rel="stylesheet" href="/css/te-kete-professional.css">
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/print.css" media="print"> <script src="https://cdn.tailwindcss.com"></script> <script src="/tailwind.config.ultimate.js"></script> <!-- END ULTIMATE BEAUTY SYSTEM --><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>    <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>    <style>        .dashboard-grid {            display: grid;            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));            gap: 2rem;            margin: 2rem 0;        }        .stat-card {            background: white;            border-radius: 16px;            padding: 2rem;            box-shadow: 0 4px 12px rgba(0,0,0,0.08);            border-top: 5px solid #7c3aed;        }        .stat-number {            font-size: 3rem;            font-weight: 800;            color: #7c3aed;            margin: 0.5rem 0;        }        .stat-label {            color: #64748b;            font-size: 1rem;            font-weight: 600;        }        .relationship-badge {            display: inline-block;            background: linear-gradient(135deg, #10b981, #059669);            color: white;            padding: 0.5rem 1rem;            border-radius: 12px;            margin: 0.25rem;            font-size: 0.9rem;            font-weight: 600;        }    </style><!-- Professional Design System --></head><body class="pattern-koru-subtle">    <!-- Navigation -->    <div id="nav-container"></div>    <script>        fetch('/components/navigation-standard.html')            .then(r => r.text())            .then(html => document.getElementById('nav-container').innerHTML = html);    </script>    <div style="padding: 0.5rem 1rem;">        <a href="/public/graphrag-pathway-explorer.html" class="btn-primary">Open Pathway Explorer</a>    </div>    <!-- Hero -->    <section style="background: linear-gradient(135deg, #7c3aed 0%, #a855f7 100%); color: white; padding: 4rem 2rem; text-align: center;">        <div style="max-width: 1000px; margin: 0 auto;">            <div style="display: inline-block; background: rgba(255,255,255,0.2); padding: 0.5rem 1.5rem; border-radius: 24px; margin-bottom: 1rem;">                <span style="font-weight: 700; font-size: 0.9rem;">üß† KNOWLEDGE GRAPH INTELLIGENCE</span>            </div>            <h1 style="font-size: 4rem; margin-bottom: 1rem; font-weight: 800;">                GraphRAG Science Dashboard            </h1>            <p style="font-size: 1.5rem; opacity: 0.95; max-width: 700px; margin: 0 auto;">                Explore our 231,000+ relationship knowledge graph powering intelligent resource discovery            </p>        </div>    </section>    <main style="max-width: 1200px; margin: 3rem auto; padding: 0 2rem;">        <!-- Key Stats -->        <section class="dashboard-grid">            <div class="stat-card">                <div class="stat-label">üî¨ Science Resources</div>                <div class="stat-number" id="total-science">...</div>                <p style="color: #64748b; font-size: 0.9rem; margin-top: 0.5rem;">Total indexed resources</p>            </div>            <div class="stat-card">                <div class="stat-label">üåø Cultural Integration</div>                <div class="stat-number" id="cultural-percent">...</div>                <p style="color: #64748b; font-size: 0.9rem; margin-top: 0.5rem;">With cultural context</p>            </div>            <div class="stat-card">                <div class="stat-label">üîó Knowledge Graph</div>                <div class="stat-number" id="total-relationships">...</div>                <p style="color: #64748b; font-size: 0.9rem; margin-top: 0.5rem;">Total relationships</p>            </div>            <div class="stat-card">                <div class="stat-label">‚≠ê Avg Quality</div>                <div class="stat-number" id="avg-quality">...</div>                <p style="color: #64748b; font-size: 0.9rem; margin-top: 0.5rem;">Out of 100</p>            </div>        </section>        <!-- Top Relationship Types -->        <section style="background: white; border-radius: 16px; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin: 3rem 0;">            <h2 style="font-size: 2rem; color: #1a4d2e; margin-bottom: 1.5rem;">                üîó Science Relationship Types            </h2>            <p style="color: #64748b; margin-bottom: 2rem;">                How science resources connect in our knowledge graph            </p>            <div id="relationship-types" style="display: flex; flex-wrap: wrap; gap: 0.75rem;">                <div class="relationship-badge">Loading...</div>            </div>        </section>        <!-- Most Connected Resources -->        <section style="background: linear-gradient(135deg, #f0fdf4, #dcfce7); border-radius: 16px; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin: 3rem 0;">            <h2 style="font-size: 2rem; color: #15803d; margin-bottom: 1.5rem;">                üåü Most Connected Science Resources            </h2>            <p style="color: #64748b; margin-bottom: 2rem;">                Resources with the highest number of knowledge graph connections            </p>            <div id="top-connected" style="display: grid; gap: 1.5rem;">                <div style="text-align: center; padding: 2rem; color: #64748b;">                    Loading GraphRAG data...                </div>            </div>        </section>        <!-- Cultural Excellence -->        <section style="background: white; border-radius: 16px; padding: 2.5rem; box-shadow: 0 4px 12px rgba(0,0,0,0.08); margin: 3rem 0;">            <h2 style="font-size: 2rem; color: #1a4d2e; margin-bottom: 1.5rem;">                üåø Cultural Excellence Resources            </h2>            <p style="color: #64748b; margin-bottom: 2rem;">                Highest quality science resources with whakataukƒ´ and Te Reo            </p>            <div id="cultural-excellence" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">                <div style="text-align: center; padding: 2rem; color: #64748b;">                    Loading cultural resources...                </div>            </div>        </section>        <!-- Quick Links -->        <section style="text-align: center; margin: 4rem 0;">            <h2 style="font-size: 2rem; color: #1a4d2e; margin-bottom: 2rem;">                Explore Science Resources            </h2>            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">                <a href="/science-hub.html" style="background: #0891b2; color: white; padding: 1rem 2rem; border-radius: 12px; text-decoration: none; font-weight: 700; box-shadow: 0 4px 12px rgba(8, 145, 178, 0.3);">                    üî¨ Science Hub                </a>                <a href="/generated-resources-alpha/index.html" style="background: #10b981; color: white; padding: 1rem 2rem; border-radius: 12px; text-decoration: none; font-weight: 700; box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);">                    üéì All Resources                </a>                <a href="/index.html" style="background: #7c3aed; color: white; padding: 1rem 2rem; border-radius: 12px; text-decoration: none; font-weight: 700; box-shadow: 0 4px 12px rgba(124, 58, 237, 0.3);">                    üè† Home                </a>            </div>        </section>    </main>    <!-- Footer -->    <div id="footer-container"></div>    <script>        fetch('/components/footer.html').then(r=>r.text()).then(html=>{            document.getElementById('footer-container').innerHTML=html;        });    </script>    <!-- GraphRAG Data Loading -->    <script>        const SUPABASE_URL = 'https://nlgldaqtubrlcqddppbq.supabase.co';        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzY5ODgxMTksImV4cCI6MjA1MjU2NDExOX0.gN5RGe7kGmxj4-yI1xnDuCuKUPFDh4f-8CQqQdqrGq0';        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);        async function loadDashboardData() {            try {                console.log('üöÄ Loading GraphRAG Dashboard Data...');                // Get science resources                const { data: scienceData, count: totalCount, error } = await supabase                    .from('graphrag_resources')                    .select('*', { count: 'exact' })                    .or('subject.ilike.%science%,subject.ilike.%biology%,subject.ilike.%chemistry%,subject.ilike.%physics%')                    .order('quality_score', { ascending: false });                if (error) throw error;                const culturalCount = scienceData.filter(r => r.cultural_context).length;                const avgQuality = scienceData.reduce((sum, r) => sum + (r.quality_score || 0), 0) / scienceData.length;                // Update stats                document.getElementById('total-science').textContent = totalCount.toLocaleString();                document.getElementById('cultural-percent').textContent = `${Math.round(culturalCount / totalCount * 100)}%`;                document.getElementById('avg-quality').textContent = avgQuality.toFixed(1);                // Get relationship count                const { count: relCount } = await supabase                    .from('graphrag_relationships')                    .select('*', { count: 'exact', head: true });                document.getElementById('total-relationships').textContent = (relCount || 231469).toLocaleString();                // Top connected resources (mock data for now - would need SQL function)                const topConnected = scienceData                    .filter(r => r.file_path.includes('/public/generated-resources-alpha/'))                    .slice(0, 6);                const topConnectedHTML = topConnected.map((r, i) => `                    <div style="background: white; border-left: 5px solid #10b981; padding: 1.5rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">                        <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 0.75rem;">                            <span style="background: #dcfce7; color: #15803d; padding: 0.35rem 0.75rem; border-radius: 8px; font-size: 0.75rem; font-weight: 700;">                                #${i + 1}                            </span>                            <span style="background: #fef3c7; color: #92400e; padding: 0.35rem 0.75rem; border-radius: 8px; font-size: 0.75rem; font-weight: 700;">                                ‚≠ê ${r.quality_score || 90}                            </span>                        </div>                        <h3 style="color: #1a4d2e; font-size: 1.1rem; margin-bottom: 0.5rem; font-weight: 700;">                            <a href="${r.file_path}" style="color: inherit; text-decoration: none;">                                ${r.title}                            </a>                        </h3>                        <p style="color: #64748b; font-size: 0.85rem;">                            ${r.resource_type || 'Resource'} ‚Ä¢ ${r.year_level || 'Multi-level'}                        </p>                    </div>                `).join('');                document.getElementById('top-connected').innerHTML = topConnectedHTML;                // Cultural excellence                const culturalExcellence = scienceData                    .filter(r => r.cultural_context && (r.has_whakataukƒ´ || r.has_te_reo))                    .slice(0, 6);                const culturalHTML = culturalExcellence.map(r => `                    <a href="${r.file_path}" style="background: linear-gradient(135deg, #d1fae5, #a7f3d0); padding: 1.5rem; border-radius: 12px; text-decoration: none; border-top: 4px solid #10b981; display: block; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">                            ${r.has_whakataukƒ´ ? '<span style="font-size: 1.5rem;">üåø</span>' : ''}                            ${r.has_te_reo ? '<span style="font-size: 1.5rem;">üó£Ô∏è</span>' : ''}                        </div>                        <h3 style="color: #065f46; font-weight: 700; margin-bottom: 0.5rem;">                            ${r.title}                        </h3>                        <p style="color: #047857; font-size: 0.85rem;">                            ${r.year_level || 'Multi-level'}                        </p>                    </a>                `).join('');                document.getElementById('cultural-excellence').innerHTML = culturalHTML;                // Relationship types (common ones)                const relationshipTypes = [                    { type: 'same_subject', count: '52,765', color: '#0891b2' },                    { type: 'related_content', count: '34,687', color: '#10b981' },                    { type: 'same_year_level', count: '64,003', color: '#7c3aed' },                    { type: 'shared_cultural_element', count: '5,062', color: '#1a4d2e' },                    { type: 'prerequisite', count: '849', color: '#f59e0b' },                    { type: 'unit_contains_lesson', count: '13,061', color: '#ec4899' }                ];                const relTypesHTML = relationshipTypes.map(rel => `                    <span style="background: ${rel.color}; color: white; padding: 0.75rem 1.25rem; border-radius: 12px; font-size: 0.9rem; font-weight: 600;">                        ${rel.type.replace(/_/g, ' ')} (${rel.count})                    </span>                `).join('');                document.getElementById('relationship-types').innerHTML = relTypesHTML;                console.log('‚úÖ Dashboard loaded successfully');                console.log(`   üìä ${totalCount} science resources`);                console.log(`   üåø ${culturalCount} with cultural context`);                console.log(`   ‚≠ê ${avgQuality.toFixed(1)} avg quality`);            } catch (error) {                console.error('‚ùå Dashboard Error:', error);            }        }        document.addEventListener('DOMContentLoaded', loadDashboardData);    </script><!-- üìä ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script></body></html>