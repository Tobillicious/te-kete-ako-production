<!--
TEACHING CONTENT DROPDOWN
Organized by: Unit â†’ Lesson â†’ Handout hierarchy
Based on: Hegelian synthesis + user structure requirement
Current count: 236 Units, 1,924 Lessons, 2,712 Handouts
-->

<div class="teaching-content-dropdown">
    <button class="nav-dropdown-trigger" aria-expanded="false" aria-controls="teaching-dropdown-menu">
        <span>ğŸ“š Teaching Content</span>
        <svg class="dropdown-icon" width="12" height="12" viewBox="0 0 12 12" fill="currentColor">
            <path d="M2 4l4 4 4-4z"/>
        </svg>
    </button>
    
    <div id="teaching-dropdown-menu" class="dropdown-menu" role="menu" aria-hidden="true">
        
        <!-- URGENT NEEDS (Always Top!) -->
        <div class="dropdown-section urgent">
            <h4 class="section-title">ğŸš¨ Urgent Needs</h4>
            <a href="/emergency-lessons.html" class="dropdown-item">
                <span class="item-icon">ğŸš¨</span>
                <div>
                    <div class="item-title">Emergency Lessons</div>
                    <div class="item-desc">Ready in 5 minutes</div>
                </div>
            </a>
            <a href="/top-10-starter-pack.html" class="dropdown-item">
                <span class="item-icon">â­</span>
                <div>
                    <div class="item-title">Top 10 Starter Pack</div>
                    <div class="item-desc">Best for new teachers</div>
                </div>
            </a>
        </div>
        
        <!-- BY CONTENT TYPE (Unit â†’ Lesson â†’ Handout) -->
        <div class="dropdown-section hierarchy">
            <h4 class="section-title">ğŸ“‹ By Type</h4>
            
            <a href="/units/" class="dropdown-item hierarchy-item">
                <span class="item-icon">ğŸ“¦</span>
                <div>
                    <div class="item-title">Units (236)</div>
                    <div class="item-desc">Complete multi-week sequences</div>
                    <div class="item-example">e.g., Y8 Digital Kaitiakitanga (18 lessons)</div>
                </div>
            </a>
            
            <a href="/lessons/" class="dropdown-item hierarchy-item indent-1">
                <span class="item-icon">ğŸ“</span>
                <div>
                    <div class="item-title">Lessons (1,924)</div>
                    <div class="item-desc">Single-period teaching plans</div>
                    <div class="item-example">e.g., Y7 Algebra Patterns (45 min)</div>
                </div>
            </a>
            
            <a href="/handouts/" class="dropdown-item hierarchy-item indent-2">
                <span class="item-icon">ğŸ“„</span>
                <div>
                    <div class="item-title">Handouts (2,712)</div>
                    <div class="item-desc">Student worksheets & activities</div>
                    <div class="item-example">e.g., Ecosystems Worksheet</div>
                </div>
            </a>
        </div>
        
        <!-- BY SUBJECT (Most Common Navigation) -->
        <div class="dropdown-section subjects">
            <h4 class="section-title">ğŸ“ By Subject</h4>
            
            <a href="/mathematics-hub.html" class="dropdown-item">
                <span class="item-icon">ğŸ”¢</span>
                <div class="item-title">Mathematics</div>
            </a>
            
            <a href="/science-hub.html" class="dropdown-item">
                <span class="item-icon">ğŸ”¬</span>
                <div class="item-title">Science</div>
            </a>
            
            <a href="/english-hub.html" class="dropdown-item">
                <span class="item-icon">ğŸ“–</span>
                <div class="item-title">English</div>
            </a>
            
            <a href="/te-reo-maori-hub.html" class="dropdown-item">
                <span class="item-icon">ğŸŒ¿</span>
                <div class="item-title">Te Reo MÄori</div>
            </a>
            
            <a href="/social-studies-hub.html" class="dropdown-item">
                <span class="item-icon">ğŸŒ</span>
                <div class="item-title">Social Studies</div>
            </a>
            
            <a href="/digital-technologies-hub.html" class="dropdown-item">
                <span class="item-icon">ğŸ’»</span>
                <div class="item-title">Digital Technologies</div>
            </a>
        </div>
        
        <!-- CULTURAL PATHWAY (MÄori Medium Teachers) -->
        <div class="dropdown-section cultural">
            <h4 class="section-title">ğŸŒ¿ Cultural</h4>
            <a href="/cultural-excellence-hub.html" class="dropdown-item">
                <span class="item-icon">âœ¨</span>
                <div>
                    <div class="item-title">Cultural Excellence Hub</div>
                    <div class="item-desc">MÄori medium & culturally integrated</div>
                </div>
            </a>
        </div>
        
    </div>
</div>

<style>
/* TEACHING CONTENT DROPDOWN - Simple, Cultural, Human-Focused */

.teaching-content-dropdown {
    position: relative;
    display: inline-block;
}

.nav-dropdown-trigger {
    background: linear-gradient(135deg, #1a4d2e 0%, #0f2818 100%);
    color: #f5e6d3;
    border: 2px solid #d4a574;
    padding: 12px 20px;
    border-radius: 8px;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 2px 8px rgba(26, 77, 46, 0.2);
}

.nav-dropdown-trigger:hover {
    background: linear-gradient(135deg, #0f2818 0%, #1a4d2e 100%);
    border-color: #f5e6d3;
    box-shadow: 0 4px 12px rgba(26, 77, 46, 0.3);
}

.dropdown-icon {
    transition: transform 0.3s ease;
}

.nav-dropdown-trigger[aria-expanded="true"] .dropdown-icon {
    transform: rotate(180deg);
}

/* DROPDOWN MENU - Cultural warmth */
.dropdown-menu {
    position: absolute;
    top: calc(100% + 8px);
    left: 0;
    background: #faf8f3;
    border: 3px solid #1a4d2e;
    border-radius: 12px;
    min-width: 380px;
    max-width: 450px;
    padding: 16px;
    box-shadow: 0 8px 24px rgba(26, 77, 46, 0.25);
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(-10px);
    transition: all 0.3s ease;
}

.dropdown-menu[aria-hidden="false"] {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

/* SECTIONS - Clear visual grouping */
.dropdown-section {
    margin-bottom: 16px;
    padding-bottom: 16px;
    border-bottom: 2px solid #d4a574;
}

.dropdown-section:last-child {
    margin-bottom: 0;
    padding-bottom: 0;
    border-bottom: none;
}

.dropdown-section.urgent {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    padding: 12px;
    border-radius: 8px;
    border-bottom: none;
    margin-bottom: 12px;
}

.dropdown-section.cultural {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    padding: 12px;
    border-radius: 8px;
    border-bottom: none;
}

.section-title {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    color: #1a4d2e;
    letter-spacing: 0.05em;
    margin-bottom: 8px;
}

/* DROPDOWN ITEMS - Touch-friendly */
.dropdown-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 10px 12px;
    border-radius: 8px;
    text-decoration: none;
    color: #2c3e50;
    transition: all 0.2s ease;
    cursor: pointer;
}

.dropdown-item:hover,
.dropdown-item:focus {
    background: linear-gradient(135deg, #d4a574 0%, #f5e6d3 100%);
    color: #0f2818;
    padding-left: 16px;
    box-shadow: 0 2px 8px rgba(212, 165, 116, 0.3);
}

.item-icon {
    font-size: 1.5rem;
    flex-shrink: 0;
}

.item-title {
    font-weight: 600;
    font-size: 0.95rem;
    color: #1a4d2e;
}

.item-desc {
    font-size: 0.8rem;
    color: #546e7a;
    margin-top: 2px;
}

.item-example {
    font-size: 0.75rem;
    color: #78909c;
    font-style: italic;
    margin-top: 4px;
}

/* HIERARCHY VISUAL (Unit > Lesson > Handout) */
.hierarchy-item {
    position: relative;
}

.hierarchy-item.indent-1 {
    margin-left: 16px;
    border-left: 2px solid #d4a574;
}

.hierarchy-item.indent-2 {
    margin-left: 32px;
    border-left: 2px solid #d4a574;
}

/* MOBILE RESPONSIVE */
@media (max-width: 768px) {
    .dropdown-menu {
        position: fixed;
        top: auto;
        bottom: 0;
        left: 0;
        right: 0;
        border-radius: 16px 16px 0 0;
        min-width: 100%;
        max-height: 80vh;
        overflow-y: auto;
    }
    
    .dropdown-item {
        padding: 14px;
    }
    
    .item-icon {
        font-size: 1.75rem;
    }
}

/* CULTURAL TOUCHES */
.dropdown-menu::before {
    content: '';
    position: absolute;
    top: 8px;
    right: 8px;
    width: 40px;
    height: 40px;
    background: url('/images/koru-small.svg') no-repeat center;
    background-size: contain;
    opacity: 0.1;
}
</style>

<script>
// TEACHING DROPDOWN FUNCTIONALITY
(function() {
    const trigger = document.querySelector('.nav-dropdown-trigger');
    const menu = document.querySelector('#teaching-dropdown-menu');
    
    if (!trigger || !menu) return;
    
    // Toggle dropdown
    trigger.addEventListener('click', (e) => {
        e.stopPropagation();
        const isExpanded = trigger.getAttribute('aria-expanded') === 'true';
        
        trigger.setAttribute('aria-expanded', !isExpanded);
        menu.setAttribute('aria-hidden', isExpanded);
        
        // Prevent body scroll on mobile when open
        if (!isExpanded) {
            document.body.style.overflow = 'hidden';
        } else {
            document.body.style.overflow = '';
        }
    });
    
    // Close on click outside
    document.addEventListener('click', (e) => {
        if (!trigger.contains(e.target) && !menu.contains(e.target)) {
            trigger.setAttribute('aria-expanded', 'false');
            menu.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
        }
    });
    
    // Close on escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && trigger.getAttribute('aria-expanded') === 'true') {
            trigger.setAttribute('aria-expanded', 'false');
            menu.setAttribute('aria-hidden', 'true');
            document.body.style.overflow = '';
            trigger.focus();
        }
    });
    
    // Keyboard navigation within dropdown
    menu.addEventListener('keydown', (e) => {
        const items = Array.from(menu.querySelectorAll('.dropdown-item'));
        const currentIndex = items.indexOf(document.activeElement);
        
        switch(e.key) {
            case 'ArrowDown':
                e.preventDefault();
                const nextIndex = (currentIndex + 1) % items.length;
                items[nextIndex].focus();
                break;
            case 'ArrowUp':
                e.preventDefault();
                const prevIndex = (currentIndex - 1 + items.length) % items.length;
                items[prevIndex].focus();
                break;
            case 'Home':
                e.preventDefault();
                items[0].focus();
                break;
            case 'End':
                e.preventDefault();
                items[items.length - 1].focus();
                break;
        }
    });
})();
</script>

