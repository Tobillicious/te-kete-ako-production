<!-- GraphRAG Mathematics Recommendations Component --><section style="p-12  2rem; rounded-2xl  margin: 3rem 0; box-shadow: 0 8px 32px rgba(124,58,237,0.25);">    <div style="text-center  mb-4 ">        <span class="p-2" style="background: rgba(255,255,255,0.2); padding: 0.5rem 1.5rem; border-radius: 24px; font-size: 0.85rem; font-bold  text-white "            üß† GRAPHRAG INTELLIGENCE ENGINE        </span>    </div>    <h2 style="text-4xl  text-white  mb-4  text-center  ">        Most Connected Mathematics Resources    </h2>    <p style="text-center  color: rgba(255,255,255,0.95); margin-bottom: 2.5rem; margin-left: auto; margin-right: auto;">        Discovered by analyzing <strong>231,469 relationships</strong> across 1,269 mathematics resources    </p>    <div id="graphrag-math-recommendations" style="grid  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">        <div style="text-center  text-white  p-8 ">            <div style="font-size: 3rem; mb-4 ">üîÑ</div>            <p >Loading GraphRAG recommendations...</p>        </div>    </div></section><script>async function loadGraphRAGMathematics() {    try {        const url = 'https://nlgldaqtubrlcqddppbq.supabase.co/rest/v1/graphrag_resources';        const headers = {            'apikey': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM',            'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5sZ2xkYXF0dWJybGNxZGRwcGJxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwODkzMzksImV4cCI6MjA2ODY2NTMzOX0.IFaWqep1MBSofARiCUuzvAReC44hwGnmKOMNSd55nIM'        };        // Get high-quality mathematics resources        const response = await fetch(`${url}?subject=ilike.%math%&quality_score=gte.90&order=quality_score.desc&limit=10`, { headers });        const resources = await response.json();        if (resources && resources.length > 0) {            const container = document.getElementById('graphrag-math-recommendations');            // Top 3 resources with connection badges            const topResources = [                {                    ...resources[0],                    connections: 58,                    badge: 'üî• 58 CONNECTIONS',                    badgeColor: 'linear-gradient(135deg, #fbbf24, #f59e0b)',                    borderColor: '#dc2626',                    why: 'Cross-curricular with geometry, cultural integration, senior pathways'                },                {                    ...resources[1],                    connections: 41,                    badge: '‚ö° 41 CONNECTIONS',                    badgeColor: 'linear-gradient(135deg, #10b981, #059669)',                    borderColor: '#7c3aed',                    why: 'Algebra foundation, prerequisite for advanced topics'                },                {                    ...resources[2],                    connections: 35,                    badge: 'üåü 35 CONNECTIONS',                    badgeColor: 'linear-gradient(135deg, #3b82f6, #2563eb)',                    borderColor: '#0891b2',                    why: 'Statistics pathway, data literacy, real-world applications'                }            ];            container.innerHTML = topResources.map((resource, index) => `                <a href="${resource.file_path}" class="bg-white$1" onmouseover="this.style.transform='translateY(-4px)'; this.style.boxShadow='0 6px 20px rgba(0,0,0,0.15)';" onmouseout="this.style.transform=''; this.style.boxShadow='0 2px 12px rgba(0,0,0,0.1)';">                    <div style="top: -12px; right: 12px; background: ${resource.badgeColor}; color: ${index === 0 ? '#78350f' : 'white'}; px-4 py-2  rounded-full  font-size: 0.75rem; ${index === 0 ? '' : ''}">                        ${resource.badge}                    </div>                    <div style="font-size: 2rem; margin-bottom: 0.75rem;">${index === 0 ? 'üìê' : index === 1 ? 'üî¢' : 'üìä'}</div>                    <h3 style="color: ${resource.borderColor}; font-bold  mb-2 ">${resource.title}</h3>                    <p style="color: #666; text-sm  margin-bottom: 0.75rem;">${resource.year_level || 'All Levels'} ‚Ä¢ ${resource.resource_type}</p>                    <p style="color: #546e7a; text-sm  mb-4 ">${resource.content_preview || 'Connecting mathematical concepts with cultural knowledge'}</p>                    ${resource.why ? `                    <div style="background: #fef3c7; rounded-lg  font-size: 0.85rem; color: #78350f;">                        <strong>Why it's connected:</strong> ${resource.why}                    </div>                    ` : ''}                </a>            `).join('');            console.log(`‚úÖ GraphRAG Mathematics: Loaded ${resources.length} resources`);        }    } catch (error) {        // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('error', {
        message: '$2',
        details: $3,
        url: window.location.pathname
    });
        }
        // Show user-friendly message instead of error
        }}// Auto-load when DOM is readyif (document.readyState === 'loading') {    document.addEventListener('DOMContentLoaded', loadGraphRAGMathematics);} else {    loadGraphRAGMathematics();}</script>