<!-- BADGE SYSTEM COMPONENT - Te Kete Ako Professional Polish -->
<!-- Agent-9 (Kaitiaki Whakawhitinga) - October 15, 2025 -->

<style>
/* Badge System Styles */
.resource-badges {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    margin: 0.75rem 0;
}

.badge {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.375rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    white-space: nowrap;
}

/* Status Badges */
.badge-new {
    background: linear-gradient(135deg, #10b981, #059669);
    color: white;
    box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
}
.badge-new::before {
    content: "âœ¨";
    font-size: 0.9rem;
}

.badge-popular {
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: white;
    box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
}
.badge-popular::before {
    content: "ðŸ”¥";
    font-size: 0.9rem;
}

.badge-cultural {
    background: linear-gradient(135deg, #7a6b1f, #5a4b0f);
    color: white;
    box-shadow: 0 2px 4px rgba(122, 107, 31, 0.3);
}
.badge-cultural::before {
    content: "ðŸŒ¿";
    font-size: 0.9rem;
}

/* Year Level Badges */
.badge-year {
    background: var(--color-gray-200, #f3f4f6);
    color: var(--color-gray-700, #374151);
    border: 1px solid var(--color-gray-300, #d1d5db);
}

.badge-y7 { background: #dbeafe; color: #1e40af; border-color: #93c5fd; }
.badge-y8 { background: #dcfce7; color: #166534; border-color: #86efac; }
.badge-y9 { background: #fef3c7; color: #92400e; border-color: #fde047; }
.badge-y10 { background: #fce7f3; color: #9f1239; border-color: #fbcfe8; }

/* Responsive */
@media (max-width: 640px) {
    .badge {
        font-size: 0.7rem;
        padding: 0.3rem 0.6rem;
    }
}
</style>

<script>
/**
 * Badge System JavaScript
 * Automatically adds badges based on content metadata
 */
window.BadgeSystem = {
    /**
     * Add badges to a resource card
     */
    addBadges: function(card, metadata) {
        if (!card || !metadata) return;
        
        let badgesContainer = card.querySelector('.resource-badges');
        if (!badgesContainer) {
            badgesContainer = document.createElement('div');
            badgesContainer.className = 'resource-badges';
            card.prepend(badgesContainer);
        }
        
        // Clear existing badges
        badgesContainer.innerHTML = '';
        
        // Add status badges
        if (metadata.isNew) {
            badgesContainer.innerHTML += '<span class="badge badge-new">New</span>';
        }
        if (metadata.isPopular) {
            badgesContainer.innerHTML += '<span class="badge badge-popular">Popular</span>';
        }
        if (metadata.isCultural) {
            badgesContainer.innerHTML += '<span class="badge badge-cultural">Cultural</span>';
        }
        
        // Add year level badge
        if (metadata.year) {
            badgesContainer.innerHTML += `<span class="badge badge-year badge-y${metadata.year}">Y${metadata.year}</span>`;
        }
    },
    
    /**
     * Auto-detect and add badges to all resource cards on page
     */
    autoDetect: function() {
        const cards = document.querySelectorAll('.resource-card, .lesson-card, .unit-card');
        cards.forEach(card => {
            const metadata = this.extractMetadata(card);
            if (metadata) {
                this.addBadges(card, metadata);
            }
        });
    },
    
    /**
     * Extract metadata from card element
     */
    extractMetadata: function(card) {
        const metadata = {};
        metadata.year = card.dataset.year || null;
        metadata.subject = card.dataset.subject || null;
        metadata.isNew = card.dataset.new === 'true';
        metadata.isPopular = card.dataset.popular === 'true';
        metadata.isCultural = card.dataset.cultural === 'true';
        return metadata;
    }
};

// Auto-initialize on page load
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => window.BadgeSystem.autoDetect());
} else {
    window.BadgeSystem.autoDetect();
}
</script>
