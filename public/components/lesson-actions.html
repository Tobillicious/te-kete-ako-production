<!-- Lesson Action Buttons - Add to any lesson/handout --><div class="lesson-actions no-print p-6 rounded-xl shadow-lg" >    <div class="flex" >        <!-- Left: Quick Actions -->        <div class="flex" >            <!-- Print Button -->            <button onclick="window.print()" class="action-btn rounded-lg font-semibold flex" title="Print this resource (Ctrl+P or Cmd+P)">                <span>🖨️</span>                <span>Print</span>            </button>            <!-- Save/Favorite Button -->            <button onclick="saveFavorite()" class="action-btn rounded-lg font-semibold flex" title="Save to My Kete">                <span id="favorite-icon">⭐</span>                <span>Save</span>            </button>            <!-- Share Button -->            <button onclick="shareResource()" class="action-btn rounded-lg font-semibold flex" title="Share this resource">                <span>🔗</span>                <span>Share</span>            </button>        </div>        <!-- Right: Help & Report -->        <div class="flex" >            <a href="/help.html" class="text-xs flex rounded-md" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'">                <span>💡</span>                <span>Help</span>            </a>            <button onclick="reportIssue()" class="bg-transparent text-xs flex rounded-md" onmouseover="this.style.background='#f3f4f6'" onmouseout="this.style.background='transparent'" title="Report an issue with this resource">                <span>🚩</span>                <span>Report Issue</span>            </button>        </div>    </div></div><!-- Toast Notification (for feedback) --><div id="action-toast" class="fixed rounded-xl shadow-xl" >    <span id="toast-message"></span></div><style>    @keyframes slideIn {        from {            transform: translateX(100%);            opacity: 0;        }        to {            transform: translateX(0);            opacity: 1;        }    }    .action-btn:hover {        transform: translateY(-2px);        box-shadow: 0 4px 12px rgba(0,0,0,0.15);    }    .action-btn:active {        transform: translateY(0);    }</style><script>    // Save to favorites    function saveFavorite() {        const resourcePath = window.location.pathname;        const resourceTitle = document.title;        // Try to save to localStorage (works without login)        try {            let favorites = JSON.parse(localStorage.getItem('te-kete-favorites') || '[]');            // Check if already saved            const exists = favorites.some(f => f.path === resourcePath);            if (exists) {                // Remove from favorites                favorites = favorites.filter(f => f.path !== resourcePath);                localStorage.setItem('te-kete-favorites', JSON.stringify(favorites));                document.getElementById('favorite-icon').textContent = '⭐';                showToast('Removed from My Kete');            } else {                // Add to favorites                favorites.push({                    path: resourcePath,                    title: resourceTitle,                    savedAt: new Date().toISOString()                });                localStorage.setItem('te-kete-favorites', JSON.stringify(favorites));                document.getElementById('favorite-icon').textContent = '🌟';                showToast('✅ Saved to My Kete!');            }        } catch (e) {            showToast('⚠️ Please enable localStorage to save favorites');        }    }    // Share resource    function shareResource() {        const url = window.location.href;        const title = document.title;        // Try Web Share API (works on mobile)        if (navigator.share) {            navigator.share({                title: title,                text: `Check out this resource from Te Kete Ako: ${title}`,                url: url            }).then(() => {                showToast('✅ Shared successfully!');            }).catch(() => {                // Fallback to copy                copyToClipboard(url);            });        } else {            // Fallback: Copy to clipboard            copyToClipboard(url);        }    }    // Copy URL to clipboard    function copyToClipboard(text) {        navigator.clipboard.writeText(text).then(() => {            showToast('🔗 Link copied to clipboard!');        }).catch(() => {            // Ultimate fallback: Show URL            showToast(`Share this link: ${text.substring(0, 50)}...`);        });    }    // Report an issue    function reportIssue() {        const subject = encodeURIComponent(`Issue with: ${document.title}`);        const body = encodeURIComponent(`Resource: ${window.location.href}\n\nDescribe the issue:\n\n`);        window.location.href = `/contact.html?subject=${subject}&body=${body}`;    }    // Show toast notification    function showToast(message) {        const toast = document.getElementById('action-toast');        const toastMessage = document.getElementById('toast-message');        toastMessage.textContent = message;        toast.style.display = 'block';        setTimeout(() => {            toast.style.display = 'none';        }, 3000);    }    // Check if this resource is already favorited on page load    window.addEventListener('DOMContentLoaded', () => {        try {            const favorites = JSON.parse(localStorage.getItem('te-kete-favorites') || '[]');            const currentPath = window.location.pathname;            const isFavorited = favorites.some(f => f.path === currentPath);            if (isFavorited) {                document.getElementById('favorite-icon').textContent = '🌟';            }        } catch (e) {            // Silent fail if localStorage not available        }    });</script>