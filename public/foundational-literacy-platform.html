<!DOCTYPE html><html lang="mi"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>üìö Mangakotukutuku Foundational Learning | Te Kete Ako</title>

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ‚≠ê COMPONENT STYLES -->
<link rel="stylesheet" href="/css/main.css">
<link rel="stylesheet" href="/css/navigation-standard.css">
<link rel="stylesheet" href="/css/mobile-revolution.css">
<link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->
<link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css">

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
    // Wait for Supabase CDN to load before initializing singleton
    window.addEventListener('DOMContentLoaded', () => {
        if (!window.supabase) {
            // Log to monitoring instead of console
            if (window.posthog) {
                posthog.capture('supabase_cdn_error', {
                    message: 'Supabase CDN failed to load',
                    url: window.location.pathname
                });
            }
        }
    });
</script>
<script src="/js/supabase-singleton.js"></script>
<!-- My Kete Database Integration - loads after singleton -->
<script src="/js/my-kete-database.js"></script>
<!-- Navigation Loader Singleton - loads after supabase setup -->
<script src="/js/navigation-loader.js"></script>
<!-- Component Loader - centralized async component management -->
<script src="/js/component-loader.js"></script>
<meta name="mobile-web-app-capable" content="yes"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"/>
<meta content="Te Kete Ako" name="apple-mobile-web-app-title"/>
<link href="/icons/icon-192x192.png" rel="apple-touch-icon"/>
<!-- ENHANCED SEARCH -->
<script src="/js/enhanced-search.js" defer></script>
<!-- MOBILE PERFORMANCE OPTIMIZER -->
<script src="/js/mobile-performance-optimizer.js" defer></script>
<!-- TOUCH TARGET AUDITOR -->
<script src="/js/touch-target-auditor.js" defer></script>
<!-- üé® ULTIMATE CULTURAL GESTURES - Framer Motion System -->
<script src="/js/framer-cultural-gestures-ultimate.js" defer></script>
<!-- Service Worker Registration -->
<script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('‚úÖ PWA: Service Worker registered!', registration);
                    })
                    .catch(error => {
                        // Log to monitoring instead of console
                        if (window.posthog) {
                            posthog.capture('pwa_service_worker_error', {
                                message: 'Service Worker registration failed',
                                error: error.message,
                                url: window.location.pathname
                            });
                        }
                    });
            });
        }
</script>

<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>



<meta name="robots" content="index, follow"/>
<meta name="googlebot" content="index, follow"/>
<meta name="theme-color" content="#1a4d2e"/>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Build strong literacy foundations">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- UNIFIED DESIGN SYSTEM -->
<!-- PWA Manifest -->
<link href="/manifest.json" rel="manifest"/>
<meta content="#1a4d2e" name="theme-color"/>

<!-- CSS - UNIFIED PROFESSIONAL DESIGN SYSTEM (CONSOLIDATED) -->
<!-- ‚≠ê PROFESSIONAL SYSTEM FIRST - Core design tokens -->
<link rel="stylesheet" href="/css/professionalization-system.css">

<!-- ‚≠ê THEME SYSTEM (Tailwind + Ultimate Beauty) -->
<link rel="stylesheet" href="/css/te-kete-professional.css"/>
<link rel="stylesheet" href="/css/te-kete-ultimate-beauty-system.css"/>

<!-- ‚≠ê COMPONENT STYLES -->
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/navigation-standard.css">
    <link rel="stylesheet" href="/css/mobile-revolution.css">
    <link rel="stylesheet" href="/css/mobile-first-classroom-tablets.css"/>

<!-- ‚≠ê PRINT STYLES (media="print" = only for printing) -->
    <link rel="stylesheet" href="/css/print.css" media="print"/>
<link rel="stylesheet" href="/css/print-professional.css" media="print"/>

<!-- ‚≠ê TAILWIND (Loads second-to-last - utilities only, NO DUPLICATES) -->
<link rel="stylesheet" href="/css/tailwind.css">

<!-- ‚≠ê CASCADE FIX (Loads LAST - overrides conflicting variables) -->
<link rel="stylesheet" href="/css/cascade-fix.css"><body data-auto-init="true" data-current-page="literacy" class="pattern-koru-subtle">    <!-- Professional Navigation -->    <div id="beautiful-nav-container"></div>    <script>        fetch('/components/navigation-standard.html')            .then(r => r.text())            .then(html => {                const div = document.createElement('div');                div.innerHTML = html;                document.body.insertBefore(div.firstElementChild, document.body.firstChild);            });    </script>    <!-- ADAPTIVE ACCESSIBILITY TOOLBAR -->    <div class="accessibility-toolbar">        <button class="accessibility-btn" onclick="toggleHighContrast()" title="High Contrast Mode" tabindex="0">            <span>üé®</span>        </button>        <button class="accessibility-btn" onclick="toggleDyslexiaFont()" title="Dyslexia-Friendly Font" tabindex="0">            <span>üìñ</span>        </button>        <button class="accessibility-btn" onclick="increaseFontSize()" title="Increase Font Size" tabindex="0">            <span>üîç</span>        </button>        <button class="accessibility-btn" onclick="toggleFocusMode()" title="Focus Mode" tabindex="0">            <span>üéØ</span>        </button>    </div>    <div class="container">        <!-- CULTURALLY RESPONSIVE HEADER -->                        <header class="site-header no-print">        <div class="nav-container">            <a href="../index.html" class="nav-brand">Te Kete Ako</a>            <nav class="main-nav">                <ul>                    <li>                        <a href="../unit-plans.html">                            <span class="nav-icon">üìö</span>                            <span class="nav-text-en">Unit Plans</span>                            <span class="nav-text-mi" lang="mi">NgƒÅ Waehere</span>                        </a>                    </li>                    <li>                        <a href="../teachers/index.html">                            <span class="nav-icon">üßë‚Äçüè´</span>                            <span class="nav-text-en">Teachers</span>                            <span class="nav-text-mi" lang="mi">NgƒÅ Kaiako</span>                        </a>                    </li>                    <li>                        <a href="../lessons.html">                            <span class="nav-icon">üéì</span>                            <span class="nav-text-en">Lessons</span>                            <span class="nav-text-mi" lang="mi">NgƒÅ Akoranga</span>                        </a>                    </li>                    <li>                        <a href="../handouts.html">                            <span class="nav-icon">üìÑ</span>                            <span class="nav-text-en">Handouts</span>                            <span class="nav-text-mi" lang="mi">NgƒÅ Rauemi</span>                        </a>                    </li>                    <li>                        <a href="../games.html">                            <span class="nav-icon">üéÆ</span>                            <span class="nav-text-en">Games</span>                            <span class="nav-text-mi" lang="mi">NgƒÅ Kƒìmu</span>                        </a>                    </li>                    <li class="auth-nav my-kete-link" style="display: none;">                        <a href="../my-kete.html">                            <span class="nav-icon">üß∫</span>                            My Kete                        </a>                    </li>                    <li class="auth-nav">                        <a href="../login.html" class="login-btn">                            <span class="nav-icon">üë§</span>                            Login                        </a>                    </li>                    <li class="auth-nav" style="display: none;">                        <a href="../register-simple.html" class="register-btn">                            <span class="nav-icon">üìù</span>                            Register                        </a>                    </li>                </ul>            </nav>            <nav class="breadcrumbs no-print" aria-label="Breadcrumb">                <ol id="breadcrumbs" class="breadcrumbs-list"></ol>            </nav>        </div>    </header>        <!-- STUDENT PROGRESS OVERVIEW -->        <section class="progress-section" id="progress-section">            <div class="progress-header">                <h2 class="progress-title">üéØ Your Learning Journey</h2>                <div class="progress-stats">                    <div class="stat-item">                        <div class="stat-number" id="streak-count">7</div>                        <div class="stat-label">Day Streak</div>                    </div>                    <div class="stat-item">                        <div class="stat-number" id="activities-completed">23</div>                        <div class="stat-label">Activities Done</div>                    </div>                    <div class="stat-item">                        <div class="stat-number" id="level">3</div>                        <div class="stat-label">Current Level</div>                    </div>                </div>            </div>            <div class="progress-bars">                <div class="progress-bar-container">                    <div class="progress-bar-label">üìö Reading & Writing</div>                    <div class="progress-bar">                        <div class="progress-fill" data-percentage="68%" style="width: 68%;"></div>                    </div>                </div>                <div class="progress-bar-container">                    <div class="progress-bar-label">üî¢ Numbers & Maths</div>                    <div class="progress-bar">                        <div class="progress-fill" data-percentage="45%" style="width: 45%;"></div>                    </div>                </div>                <div class="progress-bar-container">                    <div class="progress-bar-label">üåø Cultural Knowledge</div>                    <div class="progress-bar">                        <div class="progress-fill" data-percentage="82%" style="width: 82%;"></div>                    </div>                </div>            </div>        </section>        <!-- LEARNING MODULES GRID -->        <section class="modules-grid">            <!-- LITERACY MODULE -->            <div class="learning-module module-literacy" data-module="literacy">                <div class="module-header">                    <div class="module-icon">üìö</div>                    <div>                        <h2 class="module-title">Reading & Writing</h2>                        <p class="module-subtitle">Build strong literacy foundations</p>                        <div class="difficulty-indicator">                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot medium"></span>                            <span class="difficulty-dot"></span>                            <span class="difficulty-dot"></span>                        </div>                    </div>                </div>                <div class="activity-grid">                    <div class="activity-card large-touch-target" onclick="startActivity('phonics-fundamentals')" tabindex="0">                        <span class="activity-icon">üéµ</span>                        <div class="activity-title">Sound Patterns</div>                        <div class="activity-description">Learn letter sounds with cultural songs</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('sight-words')" tabindex="0">                        <span class="activity-icon">üëÅÔ∏è</span>                        <div class="activity-title">Important Words</div>                        <div class="activity-description">Recognize common words instantly</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('story-building')" tabindex="0">                        <span class="activity-icon">üìñ</span>                        <div class="activity-title">Story Builder</div>                        <div class="activity-description">Create stories about your life</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('writing-practice')" tabindex="0">                        <span class="activity-icon">‚úçÔ∏è</span>                        <div class="activity-title">Writing Practice</div>                        <div class="activity-description">Practice writing with fun prompts</div>                    </div>                </div>            </div>            <!-- NUMERACY MODULE -->            <div class="learning-module module-numeracy" data-module="numeracy">                <div class="module-header">                    <div class="module-icon">üî¢</div>                    <div>                        <h2 class="module-title">Numbers & Maths</h2>                        <p class="module-subtitle">Master basic numeracy skills</p>                        <div class="difficulty-indicator">                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot"></span>                            <span class="difficulty-dot"></span>                            <span class="difficulty-dot"></span>                        </div>                    </div>                </div>                <div class="activity-grid">                    <div class="activity-card large-touch-target" onclick="startActivity('counting-games')" tabindex="0">                        <span class="activity-icon">üé≤</span>                        <div class="activity-title">Counting Fun</div>                        <div class="activity-description">Learn numbers through games</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('basic-operations')" tabindex="0">                        <span class="activity-icon">‚ûï</span>                        <div class="activity-title">Add & Take Away</div>                        <div class="activity-description">Simple addition and subtraction</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('shape-patterns')" tabindex="0">                        <span class="activity-icon">üî∫</span>                        <div class="activity-title">Shapes & Patterns</div>                        <div class="activity-description">Geometry with cultural designs</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('real-world-maths')" tabindex="0">                        <span class="activity-icon">üè™</span>                        <div class="activity-title">Everyday Maths</div>                        <div class="activity-description">Use maths in daily situations</div>                    </div>                </div>            </div>            <!-- CULTURAL LEARNING MODULE -->            <div class="learning-module module-cultural" data-module="cultural">                <div class="module-header">                    <div class="module-icon">üåø</div>                    <div>                        <h2 class="module-title">Cultural Connection</h2>                        <p class="module-subtitle">Learn through Te Ao MƒÅori</p>                        <div class="difficulty-indicator">                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot medium"></span>                            <span class="difficulty-dot"></span>                        </div>                    </div>                </div>                <div class="activity-grid">                    <div class="activity-card large-touch-target" onclick="startActivity('te-reo-basics')" tabindex="0">                        <span class="activity-icon">üó£Ô∏è</span>                        <div class="activity-title">Te Reo Words</div>                        <div class="activity-description">Learn MƒÅori language basics</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('cultural-stories')" tabindex="0">                        <span class="activity-icon">üìú</span>                        <div class="activity-title">MƒÅori Stories</div>                        <div class="activity-description">Traditional p≈´rƒÅkau and legends</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('whakapapa-tree')" tabindex="0">                        <span class="activity-icon">üå≥</span>                        <div class="activity-title">Family Tree</div>                        <div class="activity-description">Explore your connections</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('cultural-values')" tabindex="0">                        <span class="activity-icon">üíé</span>                        <div class="activity-title">MƒÅori Values</div>                        <div class="activity-description">Learn about aroha, mana, and more</div>                    </div>                </div>            </div>            <!-- ADAPTIVE GAMES MODULE -->            <div class="learning-module module-games" data-module="games">                <div class="module-header">                    <div class="module-icon">üéÆ</div>                    <div>                        <h2 class="module-title">Learning Games</h2>                        <p class="module-subtitle">Fun activities that adapt to you</p>                        <div class="difficulty-indicator">                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot active"></span>                            <span class="difficulty-dot"></span>                            <span class="difficulty-dot"></span>                        </div>                    </div>                </div>                <div class="activity-grid">                    <div class="activity-card large-touch-target" onclick="startActivity('word-adventures')" tabindex="0">                        <span class="activity-icon">üó∫Ô∏è</span>                        <div class="activity-title">Word Adventures</div>                        <div class="activity-description">Explore literacy through quests</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('number-puzzles')" tabindex="0">                        <span class="activity-icon">üß©</span>                        <div class="activity-title">Number Puzzles</div>                        <div class="activity-description">Solve maths challenges</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('memory-games')" tabindex="0">                        <span class="activity-icon">üß†</span>                        <div class="activity-title">Memory Training</div>                        <div class="activity-description">Strengthen concentration skills</div>                    </div>                    <div class="activity-card large-touch-target" onclick="startActivity('creative-challenges')" tabindex="0">                        <span class="activity-icon">üé®</span>                        <div class="activity-title">Creative Challenges</div>                        <div class="activity-description">Express yourself through learning</div>                    </div>                </div>            </div>        </section>        <!-- WHƒÄNAU ENGAGEMENT SECTION -->        <section class="whanau-section">            <h2 class="whanau-title">üè† WhƒÅnau & Family Connection</h2>            <p style="margin-bottom: 25px; color: #666;">                Learning is stronger when whƒÅnau are involved. Here's how families can support the journey.            </p>            <div class="whanau-features">                <div class="whanau-feature">                    <span class="whanau-icon">üìä</span>                    <h3>Progress Updates</h3>                    <p>Weekly reports in Te Reo and English showing what your child is learning and how they're growing.</p>                </div>                <div class="whanau-feature">                    <span class="whanau-icon">üè†</span>                    <h3>Home Activities</h3>                    <p>Fun activities to do together at home that reinforce learning and strengthen cultural connections.</p>                </div>                <div class="whanau-feature">                    <span class="whanau-icon">üí¨</span>                    <h3>Teacher Connection</h3>                    <p>Direct communication with teachers to discuss progress, challenges, and celebrate successes.</p>                </div>                <div class="whanau-feature">                    <span class="whanau-icon">üéØ</span>                    <h3>Goal Setting</h3>                    <p>Work together to set learning goals that honor both academic growth and cultural identity.</p>                </div>            </div>        </section>    </div>    <script>        // FOUNDATIONAL LITERACY/NUMERACY PLATFORM        // Designed for Mangakotukutuku College junior students        // Neurodivergent-friendly, culturally responsive, trauma-informed        // ADAPTIVE INTERFACE STATE        let interfaceState = {            highContrast: false,            dyslexiaFont: false,            fontSize: 1,            focusMode: false        };        // STUDENT PROGRESS DATA        let studentProgress = {            literacy: { level: 3, progress: 68, activities: 15 },            numeracy: { level: 2, progress: 45, activities: 8 },            cultural: { level: 4, progress: 82, activities: 12 },            streak: 7,            totalActivities: 23        };        // INITIALIZE PLATFORM        function initPlatform() {            console.log('üìö Initializing Foundational Learning Platform for Mangakotukutuku College...');            loadUserPreferences();            updateProgressDisplay();            setupKeyboardNavigation();            initializeAccessibilityFeatures();            // DEPLOY MULTIPLE DEEPSEEK AGENTS for adaptive content            deployAdaptiveLearningAgents();            // User feedback provided via UI        }        // ACCESSIBILITY FUNCTIONS        function toggleHighContrast() {            interfaceState.highContrast = !interfaceState.highContrast;            document.body.classList.toggle('high-contrast-mode', interfaceState.highContrast);            if (interfaceState.highContrast) {                document.body.style.background = '#ffffff';                document.body.style.color = '#000000';            } else {                document.body.style.background = '';                document.body.style.color = '';            }            saveUserPreferences();            announceChange('High contrast mode ' + (interfaceState.highContrast ? 'enabled' : 'disabled'));        }        function toggleDyslexiaFont() {            interfaceState.dyslexiaFont = !interfaceState.dyslexiaFont;            document.body.classList.toggle('neurodivergent-friendly', interfaceState.dyslexiaFont);            saveUserPreferences();            announceChange('Dyslexia-friendly font ' + (interfaceState.dyslexiaFont ? 'enabled' : 'disabled'));        }        function increaseFontSize() {            interfaceState.fontSize = interfaceState.fontSize >= 1.5 ? 1 : interfaceState.fontSize + 0.1;            document.body.style.fontSize = interfaceState.fontSize + 'rem';            saveUserPreferences();            announceChange('Font size changed to ' + Math.round(interfaceState.fontSize * 100) + '%');        }        function toggleFocusMode() {            interfaceState.focusMode = !interfaceState.focusMode;            document.body.classList.toggle('focus-mode', interfaceState.focusMode);            if (interfaceState.focusMode) {                // Hide non-essential elements, reduce animations                document.querySelector('.cultural-pattern').style.backgroundImage = 'none';                document.querySelectorAll('.learning-module').forEach(module => {                    module.style.transition = 'none';                });            } else {                document.querySelector('.cultural-pattern').style.backgroundImage = '';                document.querySelectorAll('.learning-module').forEach(module => {                    module.style.transition = '';                });            }            saveUserPreferences();            announceChange('Focus mode ' + (interfaceState.focusMode ? 'enabled' : 'disabled'));        }        function announceChange(message) {            // Create accessible announcement for screen readers            const announcement = document.createElement('div');            announcement.setAttribute('aria-live', 'polite');            announcement.setAttribute('aria-atomic', 'true');            announcement.style.position = 'absolute';            announcement.style.left = '-10000px';            announcement.textContent = message;            document.body.appendChild(announcement);            setTimeout(() => {                document.body.removeChild(announcement);            }, 1000);        }        // ACTIVITY LAUNCHER        async function startActivity(activityId) {            console.log(`üéØ Starting activity: ${activityId}`);            // Show loading state            showActivityLoading(activityId);            try {                // DEPLOY DEEPSEEK AGENTS for adaptive content generation                const adaptiveContent = await generateAdaptiveContent(activityId);                // Launch activity with personalized content                launchActivityInterface(activityId, adaptiveContent);            } catch (error) {                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('javascript_error', {
                error: err.message,
                url: window.location.pathname
            }));
        }
        // Show user-friendly message instead of error
        showActivityError(activityId);            }        }        async function generateAdaptiveContent(activityId) {            console.log('ü§ñ Deploying DeepSeek agents for adaptive content generation...');            try {                const response = await fetch('/.netlify/functions/deepseek-multi-agent-orchestra', {                    method: 'POST',                    headers: { 'Content-Type': 'application/json' },                    body: JSON.stringify({                        task: `Generate adaptive learning content for activity "${activityId}" specifically designed for Mangakotukutuku College junior students. Consider neurodivergent-friendly approaches, cultural responsiveness, and foundational literacy/numeracy needs. Include multiple difficulty levels and engagement strategies.`,                        context: {                            role: 'adaptive_content_generator',                            focus: 'foundational_skills',                            activity: activityId,                            student_level: determineStudentLevel(activityId),                            learning_differences: ['ADHD', 'dyslexia', 'processing_differences'],                            cultural_integration: 'high',                            source: 'foundational_platform'                        },                        priority: 'high',                        agentCount: 4                    })                });                if (response.ok) {                    const data = await response.json();                    return data.orchestration || {};                } else {                    throw new Error('Adaptive content generation failed');                }            } catch (error) {                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('javascript_error', {
                error: err.message,
                url: window.location.pathname
            }));
        }
        // Show user-friendly message instead of error
        return generateFallbackContent(activityId);            }        }        function determineStudentLevel(activityId) {            const activityModule = getActivityModule(activityId);            return studentProgress[activityModule]?.level || 1;        }        function getActivityModule(activityId) {            const activityModuleMap = {                'phonics-fundamentals': 'literacy',                'sight-words': 'literacy',                'story-building': 'literacy',                'writing-practice': 'literacy',                'counting-games': 'numeracy',                'basic-operations': 'numeracy',                'shape-patterns': 'numeracy',                'real-world-maths': 'numeracy',                'te-reo-basics': 'cultural',                'cultural-stories': 'cultural',                'whakapapa-tree': 'cultural',                'cultural-values': 'cultural'            };            return activityModuleMap[activityId] || 'literacy';        }        function generateFallbackContent(activityId) {            const fallbackContent = {                'phonics-fundamentals': {                    title: 'Sound Patterns with MƒÅori Songs',                    description: 'Learn letter sounds through traditional MƒÅori waiata',                    activities: ['Letter-sound matching', 'Rhythm clapping', 'Cultural songs'],                    cultural_context: 'Traditional MƒÅori pronunciation guides'                },                'counting-games': {                    title: 'Counting with Cultural Context',                    description: 'Learn numbers using MƒÅori counting systems',                    activities: ['Base-5 counting', 'Number patterns', 'Cultural counting songs'],                    cultural_context: 'Traditional MƒÅori mathematics concepts'                }            };            return fallbackContent[activityId] || {                title: 'Learning Activity',                description: 'Adaptive learning experience',                activities: ['Interactive content', 'Cultural connections', 'Progress tracking']            };        }        function launchActivityInterface(activityId, content) {            // Create modal or navigate to activity page            console.log(`üöÄ Launching ${activityId} with adaptive content:`, content);            // For demo, show alert - in production would launch full activity            alert(`üéØ Launching ${activityId}!\n\nAdaptive content ready with:\n‚Ä¢ ${content.title || 'Interactive learning'}\n‚Ä¢ Cultural integration\n‚Ä¢ Neurodivergent-friendly design\n‚Ä¢ Progress tracking`);            // Update progress            updateActivityProgress(activityId);        }        function updateActivityProgress(activityId) {            const module = getActivityModule(activityId);            studentProgress[module].activities += 1;            studentProgress.totalActivities += 1;            // Update progress bars            updateProgressDisplay();            // Save progress            localStorage.setItem('mangakotukutuku_progress', JSON.stringify(studentProgress));        }        function showActivityLoading(activityId) {            // Show loading indicator            const loadingMessage = document.createElement('div');            loadingMessage.id = 'activity-loading';            loadingMessage.innerHTML = `                <div style="top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 30px; border-radius: 15px; box-shadow: 0 20px 40px rgba(0,0,0,0.2); z-index: 2000;">                    <div class="loading-shimmer" class="m-0" style="width: 50px; border-radius: 50%; margin: 0 auto 20px;"</div>                    <p >ü§ñ AI agents preparing your activity...</p>                    <p style="color: #666;">Creating personalized content just for you!</p>                </div>                <div style="top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1999;"></div>            `;            document.body.appendChild(loadingMessage);        }        function showActivityError(activityId) {            const loading = document.getElementById('activity-loading');            if (loading) loading.remove();            alert('üîß This activity is being prepared by our AI agents. Please try again in a moment!');        }        function updateProgressDisplay() {            document.getElementById('streak-count').textContent = studentProgress.streak;            document.getElementById('activities-completed').textContent = studentProgress.totalActivities;            document.getElementById('level').textContent = Math.max(                studentProgress.literacy.level,                studentProgress.numeracy.level,                studentProgress.cultural.level            );        }        // DEPLOYMENT OF ADAPTIVE LEARNING AGENTS        async function deployAdaptiveLearningAgents() {            // User feedback provided via UI            try {                const response = await fetch('/.netlify/functions/deepseek-multi-agent-orchestra', {                    method: 'POST',                    headers: { 'Content-Type': 'application/json' },                    body: JSON.stringify({                        task: 'Initialize adaptive learning system for Mangakotukutuku College foundational platform. Analyze current student progress, identify learning needs, and recommend personalized content adaptations.',                        context: {                            role: 'adaptive_learning_coordinator',                            focus: 'continuous_optimization',                            student_progress: studentProgress,                            interface_preferences: interfaceState,                            source: 'platform_initialization'                        },                        priority: 'medium',                        agentCount: 3                    })                });                if (response.ok) {                    const data = await response.json();                    // User feedback provided via UI                    // Apply any immediate recommendations                    if (data.orchestration?.practical_steps) {                        console.log('üìã AI Recommendations:', data.orchestration.practical_steps);                    }                }            } catch (error) {                // Log to monitoring instead of console
        if (window.posthog) {
            posthog.capture('javascript_error', {
                error: err.message,
                url: window.location.pathname
            }));
        }
        // Show user-friendly message instead of error
        }        }        // KEYBOARD NAVIGATION SUPPORT        function setupKeyboardNavigation() {            document.addEventListener('keydown', (e) => {                // Tab navigation enhancement                if (e.key === 'Tab') {                    document.querySelectorAll('.activity-card, .accessibility-btn').forEach(el => {                        el.addEventListener('focus', () => {                            el.classList.add('focus-outline');                        });                        el.addEventListener('blur', () => {                            el.classList.remove('focus-outline');                        });                    });                }                // Enter key activation                if (e.key === 'Enter' && document.activeElement.classList.contains('activity-card')) {                    document.activeElement.click();                }            });        }        function initializeAccessibilityFeatures() {            // Add ARIA labels and descriptions            document.querySelectorAll('.activity-card').forEach(card => {                const title = card.querySelector('.activity-title').textContent;                const description = card.querySelector('.activity-description').textContent;                card.setAttribute('aria-label', `${title}: ${description}`);                card.setAttribute('role', 'button');            });            // Add skip links for keyboard users            const skipLink = document.createElement('a');            skipLink.href = '#main-content';            skipLink.textContent = 'Skip to main content';            skipLink.style.position = 'absolute';            skipLink.style.left = '-10000px';            skipLink.addEventListener('focus', () => {                skipLink.style.left = '0';                skipLink.style.top = '0';                skipLink.style.zIndex = '10000';                skipLink.style.background = 'white';                skipLink.style.padding = '10px';            });            skipLink.addEventListener('blur', () => {                skipLink.style.left = '-10000px';            });            document.body.insertBefore(skipLink, document.body.firstChild);        }        function loadUserPreferences() {            const saved = localStorage.getItem('mangakotukutuku_preferences');            if (saved) {                interfaceState = { ...interfaceState, ...JSON.parse(saved) };                // Apply saved preferences                if (interfaceState.highContrast) toggleHighContrast();                if (interfaceState.dyslexiaFont) toggleDyslexiaFont();                if (interfaceState.fontSize !== 1) {                    document.body.style.fontSize = interfaceState.fontSize + 'rem';                }                if (interfaceState.focusMode) toggleFocusMode();            }            // Load progress            const savedProgress = localStorage.getItem('mangakotukutuku_progress');            if (savedProgress) {                studentProgress = { ...studentProgress, ...JSON.parse(savedProgress) };            }        }        function saveUserPreferences() {            localStorage.setItem('mangakotukutuku_preferences', JSON.stringify(interfaceState));        }        // Initialize platform when page loads        document.addEventListener('DOMContentLoaded', initPlatform);    </script>    <!-- Footer -->    <div id="footer-component"></div>    <script>        fetch('/components/footer.html').then(r=>r.text()).then(html=>{            document.getElementById('footer-component').innerHTML=html;        });    </script><!-- üé® ULTIMATE BEAUTY SYSTEM: Complete UX --><!-- Footer --><div id="footer-container"></div><script>  fetch('/components/footer.html').then(r=>r.text()).then(html=>{    document.getElementById('footer-container').innerHTML=html;  });</script><!-- Mobile Navigation --><div id="mobile-nav-bottom"></div><script>  fetch('/components/mobile-bottom-nav.html').then(r=>r.text()).then(html=>{    document.getElementById('mobile-nav-bottom').innerHTML=html;  });</script><!-- Floating Action Button (Help) --><div id="fab-quick-actions"></div><script>  fetch('/components/quick-actions-fab.html').then(r=>r.text()).then(html=>{    document.getElementById('fab-quick-actions').innerHTML=html;  });</script><!-- üé® ULTIMATE BEAUTY: Framer Cultural Gestures --><script src="/js/framer-cultural-gestures-ultimate.js" defer></script><!-- üìä ULTIMATE BEAUTY: PostHog Analytics (Privacy-First) --><script src="/js/posthog-analytics.js" defer></script></body></html>